webpackJsonp([1],{"/9Yv":function(e,t){},"1/oy":function(e,t){},"2+Bm":function(e,t,a){"use strict";var s=a("FLAC"),n={},i={name:"octicon",props:{name:{type:String,validator:function(e){return e?e in n:null}},scale:[Number,String],spin:Boolean,inverse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(Object(s.a)('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},clazz:function(){return{octicon:!0,"octicon-spin":this.spin,"octicon-flip-horizontal":"horizontal"===this.flip,"octicon-flip-vertical":"vertical"===this.flip,"octicon-inverse":this.inverse}},icon:function(){return this.name?n[this.name]:null},box:function(){return this.icon?this.icon.viewBox?this.icon.viewBox:"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},width:function(){return this.childrenWidth||this.icon&&this.icon.width*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}}},mounted:function(){var e=this;if(!this.icon){this.$children.forEach(function(t){t.outerScale=e.normalizedScale});var t=0,a=0;this.$children.forEach(function(e){t=Math.max(t,e.width),a=Math.max(a,e.height)}),this.childrenWidth=t,this.childrenHeight=a,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(a-e.height)/2})}},register:function(e){for(var t in e)n[t]=e[t]},icons:n},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{class:e.clazz,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon?a("path",{attrs:{d:e.icon.d}}):e._e()])],2)},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(e){a("csa/")},null,null);t.a=r.exports},"5W1q":function(e,t){},"9M+g":function(e,t){},"9tv0":function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"h-100",attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},i=a("VU/8")({name:"app"},n,!1,null,null,null).exports,o=a("/ocq"),r=a("Dd8w"),c=a.n(r),l=a("M4fF"),d=a.n(l),u=a("2+Bm"),m=a("NYxO"),p=a("lII0"),E=new s.a,b={name:"Modal",created:function(){E.$on("show",this.show)},destroy:function(){E.$off("show",this.show)},data:function(){return{type:"approval",header:"",message:"",strongMessage:"",event:null,eventParams:{},value:"",isShowed:!1}},computed:{isApprovalType:function(){return"approval"===this.type},isCreatorType:function(){return"creator"===this.type}},methods:{show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,a=e.header,s=e.message,n=e.strongMessage,i=e.event,o=e.eventParams;this.type=t||"approval",this.header=a||"",this.message=s||"",this.strongMessage=n||"",this.event=i||"",this.eventParams=o||{},this.isShowed=!0},onConfirm:function(e){e.preventDefault(),this.event&&(this.isApprovalType&&this.$emit(this.event,this.eventParams),this.isCreatorType&&this.$emit(this.event,c()({},this.eventParams,{value:this.value}))),this.value="",this.isShowed=!1}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{centered:"",title:e.header},on:{ok:e.onConfirm},model:{value:e.isShowed,callback:function(t){e.isShowed=t},expression:"isShowed"}},[a("center",[e._v(e._s(e.message))]),e._v(" "),a("br"),e._v(" "),e.isApprovalType?a("center",[a("strong",[e._v(e._s(e.strongMessage))])]):e._e(),e._v(" "),e.isCreatorType?a("b-form-input",{attrs:{size:"sm",type:"text",placeholder:"Enter a name"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},staticRenderFns:[]},f=a("VU/8")(b,h,!1,null,null,null).exports,S=f,g={root:"/",namespaces:"/namespaces",items:"/items",indexes:"/indexes",queries:"/query"},A={name:"NavHeader",components:{Octicon:u.a},props:{databaseSelected:{type:String,default:""},databases:{type:Array,default:function(){return[]}}},data:function(){return{webroutes:g,newDatabase:""}},computed:{database:function(){if(!this.databaseSelected&&!d.a.isEmpty(this.databases)){var e=this.databases[0];return this.$emit("onDatabaseSelect",e),e}return this.databaseSelected},databasesListIsEmpty:function(){return d.a.isEmpty(this.databases)},isNewDatabaseEmpty:function(){return d.a.isEmpty(this.newDatabase)},isDatabaseSelected:function(){return!d.a.isEmpty(this.databaseSelected)}},mounted:function(){this.$emit("onDataLoad")},methods:{onDatabaseSelect:function(e){this.databaseSelected!==e&&this.$emit("onDatabaseSelect",e)},onDatabaseCreate:function(e){this.$store.dispatch("dbs/createDb",e)},onDatabaseDeleteQuestion:function(e){this.$modal.show({header:"Are you sure?",message:"This action will cause a removal of the database:",strongMessage:e,event:"onDatabaseDelete",eventParams:e})}},watch:{databases:function(e){if(!e.includes(this.database)){var t=d.a.isEmpty(this.databases[0])?"":this.databases[0];d.a.isEmpty(t)?this.$refs.dbcreate.visible=!0:this.$emit("onDatabaseSelect",t)}}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark header-panel fixed-top"},[s("b-navbar-brand",{staticClass:"header-brand",attrs:{href:"#",to:e.webroutes.root}},[s("img",{attrs:{src:a("mxeB")}}),e._v("Reindexer Face")]),e._v(" "),s("b-navbar-nav",{staticClass:"header-menu"},[s("b-nav-item",{attrs:{href:"#",to:e.webroutes.items,exact:""}},[e._v("Items")]),e._v(" "),s("b-nav-item",{attrs:{href:"#",to:e.webroutes.namespaces,exact:""}},[e._v("Namespace")]),e._v(" "),s("b-nav-item",{attrs:{href:"#",to:e.webroutes.queries,exact:""}},[e._v("Query")])],1),e._v(" "),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-button-group",[s("b-dropdown",{staticClass:"header-database-select-button",attrs:{disabled:e.databasesListIsEmpty,variant:"dark",text:e.databaseSelected||e.database}},[s("b-dropdown-header",[e._v("Databases")]),e._v(" "),e._l(e.databases,function(t,a){return s("b-dropdown-item-button",{key:a,on:{click:function(a){e.onDatabaseSelect(t)}}},[e._v(e._s(t))])})],2),e._v(" "),s("b-dropdown",{ref:"dbcreate",staticClass:"header-database-create-button",attrs:{variant:"dark",size:"md","no-caret":""}},[s("template",{slot:"button-content"},[s("octicon",{staticClass:"mt-1",attrs:{name:"plus",scale:"1"}})],1),e._v(" "),s("b-container",{staticClass:"header-database-dropdown-menu mt-2 mb-3"},[s("b-row",[s("b-col",{attrs:{cols:"8"}},[s("b-form-input",{attrs:{variant:"primary",size:"sm",type:"text",placeholder:"New database"},model:{value:e.newDatabase,callback:function(t){e.newDatabase=t},expression:"newDatabase"}})],1),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("b-button",{attrs:{size:"sm",variant:"success",disabled:e.isNewDatabaseEmpty},on:{click:function(t){e.onDatabaseCreate(e.newDatabase)}}},[e._v("Create")])],1)],1)],1)],2),e._v(" "),s("b-button",{attrs:{size:"sm",variant:"dark",disabled:!e.isDatabaseSelected},on:{click:function(t){e.onDatabaseDeleteQuestion(e.database)}}},[s("octicon",{staticClass:"mt-1",attrs:{name:"trashcan",scale:"1"}})],1)],1)],1)],1)])},staticRenderFns:[]};var C=a("VU/8")(A,v,!1,function(e){a("/9Yv")},"data-v-900faee8",null).exports,_=a("i8Yg"),w={name:"SideBar",components:{Scrolly:_.a,ScrollyViewport:_.c,ScrollyBar:_.b,Octicon:u.a},data:function(){return{newNamespace:""}},props:{items:{type:Array,default:function(){return[]}},iconsSet:{type:Array,default:function(){return[]}},selectedNamespace:{type:String,default:""},isOpened:{type:Boolean,default:!1},isItemsLoading:{type:Boolean,default:!1},isSelectedLoading:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},computed:{isNamespaceSelected:function(){return d.a.size(this.selectedNamespace)},isNewNamespaceEmpty:function(){return d.a.isEmpty(this.newNamespace)}},mounted:function(){this.onDataLoad()},methods:{isSpinnable:function(e){return e===this.selectedNamespace&&this.isSelectedLoading},itemIconSelect:function(e){return this.iconsSet[e]?this.iconsSet[e]:""},mouseOver:function(){this.active=!this.active},onToggle:function(){this.$emit("onToggle")},onDataLoad:function(){this.$emit("onDataLoad")},onNamespaceSelect:function(e){this.$emit("onNamespaceSelect",e)},onNamespaceDelete:function(e){this.$emit("onNamespaceDelete",e)},onNamespaceCreate:function(){this.$emit("onNamespaceCreate")}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-container bg-dark",class:{"sidebar-container-max":e.isOpened}},[a("button",{staticClass:"btn-block sidebar-toggler text-muted",on:{click:e.onToggle}},[a("octicon",{staticClass:"sidebar-icon",attrs:{name:"grabber",scale:"3"}})],1),e._v(" "),e.isOpened?a("div",{staticClass:"sidebar-control-panel"},[a("button",{staticClass:"sidebar-panel-button sidebar-panel-button-left text-white float-left",class:{"sidebar-panel-button-disabled":e.isDisabled||!e.isNamespaceSelected},on:{click:function(t){e.onNamespaceDelete(e.selectedNamespace)}}},[a("octicon",{attrs:{name:"trashcan",scale:"2"}})],1),e._v(" "),a("button",{staticClass:"sidebar-panel-button sidebar-panel-button-left text-white",class:{"sidebar-panel-button-disabled":e.isDisabled},on:{click:e.onNamespaceCreate}},[a("octicon",{attrs:{name:"plus",scale:"2"}})],1),e._v(" "),a("button",{staticClass:"sidebar-panel-button sidebar-panel-button-right text-white float-right",class:{"sidebar-panel-button-disabled":e.isDisabled},on:{click:e.onDataLoad}},[a("octicon",{attrs:{name:"sync",scale:"2",spin:e.isItemsLoading}})],1)]):e._e(),e._v(" "),a("div",{staticClass:"sidebar-items-list",class:{"sidebar-hide":!e.isOpened}},[a("scrolly",{staticClass:"sidebar-scroll-container"},[a("scrolly-viewport",[a("ul",{staticClass:"list-unstyled"},e._l(e.items,function(t,s){return a("li",{staticClass:"item",class:{"item-active":e.selectedNamespace===t},on:{mouseover:e.mouseOver}},[a("a",{staticClass:"link",on:{click:function(a){e.onNamespaceSelect(t)}}},[a("span",{staticClass:"text item-text"},[e._v(e._s(t))])])])}))]),e._v(" "),a("scrolly-bar",{attrs:{axis:"y"}})],1)],1)])},staticRenderFns:[]};var T=a("VU/8")(w,I,!1,function(e){a("9tv0")},"data-v-03ffa396",null).exports,y={name:"default-layout",components:{Modal:S,Octicon:u.a,Sidebar:T,Toast:p.Toast,NavHeader:C},computed:c()({},Object(m.d)({isSidebarOpened:function(e){return e.settings.isSidebarOpened},sidebarItems:function(e){return e.namespaces.list.map(function(e){return e.name})},sidebarIcons:function(e){return e.namespaces.list.map(function(e){return e.storage_enabled?"database":"flame"})},databases:function(e){return e.dbs.list},database:function(e){return e.settings.database},namespace:function(e){return e.settings.namespace},sidebarIsLoading:function(e){return e.namespaces.isLoading},sidebarIsSelectedLoading:function(e){return e.items.isLoading},sidebarIsDisabled:function(e){return d.a.isEmpty(e.settings.database)}})),methods:c()({},Object(m.b)({selectDatabase:"settings/selectDatabase",fetchDatabases:"dbs/getDbList",fetchNamespaces:"namespaces/getNamespacesList",onSidebarSelectItem:"settings/selectNamespace",onSidebarToggle:"settings/sidebarToggle",resetNamespaces:"namespaces/reset",resetItems:"items/reset",resetSelectedNamespace:"settings/resetSelectedNamespace"}),{onSidebarDataLoad:function(){this.database&&this.fetchNamespaces(this.database)},onDatabaseSelect:function(e){var t=this;this.resetNamespaces(),this.resetItems(),this.resetSelectedNamespace(),this.selectDatabase(e).then(function(){return t.fetchNamespaces(t.database)})},onNamespaceSelect:function(e){var t=this,a={db:this.database,namespace:e};this.onSidebarSelectItem(e),this.$store.dispatch("items/setItemsParams",{}).then(function(){t.$store.dispatch("items/getItemsList",a)}),this.$store.dispatch("namespaces/getNamespaceOne",a)},onNamespaceDeleteQuestion:function(e){var t={db:this.database,namespace:e};this.$modal.show({header:"Are you sure?",message:"This action will cause a removal of the namespace:",strongMessage:e,event:"onNamespaceDelete",eventParams:t})},onNamespaceCreateQuestion:function(e){var t={db:this.database};this.$modal.show({type:"creator",header:"Create",message:"This action will create a namespace:",strongMessage:e,event:"onNamespaceCreate",eventParams:t})},onDatabaseDelete:function(e){this.$store.dispatch("dbs/deleteDb",e)},onNamespaceCreate:function(e){var t={db:e.db,json:{name:e.value,storage:{enabled:!0,drop_on_file_format_error:!0,create_if_missing:!0},indexes:[]}};this.$store.dispatch("namespaces/createNamespace",t)},onNamespaceDelete:function(e){this.$store.dispatch("namespaces/deleteNamespace",e)},onItemDelete:function(e){var t={db:this.database,namespace:this.namespace,item:e};this.$store.dispatch("items/deleteItem",t)},onItemUpdate:function(e){var t={db:this.database,namespace:this.namespace,item:e};this.$store.dispatch("items/updateItem",t)},onItemCreate:function(e){var t={db:this.database,namespace:this.namespace,item:e};this.$store.dispatch("items/createItem",t)},onIndexDelete:function(e){var t={db:this.database,namespace:this.namespace,index:e};this.$store.dispatch("namespaces/deleteIndex",t)},onIndexCreate:function(e){var t={db:this.database,namespace:this.namespace,index:e};this.$store.dispatch("namespaces/createIndex",t)}}),watch:{database:function(e){this.fetchNamespaces(e)}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav-header",{attrs:{databases:e.databases,databaseSelected:e.database},on:{onDataLoad:e.fetchDatabases,onDatabaseSelect:e.onDatabaseSelect}}),e._v(" "),a("modal",{on:{onDatabaseDelete:e.onDatabaseDelete,onNamespaceDelete:e.onNamespaceDelete,onNamespaceCreate:e.onNamespaceCreate,onItemDelete:e.onItemDelete,onItemCreate:e.onItemCreate,onItemUpdate:e.onItemUpdate,onIndexDelete:e.onIndexDelete,onIndexCreate:e.onIndexCreate}}),e._v(" "),a("div",{staticClass:"content-container",class:{"content-container-min":e.isSidebarOpened}},[a("sidebar",{attrs:{items:e.sidebarItems,iconsSet:e.sidebarIcons,selectedNamespace:e.namespace,isOpened:e.isSidebarOpened,isItemsLoading:e.sidebarIsLoading,isSelectedLoading:e.sidebarIsSelectedLoading,isDisabled:e.sidebarIsDisabled},on:{onToggle:e.onSidebarToggle,onDataLoad:e.onSidebarDataLoad,onNamespaceSelect:e.onNamespaceSelect,onNamespaceDelete:e.onNamespaceDeleteQuestion,onNamespaceCreate:e.onNamespaceCreateQuestion}}),e._v(" "),a("div",{staticClass:"page-content"},[e._t("page")],2),e._v(" "),a("toast",{attrs:{position:"se"}})],1)],1)},staticRenderFns:[]};var x=a("VU/8")(y,D,!1,function(e){a("taa8")},"data-v-b536aab8",null).exports,L={name:"MainPage",components:{DefaultLayout:x},data:function(){return{webroutes:g}}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("default-layout",[t("div",{attrs:{slot:"page"},slot:"page"},[t("div",{staticClass:"container mt-5"},[t("b-jumbotron",{attrs:{header:"Reindexer Face",lead:"A tool that provides the most convenient way of your data management"}},[t("p",[this._v("Just try and enjoy!")]),this._v(" "),t("b-btn",{attrs:{variant:"primary",href:"#",to:this.webroutes.items}},[this._v("Get started!")])],1)],1)])])},staticRenderFns:[]},M=a("VU/8")(L,N,!1,null,null,null).exports,P={name:"Preloader",props:{isLoading:{type:Boolean,default:!1}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{aligner:e.isLoading}},[e.isLoading?a("div",{attrs:{id:"floatingCirclesG"}},[a("div",{staticClass:"f_circleG",attrs:{id:"frotateG_01"}}),e._v(" "),a("div",{staticClass:"f_circleG",attrs:{id:"frotateG_02"}}),e._v(" "),a("div",{staticClass:"f_circleG",attrs:{id:"frotateG_03"}}),e._v(" "),a("div",{staticClass:"f_circleG",attrs:{id:"frotateG_04"}}),e._v(" "),a("div",{staticClass:"f_circleG",attrs:{id:"frotateG_05"}}),e._v(" "),a("div",{staticClass:"f_circleG",attrs:{id:"frotateG_06"}}),e._v(" "),a("div",{staticClass:"f_circleG",attrs:{id:"frotateG_07"}}),e._v(" "),a("div",{staticClass:"f_circleG",attrs:{id:"frotateG_08"}})]):e._e()])},staticRenderFns:[]};var F=a("VU/8")(P,B,!1,function(e){a("qfRk")},"data-v-649d7d33",null).exports,X=a("mvHQ"),R=a.n(X),U=a("o4sT"),z=a.n(U),k={name:"DataTable",components:{Octicon:u.a,Editor:z.a},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}},itemTemplate:{type:String,default:""},totalItems:{type:Number,default:0},columns:{type:Array,default:function(){return[]}},paginatorLimitOptions:{type:Array,default:function(){return[10,25,50,100]},validator:function(e){return!e.some(isNaN)}},paginatorPagesMax:{type:Number,default:5},paginatorItemsPerPage:{type:Number,default:this.itemsSize},page:{type:Number,default:1},pageSize:{type:Number,default:10},selectedFields:{type:Array,default:function(){return[]}},sortableFields:{type:Array,default:function(){return[]}},isWithActions:{type:Boolean,default:!1},isUpdateAllowed:{type:Boolean,default:!1},isRemoveAllowed:{type:Boolean,default:!1},isCreateAllowed:{type:Boolean,default:!1},isPaginable:{type:Boolean,default:!1},isTotalShowed:{type:Boolean,default:!1},sortField:{type:String,default:""},sortDesc:{type:Boolean,default:!1},onSelectedFieldsChange:{type:Function,default:d.a.noop},onQuery:{type:Function,default:d.a.noop},onItemDelete:{type:Function,default:d.a.noop},onItemUpdate:{type:Function,default:d.a.noop},onItemCreate:{type:Function,default:d.a.noop}},data:function(){return{tableItems:d.a.cloneDeep(this.items),mutableItems:d.a.cloneDeep(this.items),tableSelectedFields:d.a.cloneDeep(this.selectedFields),tablePage:this.page,tablePageSize:this.pageSize,tableSortField:this.sortField,tableSortDesc:this.sortDesc,newItemJson:this.itemTemplate}},beforeUpdate:function(){this.tablePage=this.page,this.tablePageSize=this.pageSize,this.tableSortField=this.sortField,this.tableSortDesc=this.sortDesc,this.tableSelectedFields=this.selectedFields},computed:{fields:function(){return this.getFields()},pageSizeString:function(){return this.pageSize.toString()},itemsSize:function(){return d.a.size(this.items)},tableFieldsSelectedNotEmpty:function(){return!d.a.isEmpty(this.tableSelectedFields)},itemsPerPage:function(){return this.isPaginable?this.pageSize:this.paginatorItemsPerPage}},methods:{getFields:function(){var e=this;if(d.a.isEmpty(this.items))return[];var t=this.columns.reduce(function(t,a){if(!e.tableSelectedFields.includes(a))return t;var s=t;return s[a]={key:a,label:a,sortable:!d.a.isEmpty(e.sortableFields)&&e.sortableFields.includes(a),class:"datatable_column"},s},{});return this.isWithActions&&(t.show_details={key:"_actions",label:"Actions",class:"datatable_actions_column"}),t},getParams:function(){var e=this.tablePage,t=this.tablePageSize,a=this.tableSortField,s=this.tableSortDesc,n={page:e,pageSize:t};return a?c()({},n,{sortField:a,sortDesc:s}):n},onPageChange:function(e){this.tablePage=e;var t=this.getParams();this.onQuery(t)},onPageSizeChange:function(e){this.tablePage=1,this.tablePageSize=e;var t=this.getParams();this.onQuery(t)},onSortChange:function(e){var t=e.sortBy,a=e.sortDesc;this.tableSortField=t,this.tableSortDesc=a;var s=this.getParams();this.onQuery(s)},onDelete:function(e){this.onItemDelete(this.items[e])},onUpdate:function(e){this.onItemUpdate(this.mutableItems[e])},onCreate:function(e){var t=JSON.parse(e);this.onItemCreate(t)},onFieldSelect:function(e){if(this.tableSelectedFields.includes(e)){var t=this.tableSelectedFields.indexOf(e);this.tableSelectedFields.splice(t,1)}else this.tableSelectedFields.push(e);this.onSelectedFieldsChange(this.tableSelectedFields)},checkIsFieldSelected:function(e){return this.tableSelectedFields.includes(e)},prettyStringifyObject:function(e){return R()(e,null,"  ")},applyEditorChanges:function(e,t){var a={};try{a=JSON.parse(t)}catch(e){return}this.mutableItems[e]=a}},watch:{items:function(e){this.tableItems=d.a.cloneDeep(e),this.mutableItems=d.a.cloneDeep(e)},itemTemplate:function(e){this.newItemJson=e}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"datatable-container"},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[e.isCreateAllowed?a("b-dropdown",{staticClass:"float-left mr-2",attrs:{variant:"primary",size:"md","no-caret":"",left:""}},[a("template",{slot:"button-content"},[a("octicon",{staticClass:"mt-1",attrs:{name:"plus",scale:"1"}})],1),e._v(" "),a("editor",{staticClass:"editor m-2",attrs:{lang:"json",theme:"chrome",width:"810px",height:"450px"},model:{value:e.newItemJson,callback:function(t){e.newItemJson=t},expression:"newItemJson"}}),e._v(" "),a("div",{staticClass:"text-center"},[a("b-button",{staticClass:"mt-2 mb-2",attrs:{variant:"success",size:"md"},on:{click:function(t){t.stopPropagation(),e.onCreate(e.newItemJson)}}},[e._v("Create")])],1)],2):e._e(),e._v(" "),a("h4",{staticClass:"float-left"},[e._v(e._s(e.title))])],1),e._v(" "),a("b-col",{attrs:{cols:"6"}},[a("b-dropdown",{staticClass:"pull-right",attrs:{variant:"primary",text:"Columns"}},e._l(e.columns,function(t,s){return a("a",{key:s,staticClass:"dropdown-item datatable_custom_dropdown_item",attrs:{replace:""},on:{click:function(a){a.stopPropagation(),e.onFieldSelect(t)}}},[e.checkIsFieldSelected(t)?a("octicon",{attrs:{name:"check"}}):e._e(),e._v(e._s(t)+"\n        ")],1)}))],1)],1),e._v(" "),e.tableFieldsSelectedNotEmpty?a("b-table",{staticClass:"mt-2",attrs:{striped:"",bordered:"",hover:"",fixed:"",small:"","no-local-sorting":"",items:e.tableItems,fields:e.fields},on:{"sort-changed":e.onSortChange},scopedSlots:e._u([e._l(e.fields,function(t){return{key:t.key,fn:function(t){return[a("div",{staticClass:"datatable_item_wrapper"},[e._v("\n      "+e._s(t.value)+"\n    ")])]}}}),{key:"_actions",fn:function(t){return[a("b-button",{staticClass:"mr-2",attrs:{variant:t.detailsShowing?"primary":"",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.toggleDetails(e)}}},[a("octicon",{attrs:{name:"pencil"}})],1),e._v(" "),e.isRemoveAllowed?a("b-button",{staticClass:"mr-2",attrs:{variant:"danger",size:"sm"},on:{click:function(a){a.stopPropagation(),e.onDelete(t.index)}}},[a("octicon",{attrs:{name:"trashcan"}})],1):e._e()]}},{key:"row-details",fn:function(t){return[a("b-card",[a("editor",{staticClass:"editor mt-1",attrs:{value:e.prettyStringifyObject(e.mutableItems[t.index]),lang:"json",theme:"chrome",width:"100%",height:"400px"},on:{input:function(a){e.applyEditorChanges(t.index,a)}}}),e._v(" "),e.isUpdateAllowed?a("div",{staticClass:"text-center"},[a("b-button",{staticClass:"mt-2",attrs:{variant:"primary",size:"md"},on:{click:function(a){a.stopPropagation(),e.onUpdate(t.index)}}},[e._v("Update")])],1):e._e()],1)]}}])}):e._e(),e._v(" "),a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{cols:"4"}},[e.isTotalShowed?a("h6",[a("strong",[e._v("Total: "+e._s(e.totalItems||e.itemsSize))])]):e._e()]),e._v(" "),a("b-col",{staticClass:"text-center",attrs:{cols:"4"}},[e.isPaginable?a("b-dropdown",{attrs:{variant:"primary",text:e.pageSizeString}},e._l(e.paginatorLimitOptions,function(t){return a("b-dropdown-item",{key:t,on:{click:function(a){e.onPageSizeChange(t)}}},[e._v(e._s(t)+"\n        ")])})):e._e()],1),e._v(" "),a("b-col",{attrs:{cols:"4"}},[e.isPaginable?a("b-pagination",{staticClass:"float-right",attrs:{size:"md","hide-ellipsis":"",limit:e.paginatorPagesMax,"total-rows":e.totalItems,"per-page":e.itemsPerPage},on:{input:e.onPageChange},model:{value:e.tablePage,callback:function(t){e.tablePage=t},expression:"tablePage"}}):e._e()],1)],1)],1)},staticRenderFns:[]};var G=a("VU/8")(k,Q,!1,function(e){a("krhc")},null,null).exports,O={name:"NamespacesPage",components:{DefaultLayout:x,Preloader:F,DataTable:G},data:function(){var e={name:"",jsonPath:"",fieldType:"",indexType:"",collateMode:"",isPk:!1,isArray:!1,isDense:!1,isAppendable:!1};return{newIndex:c()({},e),newIndexTemplate:c()({},e)}},computed:c()({},Object(m.d)({db:function(e){return e.settings.database},namespace:function(e){return e.settings.namespace},namespaceOne:function(e){return e.namespaces.one},isLoading:function(e){return e.namespaces.isLoading}}),Object(m.c)({indexes:"namespaces/indexes",fields:"namespaces/indexFields"}),{namespaceOneExists:function(){return!d.a.isEmpty(this.namespaceOne)},indexesSize:function(){return d.a.size(this.indexes)},selectedFields:function(){return d.a.cloneDeep(this.fields)}}),methods:{onIndexDeleteQuestion:function(e){var t=e.name;this.$modal.show({header:"Are you sure?",message:"This action will cause a removal of the index:",strongMessage:t,event:"onIndexDelete",eventParams:t})},onIndexAddQuestion:function(e){this.$modal.show({header:"Are you sure?",message:"This action will create a new index:",strongMessage:e,event:"onIndexCreate",eventParams:e})}},watch:{namespaceOne:function(e){d.a.isEqual(this.namespaceOne,e)||(this.newIndex=d.a.copyDeep(this.newIndexTemplate))}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("default-layout",[a("div",{attrs:{slot:"page"},slot:"page"},[a("preloader",{staticClass:"preloader",attrs:{isLoading:e.isLoading}}),e._v(" "),e.db||e.isLoading?e._e():a("b-alert",{attrs:{show:""}},[e._v("Create a database")]),e._v(" "),e.db&&!e.namespace?a("b-alert",{attrs:{show:""}},[e._v("Select a namespace")]):e._e(),e._v(" "),a("h3",[e._v(e._s(e.namespace))]),e._v(" "),e.namespace&&e.indexesSize?a("data-table",{staticClass:"mt-5",attrs:{isWithActions:"",isRemoveAllowed:"",title:"Indexes",items:e.indexes,columns:e.selectedFields,selectedFields:e.selectedFields,onItemDelete:e.onIndexDeleteQuestion}}):e._e(),e._v(" "),e.namespaceOneExists?a("div",{staticClass:"d-flex flex-wrap align-content-stretch mt-5"},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",[a("b-input",{staticClass:"w-100",attrs:{placeholder:"Name"},model:{value:e.newIndex.name,callback:function(t){e.$set(e.newIndex,"name",t)},expression:"newIndex.name"}})],1),e._v(" "),a("b-col",[a("b-input",{attrs:{placeholder:"Json path"},model:{value:e.newIndex.jsonPath,callback:function(t){e.$set(e.newIndex,"jsonPath",t)},expression:"newIndex.jsonPath"}})],1),e._v(" "),a("b-col",[a("b-form-select",{attrs:{id:"field_type",value:null,options:["int","int64","double","string","bool","composite"]},model:{value:e.newIndex.fieldType,callback:function(t){e.$set(e.newIndex,"fieldType",t)},expression:"newIndex.fieldType"}},[a("template",{slot:"first"},[a("option",{attrs:{disabled:""},domProps:{value:""}},[e._v("Field Type")])])],2)],1),e._v(" "),a("b-col",[a("b-form-select",{attrs:{id:"index_type",value:null,options:["hash","tree","text","-"]},model:{value:e.newIndex.indexType,callback:function(t){e.$set(e.newIndex,"indexType",t)},expression:"newIndex.indexType"}},[a("template",{slot:"first"},[a("option",{attrs:{disabled:""},domProps:{value:""}},[e._v("Index Type")])])],2)],1),e._v(" "),a("b-col",{staticClass:"text-center",attrs:{cols:"5"}},[a("label",{staticClass:"mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newIndex.isPk,expression:"newIndex.isPk"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newIndex.isPk)?e._i(e.newIndex.isPk,null)>-1:e.newIndex.isPk},on:{change:function(t){var a=e.newIndex.isPk,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=e._i(a,null);s.checked?i<0&&e.$set(e.newIndex,"isPk",a.concat([null])):i>-1&&e.$set(e.newIndex,"isPk",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.newIndex,"isPk",n)}}}),e._v("Pk")]),e._v(" "),a("label",{staticClass:"mt-2 ml-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newIndex.isArray,expression:"newIndex.isArray"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newIndex.isArray)?e._i(e.newIndex.isArray,null)>-1:e.newIndex.isArray},on:{change:function(t){var a=e.newIndex.isArray,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=e._i(a,null);s.checked?i<0&&e.$set(e.newIndex,"isArray",a.concat([null])):i>-1&&e.$set(e.newIndex,"isArray",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.newIndex,"isArray",n)}}}),e._v("Array")]),e._v(" "),a("label",{staticClass:"mt-2 ml-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newIndex.isDense,expression:"newIndex.isDense"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newIndex.isDense)?e._i(e.newIndex.isDense,null)>-1:e.newIndex.isDense},on:{change:function(t){var a=e.newIndex.isDense,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=e._i(a,null);s.checked?i<0&&e.$set(e.newIndex,"isDense",a.concat([null])):i>-1&&e.$set(e.newIndex,"isDense",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.newIndex,"isDense",n)}}}),e._v("Dense")]),e._v(" "),a("label",{staticClass:"mt-2 ml-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newIndex.isAppendable,expression:"newIndex.isAppendable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newIndex.isAppendable)?e._i(e.newIndex.isAppendable,null)>-1:e.newIndex.isAppendable},on:{change:function(t){var a=e.newIndex.isAppendable,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=e._i(a,null);s.checked?i<0&&e.$set(e.newIndex,"isAppendable",a.concat([null])):i>-1&&e.$set(e.newIndex,"isAppendable",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.newIndex,"isAppendable",n)}}}),e._v("Appendable")])]),e._v(" "),a("b-col",[a("b-form-select",{attrs:{id:"collate_mode",value:null,options:["none","ascii","utf8","numeric"]},model:{value:e.newIndex.collateMode,callback:function(t){e.$set(e.newIndex,"collateMode",t)},expression:"newIndex.collateMode"}},[a("template",{slot:"first"},[a("option",{attrs:{disabled:""},domProps:{value:""}},[e._v("Collate")])])],2)],1),e._v(" "),a("b-col",[a("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:function(t){t.preventDefault(),e.onIndexAddQuestion(e.newIndex)}}},[e._v("Create")])],1)],1)],1)],1):e._e()],1)])},staticRenderFns:[]};var H=a("VU/8")(O,$,!1,function(e){a("trAf")},"data-v-5fcaacd5",null).exports,q={name:"ItemsPage",components:{DefaultLayout:x,Modal:S,Preloader:F,DataTable:G,Octicon:u.a},data:function(){return{newItemJson:""}},computed:c()({},Object(m.d)({db:function(e){return e.settings.database},namespace:function(e){return e.settings.namespace},columnsSelected:function(e){return e.settings.namespacesSelectedFields},items:function(e){return e.items.list},totalItems:function(e){return e.items.total},isLoading:function(e){return e.items.isLoading}}),Object(m.c)({indexesFields:"namespaces/indexesNames",sortableFields:"namespaces/sortableFields",itemTemplate:"namespaces/itemTemplate",columns:"items/fields",sortField:"items/sortField",sortDesc:"items/sortDesc",pageSize:"items/pageSize",page:"items/page"}),{itemsSize:function(){return d.a.size(this.items)},columnsFromSettings:function(){var e=d.a.get(this.columnsSelected,this.db,null);return e?d.a.get(e,this.namespace,this.indexesFields):this.indexesFields}}),methods:{onSelectedFieldsChange:function(e){this.$store.dispatch("settings/setSelectedFieldsForNamespace",{db:this.db,namespace:this.namespace,fields:e})},onQuery:function(e){var t=this,a={db:this.db,namespace:this.namespace};this.$store.dispatch("items/setItemsParams",e).then(function(){t.$store.dispatch("items/getItemsList",a)})},onItemDeleteQuestion:function(e){var t=R()(e,null,2);this.$modal.show({header:"Are you sure?",message:"This action will cause a removal of the item:",strongMessage:t,event:"onItemDelete",eventParams:t})},onItemCreateQuestion:function(e){var t=R()(e,null,2);this.$modal.show({header:"Are you sure?",message:"This action will create a new item:",strongMessage:t,event:"onItemCreate",eventParams:t})},onItemUpdateQuestion:function(e){var t=R()(e,null,2);this.$modal.show({header:"Are you sure?",message:"This action will change the existed item:",strongMessage:t,event:"onItemUpdate",eventParams:t})}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("default-layout",[a("div",{attrs:{slot:"page"},slot:"page"},[a("preloader",{attrs:{isLoading:e.isLoading}}),e._v(" "),e.db||e.isLoading?e._e():a("b-alert",{attrs:{show:""}},[e._v("Create a database")]),e._v(" "),e.db&&!e.namespace?a("b-alert",{attrs:{show:""}},[e._v("Select a namespace")]):e._e(),e._v(" "),e.namespace?a("data-table",{staticClass:"mt-1",attrs:{isWithActions:"",isUpdateAllowed:"",isRemoveAllowed:"",isCreateAllowed:"",isPaginable:"",isTotalShowed:"",title:e.namespace,items:e.items,itemTemplate:e.itemTemplate,totalItems:e.totalItems,columns:e.columns,selectedFields:e.columnsFromSettings,sortableFields:e.sortableFields,page:e.page,pageSize:e.pageSize,sortField:e.sortField,sortDesc:e.sortDesc,onSelectedFieldsChange:e.onSelectedFieldsChange,onQuery:e.onQuery,onItemDelete:e.onItemDeleteQuestion,onItemUpdate:e.onItemUpdateQuestion,onItemCreate:e.onItemCreateQuestion}}):e._e()],1)])},staticRenderFns:[]};var Y=a("VU/8")(q,j,!1,function(e){a("q4p4")},"data-v-e063ab3a",null).exports,V={name:"ItemsPage",components:{DefaultLayout:x,DataTable:G,Preloader:F},data:function(){return{customQuery:"",error:""}},computed:c()({},Object(m.d)({db:function(e){return e.settings.database},items:function(e){return e.items.queryItems},isLoading:function(e){return e.items.isLoading}}),Object(m.c)({fields:"items/queryFields"}),{selectedFields:function(){return d.a.cloneDeep(this.fields)},itemsSize:function(){return d.a.size(this.items)}}),methods:{onCustomQueryExecute:function(){if(this.db){var e=this.customQuery.toUpperCase();if(!e.includes("SELECT")||e.includes("LIMIT")){var t=this.customQuery.trim(),a={db:this.db,query:t};this.$store.dispatch("items/getItemsByQuery",a)}else this.error="Expect LIMIT expression for SELECT query"}},changeQuery:function(){this.error=""}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("default-layout",[a("div",{attrs:{slot:"page"},slot:"page"},[a("preloader",{staticClass:"preloader",attrs:{isLoading:e.isLoading}}),e._v(" "),e.db||e.isLoading?e._e():a("b-alert",{attrs:{show:""}},[e._v("Create a database")]),e._v(" "),a("b-card",{staticClass:"text-center mt-4"},[a("b-form-textarea",{attrs:{placeholder:"Custom query",rows:3,"max-rows":6,disabled:!e.db},on:{input:e.changeQuery},model:{value:e.customQuery,callback:function(t){e.customQuery=t},expression:"customQuery"}}),e._v(" "),a("b-btn",{staticClass:"mt-3",attrs:{disabled:!e.db,size:"md",variant:"success"},on:{click:function(t){return t.stopPropagation(),e.onCustomQueryExecute(t)}}},[e._v("Execute")])],1),e._v(" "),e.error?a("b-alert",{staticClass:"mt-3",attrs:{variant:"danger",show:""}},[e._v(e._s(e.error))]):e._e(),e._v(" "),e.itemsSize?a("data-table",{staticClass:"mt-1",attrs:{items:e.items,columns:e.fields,selectedFields:e.selectedFields}}):e._e()],1)])},staticRenderFns:[]};var J=a("VU/8")(V,K,!1,function(e){a("fGae")},"data-v-6a0e2118",null).exports;s.a.use(o.a);var W,Z=new o.a({mode:"history",base:"/face",routes:[{path:g.root,name:"MainPage",component:M},{path:g.namespaces,name:"NamespacesPage",component:H},{path:g.items,name:"ItemsPage",component:Y},{path:g.queries,name:"QueriesPage",component:J}]}),ee=(a("sax8"),a("pFYg"),a("fZjL")),te=a.n(ee),ae=a("lHA8"),se=a.n(ae),ne=a("Gu7T"),ie=a.n(ne),oe=function(e){return d.a.get(e,"items",[])},re=function(e){return d.a.get(e,"total_items",0)},ce=function(e){if(d.a.isEmpty(e))return[];var t=e.reduce(function(e,t){var a=d.a.keys(t);return[].concat(ie()(e),ie()(a))},d.a.keys(e[0]));return[].concat(ie()(new se.a(t)))},le=function(e){return d.a.get(e,"response.data.description","")||d.a.get(e,"response","")||"Error is occurred"},de=a("vMAF"),ue=a.n(de),me=ue()({SET_DATABASE:null,SET_NAMESPACE:null,SIDEBAR_TOGGLE:null,TABLE_SET_NAMESPACES_COLUMNS:null,SETTINGS_DATABASE_RESET:null,SETTINGS_NAMESPACE_RESET:null}),pe=c()({},me),Ee={resetSelectedNamespace:function(e){(0,e.commit)(pe.SETTINGS_NAMESPACE_RESET)},selectDatabase:function(e,t){var a={name:t};(0,e.commit)(pe.SET_DATABASE,a)},selectNamespace:function(e,t){var a={name:t};(0,e.commit)(pe.SET_NAMESPACE,a)},sidebarToggle:function(e){(0,e.commit)(pe.SIDEBAR_TOGGLE)},throwError:function(e,t){return(0,e.dispatch)(p.ADD_TOAST_MESSAGE,{text:le(t),type:"danger"},{root:!0})},showSuccessMessage:function(e,t){return(0,e.dispatch)(p.ADD_TOAST_MESSAGE,{text:t,type:"success"},{root:!0})},setSelectedFieldsForNamespace:function(e,t){return(0,e.commit)(pe.TABLE_SET_NAMESPACES_COLUMNS,t)}},be=a("bOdI"),he=a.n(be),fe={namespaced:!0,actions:Ee,getters:{},mutations:(W={},he()(W,pe.SETTINGS_DATABASE_RESET,function(e){e.database=""}),he()(W,pe.SETTINGS_NAMESPACE_RESET,function(e){e.namespace="",e.namespacesSelectedFields={}}),he()(W,pe.SET_DATABASE,function(e,t){var a=t.name;e.database=a}),he()(W,pe.SET_NAMESPACE,function(e,t){var a=t.name;e.namespace=a}),he()(W,pe.SIDEBAR_TOGGLE,function(e){e.isSidebarOpened=!e.isSidebarOpened}),he()(W,pe.TABLE_SET_NAMESPACES_COLUMNS,function(e,t){var a=t.db,s=t.namespace,n=t.fields;d.a.isEmpty(e.namespacesSelectedFields[a])&&(e.namespacesSelectedFields[a]={}),e.namespacesSelectedFields[a][s]=n}),W),state:{database:"",namespace:"",namespacesSelectedFields:{},isSidebarOpened:!0}},Se=a("Zrlr"),ge=a.n(Se),Ae=a("wxAW"),ve=a.n(Ae),Ce=a("mtWM"),_e=a.n(Ce),we=a("OAwv"),Ie=a.n(we),Te=a("mTx5"),ye=a.n(Te),De=a("qJdz"),xe=a.n(De),Le=new(function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ge()(this,e),this.baseurl=t,this.metadata={headers:a}}return ve()(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(d.a.isEmpty(t))return _e.a.get(ye()(this.baseurl,e),this.metadata);var a=xe.a.decamelizeKeys(t),s="?"+Ie.a.stringify(a);return _e.a.get(ye()(this.baseurl,e,s))}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _e.a.post(ye()(this.baseurl,e),t,{headers:{"Content-Type":"application/json"}})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _e.a.put(ye()(this.baseurl,e),t,{headers:{"Content-Type":"application/json"}})}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _e.a.delete(ye()(this.baseurl,e),{data:t})}}]),e}())("/api/v1");function Ne(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;e.includes(":"+t);)e=e.replace(":"+t,(arguments.length<=t+1?void 0:arguments[t+1])||null),t+=1;return e}var Me=c()({},{databases:"/db",database:"/db/:0",namespaces:"/db/:0/namespaces",namespace:"/db/:0/namespaces/:1",items:"/db/:0/namespaces/:1/items",indexes:"/db/:0/namespaces/:1/indexes",index:"/db/:0/namespaces/:1/indexes/:2",query:"/:0/query"});function Pe(e){var t=xe.a.decamelize(e).toUpperCase();return{REQUEST:t+"_REQUEST",SUCCESS:t+"_SUCCESS",FAIL:t+"_FAIL"}}var Be,Fe,Xe,Re={DB_GET_LIST:Pe("getDbList"),DB_DELETE:Pe("deleteDb"),DB_CREATE:Pe("createDb")},Ue=c()({},Re),ze={namespaced:!0,actions:{getDbList:function(e,t){var a=e.commit,s=e.dispatch,n=c()({},t,{sortOrder:"asc"});Le.get(Me.databases,n).then(function(e){var t=e.data,s={list:oe(t)};a(Ue.DB_GET_LIST.SUCCESS,s)},function(e){return a(Ue.DB_GET_LIST.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(Ue.DB_GET_LIST.FAIL,e),s("settings/throwError",e,{root:!0})})},createDb:function(e,t){var a=e.commit,s=e.dispatch;a(Ue.DB_CREATE.REQUEST);var n={name:t};Le.create(Me.databases,n).then(function(){return a(Ue.DB_CREATE.SUCCESS),s("settings/showSuccessMessage","Database is created",{root:!0}),s("getDbList")},function(e){return a(Ue.DB_CREATE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(Ue.DB_CREATE.FAIL,e),s("settings/throwError",e,{root:!0})})},deleteDb:function(e,t){var a=e.commit,s=e.dispatch;a(Ue.DB_DELETE.REQUEST),Le.delete(Ne(Me.database,t)).then(function(){return a(Ue.DB_DELETE.SUCCESS),s("settings/showSuccessMessage","Database is deleted",{root:!0}),s("getDbList")},function(e){return a(Ue.DB_DELETE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(Ue.DB_DELETE.FAIL,e),s("settings/throwError",e,{root:!0})})}},getters:{},mutations:(Be={},he()(Be,Ue.DB_GET_LIST.REQUEST,function(e){e.isLoading=!0}),he()(Be,Ue.DB_GET_LIST.FAIL,function(e){e.isLoading=!1}),he()(Be,Ue.DB_GET_LIST.SUCCESS,function(e,t){e.list=t.list,e.isLoading=!1}),he()(Be,Ue.DB_DELETE.REQUEST,function(e){e.isLoading=!0}),he()(Be,Ue.DB_DELETE.FAIL,function(e){e.isLoading=!1}),he()(Be,Ue.DB_DELETE.SUCCESS,function(e){e.isLoading=!1}),he()(Be,Ue.DB_CREATE.REQUEST,function(e){e.isLoading=!0}),he()(Be,Ue.DB_CREATE.FAIL,function(e){e.isLoading=!1}),he()(Be,Ue.DB_CREATE.SUCCESS,function(e){e.isLoading=!1}),Be),state:{list:[],one:[],isLoading:!1}},ke={NAMESPACES_GET_LIST:Pe("getNamespacesList"),NAMESPACES_GET_ONE:Pe("getNamespace"),NAMESPACE_DELETE:Pe("deleteNamespace"),NAMESPACE_CREATE:Pe("createNamespace"),NAMESPACE_INDEX_DELETE:Pe("deleteIndex"),NAMESPACE_INDEX_CREATE:Pe("createIndex")},Qe=ue()({NAMESPACES_PARAMS_SET:null,NAMESPACES_RESET:null}),Ge=c()({},ke,Qe),Oe={namespaced:!0,actions:{reset:function(e){(0,e.commit)(Ge.NAMESPACES_RESET)},getNamespacesList:function(e,t){var a=e.state,s=e.commit,n=e.dispatch,i=c()({},a.params,{sortOrder:"asc"});s(Ge.NAMESPACES_GET_LIST.REQUEST),Le.get(Ne(Me.namespaces,t),i).then(function(e){var t=e.data,a={list:oe(t)};s(Ge.NAMESPACES_GET_LIST.SUCCESS,a)},function(e){return s(Ge.NAMESPACES_GET_LIST.FAIL,e),n("settings/throwError",e,{root:!0})}).catch(function(e){return s(Ge.NAMESPACES_GET_LIST.FAIL,e),n("settings/throwError",e,{root:!0})})},getNamespaceOne:function(e,t){var a=e.commit,s=e.dispatch,n=t.db,i=t.namespace;a(Ge.NAMESPACES_GET_ONE.REQUEST),Le.get(Ne(Me.namespace,n,i)).then(function(e){var t={one:e.data};a(Ge.NAMESPACES_GET_ONE.SUCCESS,t)},function(e){return a(Ge.NAMESPACES_GET_ONE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(Ge.NAMESPACES_GET_ONE.FAIL,e),s("settings/throwError",e,{root:!0})})},setNamespacesParams:function(e){var t={params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};(0,e.commit)(Ge.NAMESPACES_PARAMS_SET,t)},createNamespace:function(e,t){var a=e.commit,s=e.dispatch,n=t.db,i=t.json;a(Ge.NAMESPACE_CREATE.REQUEST),Le.create(Ne(Me.namespaces,n),i).then(function(){return a(Ge.NAMESPACE_CREATE.SUCCESS),s("settings/showSuccessMessage","Namespace is created",{root:!0}),s("getNamespacesList",n)},function(e){return a(Ge.NAMESPACE_CREATE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(Ge.NAMESPACE_CREATE.FAIL,e),s("settings/throwError",e,{root:!0})})},deleteNamespace:function(e,t){var a=e.commit,s=e.dispatch,n=t.db,i=t.namespace;a(Ge.NAMESPACE_DELETE.REQUEST),Le.delete(Ne(Me.namespace,n,i)).then(function(){return a(Ge.NAMESPACE_DELETE.SUCCESS),s("settings/showSuccessMessage","Namespace is deleted",{root:!0}),s("getNamespacesList",n)},function(e){return a(Ge.NAMESPACE_DELETE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(Ge.NAMESPACE_DELETE.FAIL,e),s("settings/throwError",e,{root:!0})})},deleteIndex:function(e,t){var a=e.commit,s=e.dispatch,n=t.db,i=t.namespace,o=t.index;a(Ge.NAMESPACE_INDEX_DELETE.REQUEST),Le.delete(Ne(Me.index,n,i,o)).then(function(){return a(Ge.NAMESPACE_INDEX_DELETE.SUCCESS),s("settings/showSuccessMessage","Index '"+o+"' is deleted from namespace '"+i+"'",{root:!0}),s("getNamespaceOne",{db:n,namespace:i})},function(e){return a(Ge.NAMESPACE_INDEX_DELETE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(Ge.NAMESPACE_INDEX_DELETE.FAIL,e),s("settings/throwError",e,{root:!0})})},createIndex:function(e,t){var a=e.commit,s=e.dispatch,n=t.db,i=t.namespace,o=t.index;a(Ge.NAMESPACE_INDEX_CREATE.REQUEST);var r=d.a.mapKeys(o,function(e,t){return d.a.snakeCase(t)});Le.create(Ne(Me.indexes,n,i),r).then(function(){return a(Ge.NAMESPACE_INDEX_CREATE.SUCCESS),s("settings/showSuccessMessage","Index '"+o.name+"' is added to namespace '"+i+"'",{root:!0}),s("getNamespaceOne",{db:n,namespace:i})},function(e){return a(Ge.NAMESPACE_INDEX_CREATE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(Ge.NAMESPACE_INDEX_CREATE.FAIL,e),s("settings/throwError",e,{root:!0})})}},getters:{names:function(e){return d.a.map(e.list,function(e){return e.name})},icons:function(e){return d.a.map(e.list,function(e){return e.storage_enabled?"database":"flame"})},indexes:function(e){return d.a.get(e,"one.indexes",[])},pk:function(e,t){return d.a.filter(t.indexes,{is_pk:!0})},notArrayIndexes:function(e,t){return d.a.filter(t.indexes,{is_array:!1})},sortableFields:function(e,t){return t.notArrayIndexes.map(function(e){return e.name})},indexesNames:function(e,t){return t.indexes.map(function(e){return e.name})},indexFields:function(e,t){return ce(t.indexes)},itemTemplate:function(e,t){var a=t.indexes.reduce(function(e,t,a){var s=t.name,n=t.field_type;if("composite"===n)return e;var i=void 0;switch(n){case"string":i='""';break;case"bool":i=!0;break;case"double":i=.1;break;case"int":case"int64":i=0;break;default:i=null}return a>0?e+',\n"'+s+'": '+i:'\n"'+s+'": '+i},"");return R()(JSON.parse("{"+a+"}"),null,2)}},mutations:(Fe={},he()(Fe,Ge.NAMESPACES_RESET,function(e){e.list=[],e.one=[],e.params={},e.isLoading=!1}),he()(Fe,Ge.NAMESPACES_GET_LIST.REQUEST,function(e){e.isLoading=!0}),he()(Fe,Ge.NAMESPACES_GET_LIST.FAIL,function(e){e.isLoading=!1}),he()(Fe,Ge.NAMESPACES_GET_LIST.SUCCESS,function(e,t){e.list=t.list,e.isLoading=!1}),he()(Fe,Ge.NAMESPACES_GET_ONE.REQUEST,function(e){e.isLoading=!0}),he()(Fe,Ge.NAMESPACES_GET_ONE.FAIL,function(e){e.isLoading=!1}),he()(Fe,Ge.NAMESPACES_GET_ONE.SUCCESS,function(e,t){e.one=t.one,e.isLoading=!1}),he()(Fe,Ge.NAMESPACES_PARAMS_SET,function(e,t){var a=t.params;e.params=a}),he()(Fe,Ge.NAMESPACE_DELETE.REQUEST,function(e){e.isLoading=!0}),he()(Fe,Ge.NAMESPACE_DELETE.FAIL,function(e){e.isLoading=!1}),he()(Fe,Ge.NAMESPACE_DELETE.SUCCESS,function(e){e.isLoading=!1}),he()(Fe,Ge.NAMESPACE_CREATE.REQUEST,function(e){e.isLoading=!0}),he()(Fe,Ge.NAMESPACE_CREATE.FAIL,function(e){e.isLoading=!1}),he()(Fe,Ge.NAMESPACE_CREATE.SUCCESS,function(e){e.isLoading=!1}),he()(Fe,Ge.NAMESPACE_INDEX_DELETE.REQUEST,function(e){e.isLoading=!0}),he()(Fe,Ge.NAMESPACE_INDEX_DELETE.FAIL,function(e){e.isLoading=!1}),he()(Fe,Ge.NAMESPACE_INDEX_DELETE.SUCCESS,function(e){e.isLoading=!1}),he()(Fe,Ge.NAMESPACE_INDEX_CREATE.REQUEST,function(e){e.isLoading=!0}),he()(Fe,Ge.NAMESPACE_INDEX_CREATE.FAIL,function(e){e.isLoading=!1}),he()(Fe,Ge.NAMESPACE_INDEX_CREATE.SUCCESS,function(e){e.isLoading=!1}),Fe),state:{list:[],one:[],params:{},isLoading:!1}},$e={ITEMS_GET_LIST:Pe("getItemsList"),ITEMS_GET_BY_QUERY:Pe("getItemsByQuery"),ITEMS_DELETE:Pe("deleteItem"),ITEMS_UPDATE:Pe("updateItem"),ITEMS_CREATE:Pe("createItem")},He=ue()({ITEMS_PARAMS_SET:null,ITEMS_RESET:null}),qe=c()({},$e,He),je={namespaced:!0,actions:{reset:function(e){(0,e.commit)(qe.ITEMS_RESET)},getItemsList:function(e,t){var a=e.commit,s=e.dispatch,n=e.state.params,i=t.db,o=t.namespace;a(qe.ITEMS_GET_LIST.REQUEST),Le.get(Ne(Me.items,i,o),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return te()(e).reduce(function(t,a){var s=c()({},t);switch(a){case"pageSize":s.limit=e[a],s.limit=s.limit||10;break;case"page":s.offset=(e[a]-1)*e.pageSize,s.offset=s.offset||0;break;case"sortDesc":s.sortOrder=e[a]?"desc":"asc";break;case"sortField":s.sortField=e[a],s.sortOrder=s.sortOrder||"asc"}return s},{})}(n)).then(function(e){var t=e.data,s={list:oe(t),total:re(t)};a(qe.ITEMS_GET_LIST.SUCCESS,s)},function(e){return a(qe.ITEMS_GET_LIST.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(qe.ITEMS_GET_LIST.FAIL,e),s("settings/throwError",e,{root:!0})})},setItemsParams:function(e){var t={params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};(0,e.commit)(qe.ITEMS_PARAMS_SET,t)},deleteItem:function(e,t){var a=e.commit,s=e.dispatch,n=t.db,i=t.namespace,o=t.item;a(qe.ITEMS_DELETE.REQUEST),Le.delete(Ne(Me.items,n,i),o).then(function(){return a(qe.ITEMS_DELETE.SUCCESS),s("settings/showSuccessMessage","Item is deleted",{root:!0}),s("getItemsList",{db:n,namespace:i})},function(e){return a(qe.ITEMS_DELETE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(qe.ITEMS_DELETE.FAIL,e),s("settings/throwError",e,{root:!0})})},updateItem:function(e,t){var a=e.commit,s=e.dispatch,n=t.db,i=t.namespace,o=t.item;a(qe.ITEMS_UPDATE.REQUEST),Le.update(Ne(Me.items,n,i),o).then(function(){return a(qe.ITEMS_UPDATE.SUCCESS),s("settings/showSuccessMessage","Item is updated",{root:!0}),s("getItemsList",{db:n,namespace:i})},function(e){return a(qe.ITEMS_UPDATE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(qe.ITEMS_UPDATE.FAIL,e),s("settings/throwError",e,{root:!0})})},createItem:function(e,t){var a=e.commit,s=e.dispatch,n=t.db,i=t.namespace,o=t.item;a(qe.ITEMS_CREATE.REQUEST),Le.create(Ne(Me.items,n,i),o).then(function(){return a(qe.ITEMS_CREATE.SUCCESS),s("settings/showSuccessMessage","Item is created",{root:!0}),s("getItemsList",{db:n,namespace:i})},function(e){return a(qe.ITEMS_CREATE.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(qe.ITEMS_CREATE.FAIL,e),s("settings/throwError",e,{root:!0})})},getItemsByQuery:function(e,t){var a=e.commit,s=e.dispatch,n=t.db,i=t.query;a(qe.ITEMS_GET_BY_QUERY.REQUEST);var o={q:i};Le.get(Ne(Me.query,n),o).then(function(e){var t=e.data,s={queryItems:oe(t)};a(qe.ITEMS_GET_BY_QUERY.SUCCESS,s)},function(e){return a(qe.ITEMS_GET_BY_QUERY.FAIL,e),s("settings/throwError",e,{root:!0})}).catch(function(e){return a(qe.ITEMS_GET_BY_QUERY.FAIL,e),s("settings/throwError",e,{root:!0})})}},getters:{fields:function(e){var t=d.a.get(e,"list",[]);return ce(t)},queryFields:function(e){var t=d.a.get(e,"queryItems",[]);return ce(t)},sortField:function(e){return d.a.get(e,"params.sortField","")},sortDesc:function(e){return d.a.get(e,"params.sortDesc",!1)},pageSize:function(e){return d.a.get(e,"params.pageSize",10)},page:function(e){return d.a.get(e,"params.page",1)}},mutations:(Xe={},he()(Xe,qe.ITEMS_RESET,function(e){e.list=[],e.total=0,e.params={},e.queryItems=[],e.isLoading=!1}),he()(Xe,qe.ITEMS_GET_LIST.REQUEST,function(e){e.isLoading=!0}),he()(Xe,qe.ITEMS_GET_LIST.FAIL,function(e){e.isLoading=!1}),he()(Xe,qe.ITEMS_GET_LIST.SUCCESS,function(e,t){var a=t.list,s=t.total;e.list=a,e.total=s,e.isLoading=!1}),he()(Xe,qe.ITEMS_PARAMS_SET,function(e,t){var a=t.params;e.params=a}),he()(Xe,qe.ITEMS_DELETE.REQUEST,function(e){e.isLoading=!0}),he()(Xe,qe.ITEMS_DELETE.FAIL,function(e){e.isLoading=!1}),he()(Xe,qe.ITEMS_DELETE.SUCCESS,function(e){e.isLoading=!1}),he()(Xe,qe.ITEMS_UPDATE.REQUEST,function(e){e.isLoading=!0}),he()(Xe,qe.ITEMS_UPDATE.FAIL,function(e){e.isLoading=!1}),he()(Xe,qe.ITEMS_UPDATE.SUCCESS,function(e){e.isLoading=!1}),he()(Xe,qe.ITEMS_CREATE.REQUEST,function(e){e.isLoading=!0}),he()(Xe,qe.ITEMS_CREATE.FAIL,function(e){e.isLoading=!1}),he()(Xe,qe.ITEMS_CREATE.SUCCESS,function(e){e.isLoading=!1}),he()(Xe,qe.ITEMS_GET_BY_QUERY.REQUEST,function(e){e.isLoading=!0}),he()(Xe,qe.ITEMS_GET_BY_QUERY.FAIL,function(e){e.isLoading=!1}),he()(Xe,qe.ITEMS_GET_BY_QUERY.SUCCESS,function(e,t){var a=t.queryItems;e.queryItems=a,e.isLoading=!1}),Xe),state:{list:[],total:0,params:{},queryItems:[],isLoading:!1}};s.a.use(m.a);var Ye=new m.a.Store({modules:{settings:fe,dbs:ze,namespaces:Oe,items:je,toast:Object(p.createModule)({dismissInterval:5e3})},strict:!1,plugins:[]}),Ve=a("e6fC"),Ke=(a("NbQv"),a("Dukv"),a("Jmt5"),a("9M+g"),a("5W1q"),a("hRG5"),{install:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={$vm:null,state:{},data:c()({},t),init:function(e){this.$vm=e},show:function(e){this.$vm&&E.$emit("show",e)}};a.init(E),e.component("Modal",f),e.prototype.$modal=a}});a("sz3z");s.a.use(Ve.a),s.a.use(Ke),s.a.config.productionTip=!1,new s.a({el:"#app",router:Z,store:Ye,template:"<App/>",components:{App:i}})},"csa/":function(e,t){},fGae:function(e,t){},krhc:function(e,t){},mxeB:function(e,t){e.exports="data:image/png;base64,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"},q4p4:function(e,t){},qfRk:function(e,t){},sz3z:function(e,t){},taa8:function(e,t){},trAf:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.04d95142a235a3a702e1.js.map