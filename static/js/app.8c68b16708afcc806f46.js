webpackJsonp([1],{"1/oy":function(e,t){},"2+Bm":function(e,t,s){"use strict";var n=s("FLAC"),a={},i={name:"octicon",props:{name:{type:String,validator:function(e){return e?e in a:null}},scale:[Number,String],spin:Boolean,inverse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(Object(n.a)('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},clazz:function(){return{octicon:!0,"octicon-spin":this.spin,"octicon-flip-horizontal":"horizontal"===this.flip,"octicon-flip-vertical":"vertical"===this.flip,"octicon-inverse":this.inverse}},icon:function(){return this.name?a[this.name]:null},box:function(){return this.icon?this.icon.viewBox?this.icon.viewBox:"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},width:function(){return this.childrenWidth||this.icon&&this.icon.width*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}}},mounted:function(){var e=this;if(!this.icon){this.$children.forEach(function(t){t.outerScale=e.normalizedScale});var t=0,s=0;this.$children.forEach(function(e){t=Math.max(t,e.width),s=Math.max(s,e.height)}),this.childrenWidth=t,this.childrenHeight=s,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(s-e.height)/2})}},register:function(e){for(var t in e)a[t]=e[t]},icons:a},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{class:e.clazz,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon?s("path",{attrs:{d:e.icon.d}}):e._e()])],2)},staticRenderFns:[]};var r=s("VU/8")(i,o,!1,function(e){s("csa/")},null,null);t.a=r.exports},"3CPL":function(e,t){},"4h/o":function(e,t){},"5W1q":function(e,t){},"7YRr":function(e,t){},"8KCH":function(e,t){},"8P4r":function(e,t){},"9M+g":function(e,t){},"A+Eb":function(e,t){},EAeo:function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"h-100",attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},i=s("VU/8")({name:"app"},a,!1,null,null,null).exports,o=s("/ocq"),r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-wrapper"},[t("p",{staticClass:"notfound"},[this._v("404 Not Found")])])}]};var c=s("VU/8")({name:"not-found-page"},r,!1,function(e){s("A+Eb")},"data-v-4eeffe15",null).exports,l=s("Dd8w"),d=s.n(l),u=s("M4fF"),m=s.n(u),p=s("PJh5"),f=s("2+Bm"),h=s("NYxO"),b=s("lII0"),v=new n.a,g={name:"Modal",created:function(){v.$on("show",this.show)},destroy:function(){v.$off("show",this.show)},data:function(){return{type:"approval",header:"",message:"",strongMessage:"",event:null,eventParams:{},value:"",isShowed:!1}},computed:{isApprovalType:function(){return"approval"===this.type},isCreatorType:function(){return"creator"===this.type}},methods:{show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,s=e.header,n=e.message,a=e.strongMessage,i=e.event,o=e.eventParams,r=e.callback;this.type=t||"approval",this.header=s||"",this.message=n||"",this.strongMessage=a||"",this.event=i||"",this.eventParams=o||{},this.callback=r||Function,this.isShowed=!0},onConfirm:function(e){e.preventDefault(),this.event&&(this.isApprovalType&&this.$emit(this.event,this.eventParams),this.isCreatorType&&this.$emit(this.event,d()({},this.eventParams,{value:this.value}))),this.value="",this.isShowed=!1,this.callback()}}},E={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{centered:"",title:e.header},on:{ok:e.onConfirm},model:{value:e.isShowed,callback:function(t){e.isShowed=t},expression:"isShowed"}},[s("center",[e._v(e._s(e.message))]),e._v(" "),s("br"),e._v(" "),e.isApprovalType?s("center",[s("strong",[e._v(e._s(e.strongMessage))])]):e._e(),e._v(" "),e.isCreatorType?s("b-form-input",{attrs:{size:"sm",type:"text",placeholder:"Enter a name"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},staticRenderFns:[]},_=s("VU/8")(g,E,!1,null,null,null).exports,S=_,y={root:"/",items:"/items",indexes:"/indexes",queries:"/query"},C={name:"NavHeader",components:{Octicon:f.a},props:{databaseSelected:{type:String,default:""},databases:{type:Array,default:function(){return[]}}},data:function(){return{webroutes:y,newDatabase:""}},computed:{database:function(){if(!this.databaseSelected&&!m.a.isEmpty(this.databases)){var e=this.databases[0];return this.$emit("onDatabaseSelect",e),e}return this.databaseSelected},databasesListIsEmpty:function(){return m.a.isEmpty(this.databases)},isNewDatabaseEmpty:function(){return m.a.isEmpty(this.newDatabase)},isDatabaseSelected:function(){return!m.a.isEmpty(this.databaseSelected)},curPath:function(){return this.$route.path}},mounted:function(){this.$emit("onDataLoad")},methods:{onDatabaseSelect:function(e){this.databaseSelected!==e&&this.$emit("onDatabaseSelect",e)},onDatabaseCreate:function(e){this.$store.dispatch("dbs/createDb",e)},onDatabaseDeleteQuestion:function(e){this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the database:",strongMessage:e,event:"onDatabaseDelete",eventParams:e})}},watch:{databases:function(e){if(!e.includes(this.database)){var t=m.a.isEmpty(this.databases[0])?"":this.databases[0];m.a.isEmpty(t)?this.$refs.dbcreate.visible=!0:this.$emit("onDatabaseSelect",t)}}}},A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark header-panel fixed-top"},[n("b-navbar-brand",{staticClass:"header-brand",attrs:{href:"#",to:e.webroutes.root}},[n("img",{attrs:{src:s("mxeB")}}),e._v("Reindexer Face")]),e._v(" "),n("b-navbar-nav",{staticClass:"header-menu"},[n("b-nav-item",{attrs:{href:"#",to:e.webroutes.items,exact:"",active:e.curPath===e.webroutes.items}},[e._v("Items")]),e._v(" "),n("b-nav-item",{attrs:{href:"#",to:e.webroutes.indexes,exact:"",active:e.curPath===e.webroutes.indexes}},[e._v("Indexes")]),e._v(" "),n("b-nav-item",{attrs:{href:"#",to:e.webroutes.queries,exact:"",active:e.curPath===e.webroutes.queries}},[e._v("Query")])],1),e._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-button-group",[n("b-dropdown",{staticClass:"header-database-select-button",attrs:{disabled:e.databasesListIsEmpty,variant:"dark",text:e.databaseSelected||e.database}},[n("b-dropdown-header",[e._v("Databases")]),e._v(" "),e._l(e.databases,function(t,s){return n("b-dropdown-item-button",{key:s,on:{click:function(s){e.onDatabaseSelect(t)}}},[e._v(e._s(t))])})],2),e._v(" "),n("b-dropdown",{ref:"dbcreate",staticClass:"header-database-create-button",attrs:{variant:"dark",size:"md","no-caret":""}},[n("template",{slot:"button-content"},[n("octicon",{staticClass:"mt-1",attrs:{name:"plus",scale:"1"}})],1),e._v(" "),n("b-container",{staticClass:"header-database-dropdown-menu mt-2 mb-3"},[n("b-row",[n("b-col",{attrs:{cols:"8"}},[n("b-form-input",{attrs:{variant:"primary",size:"sm",type:"text",placeholder:"New database"},model:{value:e.newDatabase,callback:function(t){e.newDatabase=t},expression:"newDatabase"}})],1),e._v(" "),n("b-col",{attrs:{cols:"2"}},[n("b-button",{attrs:{size:"sm",variant:"success",disabled:e.isNewDatabaseEmpty},on:{click:function(t){e.onDatabaseCreate(e.newDatabase)}}},[e._v("Create")])],1)],1)],1)],2),e._v(" "),n("b-button",{attrs:{size:"sm",variant:"dark",disabled:!e.isDatabaseSelected},on:{click:function(t){e.onDatabaseDeleteQuestion(e.database)}}},[n("octicon",{staticClass:"mt-1",attrs:{name:"trashcan",scale:"1"}})],1)],1)],1)],1)])},staticRenderFns:[]};var T=s("VU/8")(C,A,!1,function(e){s("8KCH")},"data-v-275ffdd0",null).exports,x=s("i8Yg"),w={name:"SideBar",components:{Scrolly:x.a,ScrollyViewport:x.c,ScrollyBar:x.b,Octicon:f.a},data:function(){return{newNamespace:""}},props:{items:{type:Array,default:function(){return[]}},iconsSet:{type:Array,default:function(){return[]}},selectedNamespace:{type:String,default:""},isOpened:{type:Boolean,default:!1},isItemsLoading:{type:Boolean,default:!1},isSelectedLoading:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},computed:{isNamespaceSelected:function(){return m.a.size(this.selectedNamespace)},isNewNamespaceEmpty:function(){return m.a.isEmpty(this.newNamespace)}},mounted:function(){this.onDataLoad()},methods:{isSpinnable:function(e){return e===this.selectedNamespace&&this.isSelectedLoading},itemIconSelect:function(e){return this.iconsSet[e]?this.iconsSet[e]:""},mouseOver:function(){this.active=!this.active},onToggle:function(){this.$emit("onToggle")},onDataLoad:function(){this.$emit("onDataLoad")},onNamespaceSelect:function(e){this.$emit("onNamespaceSelect",e)},onNamespaceDelete:function(e){this.$emit("onNamespaceDelete",e)},onNamespaceCreate:function(){this.$emit("onNamespaceCreate")}}},I={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sidebar-container bg-dark",class:{"sidebar-container-max":e.isOpened}},[s("button",{staticClass:"btn-block sidebar-toggler text-muted",on:{click:e.onToggle}},[s("octicon",{staticClass:"sidebar-icon",attrs:{name:"grabber",scale:"3"}})],1),e._v(" "),e.isOpened?s("div",{staticClass:"sidebar-control-panel"},[s("button",{staticClass:"sidebar-panel-button sidebar-panel-button-left text-white float-left",class:{"sidebar-panel-button-disabled":e.isDisabled||!e.isNamespaceSelected},on:{click:function(t){e.onNamespaceDelete(e.selectedNamespace)}}},[s("octicon",{attrs:{name:"trashcan",scale:"2"}})],1),e._v(" "),s("button",{staticClass:"sidebar-panel-button sidebar-panel-button-left text-white",class:{"sidebar-panel-button-disabled":e.isDisabled},on:{click:e.onNamespaceCreate}},[s("octicon",{attrs:{name:"plus",scale:"2"}})],1),e._v(" "),s("button",{staticClass:"sidebar-panel-button sidebar-panel-button-right text-white float-right",class:{"sidebar-panel-button-disabled":e.isDisabled},on:{click:e.onDataLoad}},[s("octicon",{attrs:{name:"sync",scale:"2",spin:e.isItemsLoading}})],1)]):e._e(),e._v(" "),s("div",{staticClass:"sidebar-items-list",class:{"sidebar-hide":!e.isOpened}},[s("scrolly",{staticClass:"sidebar-scroll-container"},[s("scrolly-viewport",[s("ul",{staticClass:"list-unstyled"},e._l(e.items,function(t,n){return s("li",{staticClass:"item",class:{"item-active":e.selectedNamespace===t},on:{mouseover:e.mouseOver}},[s("a",{staticClass:"link",on:{click:function(s){e.onNamespaceSelect(t)}}},[s("span",{staticClass:"text item-text"},[e._v(e._s(t))])])])}))]),e._v(" "),s("scrolly-bar",{attrs:{axis:"y"}})],1)],1)])},staticRenderFns:[]};var N=s("VU/8")(w,I,!1,function(e){s("X51g")},"data-v-d870f310",null).exports,L={name:"default-layout",components:{Modal:S,Octicon:f.a,Sidebar:N,Toast:b.Toast,NavHeader:T},computed:d()({},Object(h.d)({isSidebarOpened:function(e){return e.settings.isSidebarOpened},sidebarItems:function(e){return e.namespaces.list.map(function(e){return e.name})},sidebarIcons:function(e){return e.namespaces.list.map(function(e){return e.storage_enabled?"database":"flame"})},databases:function(e){return e.dbs.list},database:function(e){return e.settings.database},namespace:function(e){return e.settings.namespace||e.items.namespaces[0]},sidebarIsLoading:function(e){return e.namespaces.isLoading},sidebarIsSelectedLoading:function(e){return e.items.isLoading},sidebarIsDisabled:function(e){return m.a.isEmpty(e.settings.database)}})),methods:d()({},Object(h.b)({selectDatabase:"settings/selectDatabase",fetchDatabases:"dbs/getDbList",fetchNamespaces:"namespaces/getNamespacesList",selectNamespace:"settings/selectNamespace",onSidebarToggle:"settings/sidebarToggle",resetNamespaces:"namespaces/reset",resetItems:"items/reset",resetSelectedNamespace:"settings/resetSelectedNamespace",getItemsList:"items/getItemsList",getNamespaceOne:"namespaces/getNamespaceOne"}),{onSidebarDataLoad:function(){this.database&&this.fetchNamespaces(this.database)},onDatabaseSelect:function(e){var t=this;this.resetNamespaces(),this.resetItems(),this.resetSelectedNamespace(),this.selectDatabase(e).then(function(){return t.fetchNamespaces(t.database)})},onNamespaceSelect:function(e){var t=this;this.getNamespaceOne({db:this.database,namespace:e}).then(function(){t.getItemsList({db:t.database,namespace:e,params:{}})}),this.selectNamespace(e),"MainPage"===this.$router.currentRoute.name?this.$router.push({name:"ItemsPage"}):"ItemsPage"===this.$router.currentRoute.name&&this.$router.push({query:{db:this.database,namespace:e}}),this.$eventHub.emit("namespaceChanged")},onNamespaceDeleteQuestion:function(e){var t={db:this.database,namespace:e};this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the namespace:",strongMessage:e,event:"onNamespaceDelete",eventParams:t})},onNamespaceCreateQuestion:function(e){var t={db:this.database};this.$cmodal.show({type:"creator",header:"Create",message:"This action will create a namespace:",strongMessage:e,event:"onNamespaceCreate",eventParams:t})},onDatabaseDelete:function(e){this.$store.dispatch("dbs/deleteDb",e)},onNamespaceCreate:function(e){var t={db:e.db,json:{name:e.value,storage:{enabled:!0,drop_on_file_format_error:!0,create_if_missing:!0},indexes:[]}};this.$store.dispatch("namespaces/createNamespace",t)},onNamespaceDelete:function(e){this.$store.dispatch("namespaces/deleteNamespace",e)},onItemDelete:function(e){var t={db:this.database,namespace:this.namespace,item:e};this.$store.dispatch("items/deleteItem",t)},onNamespaceClear:function(){var e={db:this.database,namespace:this.namespace};this.$store.dispatch("items/clearNamespace",e)},onItemUpdate:function(e){var t={db:this.database,namespace:this.namespace,item:e};this.$store.dispatch("items/updateItem",t)},onItemCreate:function(e){var t={db:this.database,namespace:this.namespace,item:e};this.$store.dispatch("items/createItem",t)},onIndexDelete:function(e){var t={db:this.database,namespace:this.namespace,index:e};this.$store.dispatch("namespaces/deleteIndex",t)},onIndexCreate:function(e){var t={db:this.database,namespace:this.namespace,index:e};this.$store.dispatch("namespaces/createIndex",t)}}),watch:{database:function(e){this.fetchNamespaces(e)}}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"h-100"},[s("nav-header",{attrs:{databases:e.databases,databaseSelected:e.database},on:{onDataLoad:e.fetchDatabases,onDatabaseSelect:e.onDatabaseSelect}}),e._v(" "),s("modal",{on:{onDatabaseDelete:e.onDatabaseDelete,onNamespaceDelete:e.onNamespaceDelete,onNamespaceCreate:e.onNamespaceCreate,onItemDelete:e.onItemDelete,onItemCreate:e.onItemCreate,onItemUpdate:e.onItemUpdate,onNamespaceClear:e.onNamespaceClear,onIndexDelete:e.onIndexDelete,onIndexCreate:e.onIndexCreate}}),e._v(" "),s("div",{staticClass:"content-container h-100",class:{"content-container-min":e.isSidebarOpened}},[s("sidebar",{attrs:{items:e.sidebarItems,iconsSet:e.sidebarIcons,selectedNamespace:e.namespace,isOpened:e.isSidebarOpened,isItemsLoading:e.sidebarIsLoading,isSelectedLoading:e.sidebarIsSelectedLoading,isDisabled:e.sidebarIsDisabled},on:{onToggle:e.onSidebarToggle,onDataLoad:e.onSidebarDataLoad,onNamespaceSelect:e.onNamespaceSelect,onNamespaceDelete:e.onNamespaceDeleteQuestion,onNamespaceCreate:e.onNamespaceCreateQuestion}}),e._v(" "),s("div",{staticClass:"page-content h-100"},[e._t("page")],2),e._v(" "),s("toast",{attrs:{position:"se"}})],1)],1)},staticRenderFns:[]};var F=s("VU/8")(L,D,!1,function(e){s("X+BP"),s("4h/o")},"data-v-4cff1788",null).exports,B=s("35dM"),M=s.n(B),P={mega:1e6,gyga:1e9};var k=s("DbJJ"),U=s.n(k);var O={name:"MainPage",components:{DefaultLayout:F},data:function(){return{refreshStatusIntervalMs:5e3,clockTick:1e3,refreshIntervalDescriptor:null,uptimeIncrementDescriptor:null,isUnavailable:!1}},computed:d()({},Object(h.d)({status:function(e){return e.service.status},version:function(e){return e.service.version},uptime:function(e){return e.service.uptime},startTime:function(e){return e.service.startTime}}),{onOffStatus:function(){return this.isUnavailable?"Offline":"Online"},startTimeFormatted:function(){return p.unix(this.startTime).format("DD.MM.YYYY HH:MM:ss")}}),methods:d()({},Object(h.b)({getStatus:"service/getStatus",modifyServiceStateAsKV:"service/modifyStateAsKV"}),{bytesToSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=1;e>P.mega?t=2:e>P.gyga&&(t=3);var s=M()(e,{precision:t});return""+s.value+s.unit},uptimeFormat:function(e){var t=Math.floor(e/86400),s=Math.floor((e-86400*t)/3600),n=Math.floor((e-86400*t-3600*s)/60),a=e-86400*t-3600*s-60*n;return(t>0?U()("day",t,!0)+" ":"")+" "+(s<10?"0"+s:""+s)+":"+(n<10?"0"+n:""+n)+":"+(a<10?"0"+a:""+a)},getStatusAndSync:function(){var e=this;this.getStatus().then(function(){clearInterval(e.uptimeIncrementDescriptor),e.isUnavailable=!1;var t={};e.uptime<e.status.uptime&&(t.uptime=e.status.uptime),m.a.isEmpty(e.status.version)||(t.version=e.status.version),m.a.isNil(e.status.start_time)||(t.startTime=e.status.start_time),e.modifyServiceStateAsKV(t),e.uptimeIncrementDescriptor=setInterval(e.uptimeIncrement,e.clockTick)}).catch(function(){e.isUnavailable=!0,clearInterval(e.uptimeIncrementDescriptor)})},uptimeIncrement:function(){this.modifyServiceStateAsKV({uptime:this.uptime+1})}}),mounted:function(){this.getStatusAndSync(),this.refreshIntervalDescriptor=setInterval(this.getStatusAndSync,this.refreshStatusIntervalMs)},destroyed:function(){clearInterval(this.refreshIntervalDescriptor),clearInterval(this.uptimeIncrementDescriptor)}},j={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("div",{staticClass:"container mt-5"},[s("b-jumbotron",{attrs:{header:"Reindexer Face",lead:e.version}},[s("p",{class:{"text-danger":e.isUnavailable,"text-success":!e.isUnavailable}},[s("b",[e._v(e._s(e.onOffStatus))])]),e._v(" "),s("br"),e._v(" "),s("p",[s("b",[e._v("Start time")]),e._v(": "+e._s(e.startTimeFormatted))]),e._v(" "),s("p",[s("b",[e._v("Uptime")]),e._v(": "+e._s(e.uptimeFormat(e.uptime)))]),e._v(" "),s("p",[s("b",[e._v("Allocated")]),e._v(": "+e._s(e.bytesToSize(e.status.current_allocated_bytes)))]),e._v(" "),s("p",[s("b",[e._v("Heap size")]),e._v(": "+e._s(e.bytesToSize(e.status.heap_size)))]),e._v(" "),s("p",[s("b",[e._v("Pageheap free")]),e._v(": "+e._s(e.bytesToSize(e.status.pageheap_free)))]),e._v(" "),s("p",[s("b",[e._v("Pageheap unmapped")]),e._v(": "+e._s(e.bytesToSize(e.status.pageheap_unmapped)))])])],1)])])},staticRenderFns:[]},R=s("VU/8")(O,j,!1,null,null,null).exports,z={name:"Preloader",props:{value:{type:Boolean,default:!1}}},X={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{aligner:e.value}},[e.value?s("div",{attrs:{id:"floatingCirclesG"}},[s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_01"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_02"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_03"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_04"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_05"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_06"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_07"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_08"}})]):e._e()])},staticRenderFns:[]};var q={name:"PageStatusNotifier",components:{Preloader:s("VU/8")(z,X,!1,function(e){s("bnvi")},"data-v-17a49d00",null).exports},props:{currentDatabaseName:{type:String,default:null},currentNamespaceName:{type:String,default:null},isLoadingProgress:{type:Boolean,default:!1}},computed:{warningMessage:function(){return!this.isLoadingProgress&&m.a.isEmpty(this.currentDatabaseName)?"Create a database":!m.a.isNull(this.currentNamespaceName)&&m.a.isEmpty(this.currentNamespaceName)&&m.a.size(this.currentDatabaseName)?"Select a namespace":null}}},Q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("preloader",{model:{value:e.isLoadingProgress,callback:function(t){e.isLoadingProgress=t},expression:"isLoadingProgress"}}),e._v(" "),e.warningMessage?s("b-alert",{attrs:{show:""}},[e._v(e._s(e.warningMessage))]):e._e()],1)},staticRenderFns:[]},G=s("VU/8")(q,Q,!1,null,null,null).exports,H=s("mvHQ"),$=s.n(H),V=s("o4sT"),Y=s.n(V),K=s("vdhV"),W=s.n(K),J={name:"An index name is used in 'WHERE' or 'JOIN' queries.\nFor the composite indexes name is also defines composite index parts in the following format:\nsubindex1+subindex2[[+...subindexN][=namealias]]]",jsonPaths:"A name for mapping to json field. May contain nested fields: 'nested.field'.\nMay contain a few comma-separated json fileds: 'field1,field2' .",fieldType:"Index field type.",indexType:"Index type.",options:"Pk - field is a part of a primary key. Struct must have at least 1 field tagged with pk;\n\nArray - array index;\n\nDense - reduce index size. For hash and tree it will save 8 bytes per unique key value.\nFor - it will save 4-8 bytes per each element. Useful for indexes with high selectivity, but for tree and hash indexes with low selectivity can seriously decrease update performance;\n\nSparse - value of index may not present in the document.",collateMode:"numeric - create string index that provides values order in numeric sequence. The field type must be a string.\n\nascii - create case-insensitive string index works with ASCII. The field type must be a string.\n\nutf8 - create case-insensitive string index works with UTF8. The field type must be a string.\n\ncustom  - create custom order string index.\n",sortOrderLetters:" a sequence of letters which defines sort order",config:"index config in JSON format"},Z={name:"IndexModifyWindow",components:{Octicon:f.a,VueTagsInput:W.a,Editor:Y.a},props:{value:{type:Boolean,default:!0},index:{type:Object,required:!0},isModifying:{type:Boolean,default:!0}},data:function(){var e=this.$props.value,t=this.$props.index;return{tooltips:J,isShown:e,indexBody:t,tag:""}},computed:{isJsonPathsEmpty:function(){var e=this.indexBody.jsonPaths;return 0===m.a.size(e)},isValid:function(){var e=this.indexBody,t=e.name,s=e.fieldType,n=e.indexType,a=e.collateMode,i=e.sortOrderLetters,o=e.config,r=t&&s&&n&&a&&o&&!this.isJsonPathsEmpty;return"custom"===this.indexBody.collateMode?Boolean(r&&i):Boolean(r)},tags:function(){return m.a.map(this.indexBody.jsonPaths,function(e){return{text:e}})||[]}},methods:{onTagAdd:function(e){this.indexBody.jsonPaths=m.a.map(e,function(e){return e.text})},onTagBlur:function(e){var t=e.target.value;m.a.isEmpty(t)||(this.tag="",this.indexBody.jsonPaths.push(t))},onConfirm:function(e){this.isValid&&this.$emit(e?"onUpdate":"onCreate",this.indexBody)},onWindowHide:function(){this.$emit("onWindowHide")},prettyStringifyObject:function(e){var t={};try{t=JSON.parse(e)}catch(t){return e}return $()(t,null,"  ")},applyEditorChanges:function(e){this.indexBody.config=e}},watch:{value:function(e){this.isShown=e},index:function(e){this.indexBody=e}}},ee={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{title:"Index"},on:{hide:e.onWindowHide},model:{value:e.isShown,callback:function(t){e.isShown=t},expression:"isShown"}},[s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.name,name:"question"}}),e._v("name\n      ")],1),e._v(" "),s("b-col",[s("b-input",{attrs:{state:Boolean(e.indexBody.name)},model:{value:e.indexBody.name,callback:function(t){e.$set(e.indexBody,"name",t)},expression:"indexBody.name"}})],1)],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.fieldType,name:"question"}}),e._v("field_type\n      ")],1),e._v(" "),s("b-col",[s("b-form-select",{attrs:{state:Boolean(e.indexBody.fieldType),id:"field_type",value:null,options:["int","int64","double","string","bool","composite"]},model:{value:e.indexBody.fieldType,callback:function(t){e.$set(e.indexBody,"fieldType",t)},expression:"indexBody.fieldType"}})],1)],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.indexType,name:"question"}}),e._v("index_type\n      ")],1),e._v(" "),s("b-col",[s("b-form-select",{attrs:{state:Boolean(e.indexBody.indexType),id:"index_type",value:null,options:["hash","tree","text","-"]},model:{value:e.indexBody.indexType,callback:function(t){e.$set(e.indexBody,"indexType",t)},expression:"indexBody.indexType"}})],1)],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.options,name:"question"}}),e._v("options\n      ")],1),e._v(" "),s("b-col",{staticClass:"text-center"},[s("label",{staticClass:"mt-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.indexBody.isPk,expression:"indexBody.isPk"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.indexBody.isPk)?e._i(e.indexBody.isPk,null)>-1:e.indexBody.isPk},on:{change:function(t){var s=e.indexBody.isPk,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=e._i(s,null);n.checked?i<0&&e.$set(e.indexBody,"isPk",s.concat([null])):i>-1&&e.$set(e.indexBody,"isPk",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.indexBody,"isPk",a)}}}),e._v("Pk")]),e._v(" "),s("label",{staticClass:"mt-2 ml-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.indexBody.isArray,expression:"indexBody.isArray"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.indexBody.isArray)?e._i(e.indexBody.isArray,null)>-1:e.indexBody.isArray},on:{change:function(t){var s=e.indexBody.isArray,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=e._i(s,null);n.checked?i<0&&e.$set(e.indexBody,"isArray",s.concat([null])):i>-1&&e.$set(e.indexBody,"isArray",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.indexBody,"isArray",a)}}}),e._v("Array")]),e._v(" "),s("label",{staticClass:"mt-2 ml-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.indexBody.isDense,expression:"indexBody.isDense"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.indexBody.isDense)?e._i(e.indexBody.isDense,null)>-1:e.indexBody.isDense},on:{change:function(t){var s=e.indexBody.isDense,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=e._i(s,null);n.checked?i<0&&e.$set(e.indexBody,"isDense",s.concat([null])):i>-1&&e.$set(e.indexBody,"isDense",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.indexBody,"isDense",a)}}}),e._v("Dense")]),e._v(" "),s("label",{staticClass:"mt-2 ml-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.indexBody.isSparse,expression:"indexBody.isSparse"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.indexBody.isSparse)?e._i(e.indexBody.isSparse,null)>-1:e.indexBody.isSparse},on:{change:function(t){var s=e.indexBody.isSparse,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=e._i(s,null);n.checked?i<0&&e.$set(e.indexBody,"isSparse",s.concat([null])):i>-1&&e.$set(e.indexBody,"isSparse",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.indexBody,"isSparse",a)}}}),e._v("Sparse")])])],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.collateMode,name:"question"}}),e._v("collate_mode\n      ")],1),e._v(" "),s("b-col",[s("b-form-select",{attrs:{state:Boolean(e.indexBody.collateMode),value:null,options:["none","ascii","utf8","numeric","custom"]},model:{value:e.indexBody.collateMode,callback:function(t){e.$set(e.indexBody,"collateMode",t)},expression:"indexBody.collateMode"}})],1)],1),e._v(" "),"custom"==e.indexBody.collateMode?s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-5 mt-2",attrs:{cols:"3"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.sortOrderLetters,name:"question"}}),e._v("sort_order_letters\n      ")],1),e._v(" "),s("b-col",[s("b-input",{attrs:{state:Boolean(e.indexBody.sortOrderLetters)},model:{value:e.indexBody.sortOrderLetters,callback:function(t){e.$set(e.indexBody,"sortOrderLetters",t)},expression:"indexBody.sortOrderLetters"}})],1)],1):e._e(),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.config,name:"question"}}),e._v("config\n      ")],1),e._v(" "),s("b-col",[s("editor",{staticClass:"editor editor_config",attrs:{lang:"json",theme:"chrome",width:"100%",height:"200px",value:e.prettyStringifyObject(e.indexBody.config)},on:{input:function(t){e.applyEditorChanges(t)}}})],1)],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.jsonPaths,name:"question"}}),e._v("json_paths\n      ")],1),e._v(" "),s("b-col",[s("vue-tags-input",{class:{tags_selector_default:!0,tags_selector_invalid:e.isJsonPathsEmpty,tags_selector_valid:!e.isJsonPathsEmpty},attrs:{addOnKey:[13,32,186,188],saveOnKey:[13,32,186,188],tags:e.tags},on:{blur:e.onTagBlur,"tags-changed":e.onTagAdd},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}})],1)],1)],1),e._v(" "),s("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-button",{class:{"float-right":!0,disabled:!e.isValid},attrs:{size:"sm",variant:"success"},on:{click:function(t){t.preventDefault(),e.onConfirm(e.isModifying)}}},[e._v("\n      "+e._s(e.isModifying?"Update":"Create")+"\n    ")])],1)],1)},staticRenderFns:[]};var te=s("VU/8")(Z,ee,!1,function(e){s("yyEn")},"data-v-236e8508",null).exports,se={name:"DataTable",components:{Octicon:f.a,Editor:Y.a},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}},itemTemplate:{type:String,default:""},totalItems:{type:Number,default:0},columns:{type:Array,default:function(){return[]}},columnNames:{type:Array,default:function(){return[]}},noDisplayColumnsButton:{type:Boolean,default:!1},selectedFields:{type:Array,default:function(){return[]}},sortableFields:{type:Array,default:function(){return[]}},isWithActions:{type:Boolean,default:!1},isUpdateAllowed:{type:Boolean,default:!1},isRemoveAllowed:{type:Boolean,default:!1},sortField:{type:String,default:""},sortOrder:{type:String,default:""},onSelectedFieldsChange:{type:Function,default:m.a.noop},onSortChange:{type:Function,default:m.a.noop},onItemDelete:{type:Function,default:m.a.noop},onItemUpdate:{type:Function,default:m.a.noop}},data:function(){return{tableItems:m.a.cloneDeep(this.items),mutableItems:m.a.cloneDeep(this.items),tableSelectedFields:m.a.cloneDeep(this.selectedFields),newItemJson:this.itemTemplate}},beforeUpdate:function(){this.tableSelectedFields=this.selectedFields},computed:{fields:function(){return this.getFields()},itemsSize:function(){return m.a.size(this.items)},tableFieldsSelectedNotEmpty:function(){return!m.a.isEmpty(this.tableSelectedFields)}},methods:{getFields:function(){var e=this;if(m.a.isEmpty(this.items))return[];var t=this.columns.reduce(function(t,s,n){if(!e.tableSelectedFields.includes(s))return t;var a=t;return a[s]={key:s,label:e.columnNames[n]||s,sortable:!m.a.isEmpty(e.sortableFields)&&e.sortableFields.includes(s),class:"datatable_column"},a},{});return this.isWithActions&&(t.show_details={key:"_actions",label:"Actions",class:"datatable_actions_column"}),t},onSortCtxChange:function(e){var t={sortField:e.sortBy,sortOrder:e.sortDesc?"desc":"asc"};this.onSortChange(t)},onDelete:function(e){this.onItemDelete(this.items[e])},onUpdate:function(e){this.onItemUpdate(this.mutableItems[e])},onFieldSelect:function(e){if(this.tableSelectedFields.includes(e)){var t=this.tableSelectedFields.indexOf(e);this.tableSelectedFields.splice(t,1)}else this.tableSelectedFields.push(e);this.onSelectedFieldsChange(this.tableSelectedFields)},checkIsFieldSelected:function(e){return this.tableSelectedFields.includes(e)},prettyStringifyObject:function(e){return $()(e,null,"  ")},applyEditorChanges:function(e,t){var s={};try{s=JSON.parse(t)}catch(e){return}this.mutableItems[e]=s}},watch:{items:function(e){this.tableItems=m.a.cloneDeep(e),this.mutableItems=m.a.cloneDeep(e)},itemTemplate:function(e){this.newItemJson=e}}},ne={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"datatable-container"},[s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("h4",{staticClass:"float-left"},[e._v(e._s(e.title))])]),e._v(" "),s("b-col",{attrs:{cols:"6"}},[e.noDisplayColumnsButton?e._e():s("b-dropdown",{staticClass:"pull-right",attrs:{variant:"primary",text:"Columns"}},e._l(e.columns,function(t,n){return s("a",{key:n,staticClass:"dropdown-item datatable_custom_dropdown_item",attrs:{replace:""},on:{click:function(s){s.stopPropagation(),e.onFieldSelect(t)}}},[e.checkIsFieldSelected(t)?s("octicon",{attrs:{name:"check"}}):e._e(),e._v(e._s(t)+"\n        ")],1)}))],1)],1),e._v(" "),e.tableFieldsSelectedNotEmpty?s("b-table",{staticClass:"mt-2",attrs:{striped:"",bordered:"",hover:"",fixed:"",small:"","no-local-sorting":"",items:e.tableItems,fields:e.fields},on:{"sort-changed":e.onSortCtxChange},scopedSlots:e._u([e._l(e.fields,function(t){return{key:t.key,fn:function(t){return[s("div",{staticClass:"datatable_item_wrapper"},[e._v("\n      "+e._s(t.value)+"\n    ")])]}}}),{key:"_actions",fn:function(t){return[s("b-button",{staticClass:"mr-2",attrs:{variant:t.detailsShowing?"primary":"",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.toggleDetails(e)}}},[s("octicon",{attrs:{name:"pencil"}})],1),e._v(" "),e.isRemoveAllowed?s("b-button",{staticClass:"mr-2",attrs:{variant:"danger",size:"sm"},on:{click:function(s){s.stopPropagation(),e.onDelete(t.index)}}},[s("octicon",{attrs:{name:"trashcan"}})],1):e._e()]}},{key:"row-details",fn:function(t){return[s("b-card",[s("editor",{staticClass:"editor mt-1",attrs:{value:e.prettyStringifyObject(e.mutableItems[t.index]),lang:"json",theme:"chrome",width:"100%",height:"400px"},on:{input:function(s){e.applyEditorChanges(t.index,s)}}}),e._v(" "),e.isUpdateAllowed?s("div",{staticClass:"text-center"},[s("b-button",{staticClass:"mt-2",attrs:{variant:"primary",size:"md"},on:{click:function(s){s.stopPropagation(),e.onUpdate(t.index)}}},[e._v("Update")])],1):e._e()],1)]}}])}):e._e()],1)},staticRenderFns:[]};var ae=s("VU/8")(se,ne,!1,function(e){s("jo+p")},null,null).exports,ie={name:"IndexesPage",components:{DefaultLayout:F,Octicon:f.a,PageStatusNotifier:G,IndexModifyWindow:te,DataTable:ae},data:function(){var e={name:"",jsonPaths:[],fieldType:"",indexType:"",collateMode:"",sortOrderLetters:"",config:"{}",isPk:!1,isArray:!1,isDense:!1,isAppendable:!1,isSparse:!1};return{newIndexTemplate:d()({},e),index:d()({},e),indexModifyWindowIsShown:!1,isIndexModifying:!1}},computed:d()({},Object(h.d)({db:function(e){return e.settings.database},namespace:function(e){return e.settings.namespace},namespaceOne:function(e){return e.namespaces.one},isLoading:function(e){return e.namespaces.isLoading}}),Object(h.c)({indexes:"namespaces/indexes",fields:"namespaces/indexFields"}),{namespaceOneExists:function(){return!m.a.isEmpty(this.namespaceOne)},indexesSize:function(){return m.a.size(this.indexes)},selectedFields:function(){return m.a.cloneDeep(this.fields)},indexesWithLabels:function(){return this.indexes.map(function(e){return{name:e.name,fieldType:e.field_type,jsonPaths:m.a.join(e.json_paths,", "),indexType:e.index_type,options:[{label:"danger",value:e.is_pk?"PK":""},{label:"success",value:e.is_dense?"Dense":""},{label:"primary",value:e.is_array?"Array":""},{label:"info",value:e.is_sparse?"Sparse":""},{label:"warning",value:m.a.isEmpty(e.collate_mode)||"none"===e.collate_mode?"":"Collate: "+e.collate_mode},{label:"secondary",value:m.a.isEmpty(e.sort_order_letters)?"":'Sort order letters: "'+e.sort_order_letters+'"'}]}})}}),methods:{onIndexAddClick:function(){this.isIndexModifying=!1,this.indexModifyWindowIsShown=!0},onUpdateIndexClick:function(e){var t=this.indexes[e],s=m.a.mapKeys(t,function(e,t){return m.a.camelCase(t)});this.index=d()({},this.indexTemplate,s),this.isIndexModifying=!0,this.indexModifyWindowIsShown=!0},onIndexCreate:function(){var e=this,t=d()({},this.index,{config:JSON.parse(this.index.config)||{}}),s={db:this.db,namespace:this.namespace,index:t};this.$store.dispatch("namespaces/createIndex",s).then(function(){e.indexModifyWindowIsShown=!1})},onIndexUpdate:function(){var e=this,t=d()({},this.index,{config:JSON.parse(this.index.config)||{}}),s={db:this.db,namespace:this.namespace,index:t};this.$store.dispatch("namespaces/updateIndex",s).then(function(){e.indexModifyWindowIsShown=!1})},onIndexDeleteQuestion:function(e){var t=e.name;this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the index:",strongMessage:t,event:"onIndexDelete",eventParams:t})},onModifyIndexWindowHide:function(){this.indexModifyWindowIsShown=!1},onIndexModifyConfirm:function(){this.onCreateIndexClick()}},watch:{namespaceOne:function(e){m.a.isEqual(this.namespaceOne,e)||(this.index=m.a.copyDeep(this.newIndexTemplate))}}},oe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("IndexModifyWindow",{attrs:{index:e.index,isModifying:e.isIndexModifying},on:{onCreate:e.onIndexCreate,onUpdate:e.onIndexUpdate,onWindowHide:e.onModifyIndexWindowHide},model:{value:e.indexModifyWindowIsShown,callback:function(t){e.indexModifyWindowIsShown=t},expression:"indexModifyWindowIsShown"}}),e._v(" "),s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.db,currentNamespaceName:e.namespace}}),e._v(" "),e.namespaceOneExists?s("b-container",{attrs:{fluid:""}},[s("b-btn",{staticClass:"mb-3",attrs:{size:"sm",variant:"success"},on:{click:e.onIndexAddClick}},[e._v("Add index")]),e._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-sm table-bordered table-striped "},[s("thead",[s("tr",{staticClass:"d-flex"},[s("th",{staticClass:"col-sm-3"},[e._v("Index")]),e._v(" "),s("th",{staticClass:"col-sm-2"},[e._v("Field Json Path")]),e._v(" "),s("th",{staticClass:"col-sm-1"},[e._v("Field Type")]),e._v(" "),s("th",{staticClass:"col-sm-1"},[e._v("Index Type")]),e._v(" "),s("th",{staticClass:"col-sm-4"},[e._v("Options")]),e._v(" "),s("th",{staticClass:"col-sm-1"},[e._v("Actions")])])]),e._v(" "),s("tbody",e._l(e.indexesWithLabels,function(t,n){return s("tr",{key:n,staticClass:"d-flex"},[s("td",{staticClass:"col-sm-3"},[s("div",{staticClass:"cellContent"},[e._v(e._s(t.name))])]),e._v(" "),s("td",{staticClass:"col-sm-2"},[s("div",{staticClass:"cellContent"},[e._v(e._s(t.jsonPaths))])]),e._v(" "),s("td",{staticClass:"col-sm-1"},[e._v(e._s(t.fieldType))]),e._v(" "),s("td",{staticClass:"col-sm-1"},[e._v(e._s(t.indexType))]),e._v(" "),s("td",{staticClass:"col-sm-4"},[s("div",{staticClass:"cellContent"},e._l(t.options,function(t,n){return s("b-badge",{key:n,staticClass:"mr-3",attrs:{pill:"",variant:t.label}},[e._v(e._s(t.value))])}))]),e._v(" "),s("td",{staticClass:"col-sm-1"},[s("b-button",{staticClass:"mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(t){t.preventDefault(),e.onUpdateIndexClick(n)}}},[s("octicon",{attrs:{name:"pencil"}})],1),e._v(" "),s("b-button",{staticClass:"mr-1",attrs:{variant:"danger",size:"sm"},on:{click:function(s){s.preventDefault(),e.onIndexDeleteQuestion({name:t.name})}}},[s("octicon",{attrs:{name:"trashcan"}})],1)],1)])}))])])],1):e._e()],1)])},staticRenderFns:[]};var re=s("VU/8")(ie,oe,!1,function(e){s("EAeo")},"data-v-85ba554a",null).exports,ce=[10,25,50],le={db:"",namespace:"",q:"",filter:"",page:1,pageSize:ce[0],sortField:"",sortOrder:"asc",viewType:"list",offset:0,limit:ce[0]},de=s("Gu7T"),ue=s.n(de),me={name:"List",props:{visible:{type:Boolean,default:!0},canClear:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},items:{type:Array,default:[]},onItemUpdateQuestion:{type:Function,require:!0},onItemDeleteQuestion:{type:Function,require:!0},onDeleteAllQuestion:{type:Function,require:!0},jsonRootName:{type:Function,require:!0}},data:function(){return{editable:[]}},computed:{editableItems:function(){return[].concat(ue()(this.items))}},methods:{onChangeData:function(e,t){this.$set(this.editableItems,e,t)},editToggle:function(e){this.$set(this.editable,e,!this.editable[e])},updateItem:function(e){this.onItemUpdateQuestion(this.editableItems[e]),this.editToggle(e)}},mounted:function(){this.editable=m.a.fill(new Array(this.items.length),!1)}},pe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.visible?s("b-container",{attrs:{fluid:""}},[e._l(e.items,function(t,n){return s("b-row",{key:n},[s("b-col",[s("b-card",[s("tree-view",{attrs:{data:t,options:{modifiable:e.editable[n],maxDepth:1,rootObjectKey:e.jsonRootName(t)}},on:{"change-data":function(t){return e.onChangeData(n,t)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.editable[n],expression:"editable[index]"}]},[s("div",{staticClass:"text-left"},[s("b-btn",{staticClass:"btn mt-2 btn-primary btn-md",attrs:{variant:"primary"},on:{click:function(t){t.stopPropagation(),e.updateItem(n)}}},[e._v("Update")])],1)]),e._v(" "),s("div",{staticClass:"control_block"},[e.canEdit?s("b-btn",{on:{click:function(t){e.editToggle(n)}}},[s("svg",{staticClass:"octicon",attrs:{version:"1.1",role:"presentation",width:"14",height:"16",viewBox:"0 0 12 16"}},[s("path",{attrs:{d:"M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"}})])]):e._e(),e._v(" "),e.canEdit?s("b-btn",{attrs:{variant:"danger"},on:{click:function(){return e.onItemDeleteQuestion(t)}}},[s("svg",{staticClass:"octicon",attrs:{version:"1.1",role:"presentation",width:"12",height:"16",viewBox:"0 0 12 16"}},[s("path",{attrs:{d:"M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"}})])]):e._e()],1)],1)],1)],1)}),e._v(" "),e.canClear?s("b-btn",{staticClass:"mt-3",attrs:{variant:"danger",size:"md"},on:{click:e.onDeleteAllQuestion}},[e._v("Delete all")]):e._e()],2):e._e()},staticRenderFns:[]};var fe=s("VU/8")(me,pe,!1,function(e){s("3CPL")},"data-v-21a09582",null).exports,he={name:"ItemsPage",components:{DefaultLayout:F,Modal:S,PageStatusNotifier:G,DataTable:ae,Octicon:f.a,Editor:Y.a,List:fe},props:{db:{type:String,default:le.db},namespace:{type:String,default:le.namespace},page:{type:Number,default:le.page},pageSize:{type:Number,default:le.pageSize},sortField:{type:String,default:le.sortField},sortOrder:{type:String,default:le.sortOrder},filter:{type:String,default:le.filter},viewType:{type:String,default:le.viewType}},data:function(){var e=this.$props;return{params:d()({},e),jsonEditor:"",clHeight:500}},computed:d()({},Object(h.d)({view:function(e){return e.settings.view},dbUsed:function(e){return e.settings.database},namespaceUsed:function(e){return e.settings.namespace},columnsSelected:function(e){return e.settings.namespacesSelectedFields},items:function(e){return e.items.list},totalItems:function(e){return e.items.total},isLoading:function(e){return e.items.isLoading}}),Object(h.c)({indexesFields:"namespaces/indexesNames",sortableFields:"namespaces/sortableFields",itemTemplate:"namespaces/itemTemplate",columns:"items/fields",itemsSize:"items/itemsSize",itemsJson:"items/itemsJson"}),{selectedDb:function(){return this.db||this.dbUsed},selectedNs:function(){return this.namespace||this.namespaceUsed},columnsFromSettings:function(){var e=m.a.get(this.columnsSelected,this.db,null);return e?m.a.get(e,this.namespace,this.indexesFields):this.indexesFields},isLocked:function(){return!this.totalItems},paginationInfo:function(){var e=this.totalItems||this.itemsSize;return e?e+" item(s)":"No items found"},pageSizeVariants:function(){return ce}}),methods:d()({},Object(h.b)({selectDatabase:"settings/selectDatabase",selectNamespace:"settings/selectNamespace",getItemsList:"items/getItemsList",getNamespaceOne:"namespaces/getNamespaceOne"}),{jsonRootName:function(e){return this.indexesFields[0]?m.a.isEmpty(e)?this.namespace+"_"+this.indexesFields[0]:m.a.isEmpty(this.indexesFields.id)?this.namespace+"_"+this.indexesFields[0]+"_"+e[this.indexesFields[0]]:this.namespace+"_"+this.indexesFields.id+"_"+e[this.indexesFields.id]:""+this.namespace},onSelectedFieldsChange:function(e){this.$store.dispatch("settings/setSelectedFieldsForNamespace",{db:this.db,namespace:this.namespace,fields:e})},onQuery:function(){var e=this;this.params.db=this.selectedDb,this.params.namespace=this.selectedNs;var t=m.a.pickBy(this.params),s={db:this.selectedDb,namespace:this.selectedNs,params:d()({},t)},n=m.a.mapKeys(t,function(e,t){return m.a.snakeCase(t)});this.getItemsList(s).then(function(){e.$router.push({path:e.$router.path,query:n})})},onItemDeleteQuestion:function(e){var t=$()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the item:",strongMessage:t,event:"onItemDelete",eventParams:t})},onDeleteAllQuestion:function(){this.$cmodal.show({header:"Are you sure?",message:"This action will delete all items in the:",strongMessage:this.namespaceUsed,event:"onNamespaceClear"})},onItemCreateQuestion:function(e){var t=$()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will create a new item:",strongMessage:t,event:"onItemCreate",eventParams:t})},onItemUpdateQuestion:function(e){var t=$()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will change the existed item:",strongMessage:t,event:"onItemUpdate",eventParams:t})},onViewTypeChange:function(e){this.params.viewType=e,this.onQuery()},onPageSizeChange:function(e){this.params.pageSize=e,this.params.page=1,this.onQuery()},onPageChange:function(e){this.params.page=e,this.onQuery()},onSortChange:function(e){var t=e.sortField,s=e.sortOrder;this.params.sortField=t,this.params.sortOrder=s,this.onQuery()},onEditorSave:function(){try{var e=JSON.parse(this.$refs.editor.contentBackup);this.onItemCreateQuestion(e)}catch(e){m.a.noop()}},onFindClick:function(){this.onQuery()},resetFilter:function(){this.params.filter=""}}),mounted:function(){var e=this;this.selectDatabase(this.selectedDb),this.selectNamespace(this.selectedNs),this.selectedDb&&this.selectedNs&&this.getNamespaceOne({db:this.selectedDb,namespace:this.selectedNs}).then(function(){e.onQuery()}),this.$eventHub.on("namespaceChanged",this.resetFilter)}},be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.selectedDb,currentNamespaceName:e.selectedNs}}),e._v(" "),e.selectedDb&&e.selectedNs?s("b-container",{staticClass:"mb-4",attrs:{fluid:""}},[s("b-row",[s("b-col",[s("b-input-group",{attrs:{size:"sm"}},[s("b-input",{attrs:{size:"sm"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onFindClick(t):null}},model:{value:e.params.filter,callback:function(t){e.$set(e.params,"filter",t)},expression:"params.filter"}}),e._v(" "),s("b-button",{attrs:{variant:"success",size:"sm"},on:{click:e.onFindClick}},[e._v("Find")])],1)],1)],1),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",[s("b-button-group",{attrs:{size:"sm"}},[s("b-button",{attrs:{variant:"outline-primary",pressed:"list"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("list")}}},[e._v("List")]),e._v(" "),s("b-button",{attrs:{variant:"outline-primary",pressed:"table"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("table")}}},[e._v("Table")]),e._v(" "),s("b-button",{attrs:{variant:"success",pressed:"editor"===e.params.viewType},on:{click:function(t){t.preventDefault(),e.onViewTypeChange("editor")}}},[e._v("Editor")])],1)],1),e._v(" "),s("b-col",[s("center",[s("strong",[e._v(e._s(e.paginationInfo))])])],1),e._v(" "),s("b-col",[s("b-pagination",{staticClass:"float-right ml-2",attrs:{size:"sm","hide-ellipsis":"","hide-goto-end-buttons":"",limit:0,"total-rows":e.totalItems,"per-page":e.params.pageSize},on:{change:e.onPageChange},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}}),e._v(" "),s("b-dropdown",{staticClass:"float-right",attrs:{size:"sm",variant:"primary",text:String(e.params.pageSize)}},e._l(e.pageSizeVariants,function(t){return s("b-dropdown-item",{key:t,on:{click:function(s){e.onPageSizeChange(t)}}},[e._v(e._s(t)+"\n              ")])}))],1)],1)],1):e._e(),e._v(" "),s("List",{attrs:{visible:!("list"!==e.params.viewType||!e.itemsSize),items:e.items,jsonRootName:e.jsonRootName,onItemUpdateQuestion:e.onItemUpdateQuestion,onItemDeleteQuestion:e.onItemDeleteQuestion,onDeleteAllQuestion:e.onDeleteAllQuestion,canClear:""}}),e._v(" "),"table"===e.params.viewType&&e.itemsSize?s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",[e.selectedNs?s("data-table",{staticClass:"mt-1",attrs:{isWithActions:"",isUpdateAllowed:"",isRemoveAllowed:"",isCreateAllowed:"",title:e.selectedNs,items:e.items,itemTemplate:e.itemTemplate,columns:e.columns,selectedFields:e.columnsFromSettings,sortableFields:e.sortableFields,sortField:e.params.sortField,sortOrder:e.params.sortOrder,onSelectedFieldsChange:e.onSelectedFieldsChange,onSortChange:e.onSortChange,onItemDelete:e.onItemDeleteQuestion,onItemUpdate:e.onItemUpdateQuestion}}):e._e()],1)],1),e._v(" "),s("b-btn",{attrs:{variant:"danger",size:"md"},on:{click:e.onDeleteAllQuestion}},[e._v("Delete all")])],1):e._e(),e._v(" "),"editor"===e.params.viewType?s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",[s("b-card",[s("editor",{ref:"editor",staticClass:"editor",attrs:{lang:"json",theme:"chrome",width:"100%",height:e.clHeight,value:e.itemTemplate}}),e._v(" "),s("center",[s("b-btn",{staticClass:"mt-3",attrs:{variant:"success",size:"md"},on:{click:e.onEditorSave}},[e._v("Save")])],1)],1)],1)],1)],1):e._e()],1)])},staticRenderFns:[]};var ve=s("VU/8")(he,be,!1,function(e){s("poOh")},"data-v-f1e7f2f4",null).exports,ge=s("aatO"),Ee=s("vMAF"),_e=s.n(Ee),Se=_e()({SET:null,EQ:null,EMPTY:null,LT:null,LE:null,GT:null,GE:null,RANGE:null}),ye=_e()({MAX:null,MIN:null,AVG:null,SUM:null,FACET:null}),Ce=_e()({AND:null,NOT:null}),Ae={name:"QueryBuilder",components:{VueTagsInput:W.a,VueAutosuggest:ge.a,Editor:Y.a},data:function(){return{tag:"",tag_sort:[],tag_filters:[],query:{req_total:"enabled",filters:[],sort:[],explain:!1,select_filter:[],select_functions:[]},fieldsSort:[{key:"field",label:"Field"},{key:"desc",label:"Desc"},{key:"value",label:"Forced sort values"},{key:"remove",label:"&#9760;"}],fieldsFilters:[{key:"op",label:"Op"},{key:"field",label:"Field"},{key:"cond",label:"Condition"},{key:"value",label:"Value"},{key:"remove",label:"&#9760;"}],selectFunctionColumn:[{key:"func",label:"Function"},{key:"field",label:"Field"},{key:"remove",label:"&#9760;"}],conditions:Se,options:Ce,selectFunc:ye,filteredOptions:[]}},props:{page:{type:Number,default:le.page},pageSize:{type:Number,default:le.pageSize},tabIndex:{type:Number,default:0}},computed:d()({},Object(h.d)({namespaces:function(e){return e.namespaces.list},database:function(e){return e.settings.database},indexes:function(e){return e.namespaces.indexes},namespace:function(e){return e.settings.namespace}}),{indexesNotArray:function(){return this.indexes.filter(function(e){return!e.is_array})},namesOfIndexes:function(){return this.indexes.map(function(e){return e.name})},indexesNames:function(){var e=this.tag.split("");return this.indexes.map(function(e){return e.name.split("")}).filter(function(t){return m.a.intersection(e,t).length}).map(function(e){return{text:e.join("")}})},parseSelectFunctions:function(){var e=this;return this.query.select_functions.map(function(t){return e.splitSelectFunc(t)})}}),methods:d()({},Object(h.b)({getItemsListByQuery:"items/getItemsListByPost",getIndexesFromNamespace:"namespaces/getIndexesFromNamespace",selectNamespace:"settings/selectNamespace"}),{updateFilteredOptions:function(){this.filteredOptions=[{data:this.namesOfIndexes.sort()}]},splitSelectFunc:function(e){var t=e.substring(0,e.length-1).split(/\(/g);return{func:t[0],field:t[1]}},onSubmit:function(){var e={db:this.database,params:d()({},this.query,{namespace:this.namespace,limit:this.pageSize,offset:this.pageSize*(this.page-1)})};this.getItemsListByQuery(e)},getIndexes:function(){var e={db:this.database,namespace:this.namespace};this.getIndexesFromNamespace(e)},addSort:function(e){this.query.sort=m.a.unionBy([].concat(ue()(this.query.sort),[{field:e,desc:!0}]),"field")},removeSort:function(e){var t=e.field;this.query.sort=this.query.sort.filter(function(e){return e.field!==t})},addFilter:function(){this.query.filters.push({cond:Se.SET})},removeFilter:function(e){this.query.filters.splice(e,1)},setFilter:function(e){var t=e.index,s=e.field,n=e.value,a=this.query.filters;a[t][s]=n,this.query=d()({},this.query,{filters:a})},onFilterFieldChange:function(e,t){if(void 0!==e){var s=this.namesOfIndexes.filter(function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}).slice(0,10);this.filteredOptions=[{data:s}],this.setFilter({index:t,field:"field",value:e})}},resetQueryFilters:function(){this.query.filters=[]},resetQuerySort:function(){this.query.sort=[]},onTagAdd:function(e,t,s){if(m.a.isEmpty(e))m.a.unset(this.query,s+"."+t+".value");else{var n=e.map(function(e){return e.text})||[];m.a.set(this.query,s+"."+t+".value",n),this.$forceUpdate()}},selectFilterChange:function(e){this.query.select_filter=e.map(function(e){return e.text})},addSelectFuntion:function(){this.query.select_functions.push(this.selectFunc.MIN+"("+this.indexes[0].name+")")},selectFunction:function(e,t,s){var n=this.splitSelectFunc(this.query.select_functions[t]);n[s]=e,m.a.set(this.query,"select_functions["+t+"]",this.concatSelectFunc(n))},concatSelectFunc:function(e){return e.func+"("+e.field+")"},removeFunction:function(e){this.query.select_functions.splice(e,1)},applyEditorChanges:function(e){var t={};try{t=JSON.parse(e)}catch(e){return}this.query=t},showJSON:function(){this.$modal.show("json")}}),mounted:function(){this.$eventHub.on("itemsChanged",this.onSubmit)},watch:{namespace:function(){this.getIndexes(),this.resetQueryFilters(),this.resetQuerySort()},page:function(){1===this.tabIndex&&this.onSubmit()},pageSize:function(){1===this.tabIndex&&this.onSubmit()}}},Te={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[s("b-card",{attrs:{title:"Query Builder"}},[s("b-row",[s("b-col",{attrs:{cols:"4"}},[s("label",[e._v("Namespace\n          "),s("b-form-select",{staticClass:"mb-3",attrs:{value:e.namespace,md:"3"},on:{input:e.selectNamespace}},[s("option",{attrs:{value:""}},[e._v("Please select a namespace")]),e._v(" "),e._l(e.namespaces,function(t){return s("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])})],2)],1)]),e._v(" "),s("b-col",{attrs:{cols:"1","offset-md":"1"}},[s("div",{staticClass:"mt-4 form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.query.explain,expression:"query.explain"}],staticClass:"form-check-input",attrs:{id:"explain",type:"checkbox"},domProps:{checked:Array.isArray(e.query.explain)?e._i(e.query.explain,null)>-1:e.query.explain},on:{change:function(t){var s=e.query.explain,n=t.target,a=!!n.checked;if(Array.isArray(s)){var i=e._i(s,null);n.checked?i<0&&e.$set(e.query,"explain",s.concat([null])):i>-1&&e.$set(e.query,"explain",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.query,"explain",a)}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"explain"}},[e._v("Explain")])])])],1),e._v(" "),e.namespace?s("b-tabs",{attrs:{card:""}},[s("b-tab",{attrs:{title:"Sort",active:""}},[s("b-row",[s("b-col",{attrs:{cols:"12"}},[e.query.sort.length?s("b-table",{attrs:{striped:"",hover:"",dark:"",items:e.query.sort,fields:e.fieldsSort},scopedSlots:e._u([{key:"desc",fn:function(t){return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.desc,expression:"sort.item.desc"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.item.desc)?e._i(t.item.desc,null)>-1:t.item.desc},on:{change:function(s){var n=t.item.desc,a=s.target,i=!!a.checked;if(Array.isArray(n)){var o=e._i(n,null);a.checked?o<0&&e.$set(t.item,"desc",n.concat([null])):o>-1&&e.$set(t.item,"desc",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t.item,"desc",i)}}})]}},{key:"value",fn:function(t){return[s("vue-tags-input",{attrs:{placeholder:"Add value",addOnKey:[13,32,186,188],saveOnKey:[13,32,186,188]},on:{"tags-changed":function(s){return e.onTagAdd(s,t.index,"sort")}},model:{value:e.tag_sort[t.index],callback:function(s){e.$set(e.tag_sort,t.index,s)},expression:"tag_sort[sort.index]"}})]}},{key:"remove",fn:function(t){return[s("b-button",{staticClass:"button",attrs:{variant:"secondary"},on:{click:function(s){e.removeSort(t.item)}}},[e._v("Delete")])]}}])}):e._e(),e._v(" "),s("label",[e._v("Add new sort\n              "),s("b-form-select",{staticClass:"mb-3",attrs:{md:"6"},on:{change:e.addSort}},e._l(e.indexesNotArray,function(t){return s("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])}))],1)],1)],1)],1),e._v(" "),s("b-tab",{attrs:{title:"Filters"}},[s("b-row",[s("b-col",{attrs:{cols:"12"}},[e.query.filters.length?s("b-table",{attrs:{striped:"",hover:"",dark:"",items:e.query.filters,fields:e.fieldsFilters},scopedSlots:e._u([{key:"field",fn:function(t){return[s("vue-autosuggest",{attrs:{suggestions:e.filteredOptions,"input-props":{class:"autosuggest__input",onInputChange:function(s){return e.onFilterFieldChange(s,t.index)},placeholder:"Select field"},limit:10,"section-configs":{default:{onSelected:function(s,n){return e.setFilter({index:t.index,field:"field",value:n})}}}},on:{click:function(t){e.updateFilteredOptions()},selected:function(s){var n=s.item;return e.setFilter({index:t.index,field:"field",value:n})}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.suggestion;return[s("span",{staticClass:"my-suggestion-item"},[e._v(e._s(n.item))])]}}])})]}},{key:"cond",fn:function(t){return[s("b-form-select",{attrs:{value:{index:t.index,field:"cond",value:t.item.cond}},on:{change:e.setFilter}},e._l(e.conditions,function(n){return s("option",{domProps:{value:{index:t.index,field:"cond",value:n}}},[e._v(e._s(n))])}))]}},{key:"op",fn:function(t){return[s("b-form-select",{attrs:{value:{index:t.index,field:"op",value:t.item.op}},on:{change:e.setFilter}},e._l(e.options,function(n){return s("option",{domProps:{value:{index:t.index,field:"op",value:n}}},[e._v(e._s(n))])}))]}},{key:"value",fn:function(t){return[s("vue-tags-input",{attrs:{placeholder:"Add value",addOnKey:[13,32,186,188],saveOnKey:[13,32,186,188]},on:{"tags-changed":function(s){return e.onTagAdd(s,t.index,"filters")}},model:{value:e.tag_filters[t.index],callback:function(s){e.$set(e.tag_filters,t.index,s)},expression:"tag_filters[filter.index]"}})]}},{key:"remove",fn:function(t){return[s("b-button",{staticClass:"button",attrs:{variant:"secondary"},on:{click:function(s){e.removeFilter(t.index)}}},[e._v("Delete")])]}}])}):e._e(),e._v(" "),s("b-btn",{staticClass:"mt-3 mb-3 button",attrs:{variant:"primary"},on:{click:e.addFilter}},[e._v("Add new filter")])],1)],1)],1),e._v(" "),s("b-tab",{attrs:{title:"Select filter"}},[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("vue-tags-input",{attrs:{placeholder:"Add field",addOnKey:[13,32,186,188],saveOnKey:[13,32,186,188],"autocomplete-items":e.indexesNames},on:{"tags-changed":e.selectFilterChange},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}})],1)],1)],1),e._v(" "),e._e()],1):e._e(),e._v(" "),s("b-row",[s("b-col",{staticClass:"mt-3 mb-2",attrs:{cols:"1",offset:"10"}},[s("b-button-group",[s("b-button",{on:{click:e.showJSON}},[e._v("View")]),e._v(" "),s("b-button",{staticClass:"button",attrs:{type:"submit",variant:"success"}},[e._v("Execute")])],1)],1)],1)],1),e._v(" "),s("v-modal",{attrs:{name:"json",adaptive:!0,scrollable:!0,minWidth:500,minHeight:700}},[s("b-card",{attrs:{title:"JSON preview"}},[s("editor",{staticClass:"editor editor_config",attrs:{lang:"json",theme:"chrome",width:"100%",height:"600px",value:JSON.stringify(e.query,null,"  ")}})],1)],1)],1)},staticRenderFns:[]};var xe=s("VU/8")(Ae,Te,!1,function(e){s("V0xv"),s("hYoW")},"data-v-4e339499",null).exports,we={name:"Explain",components:{DataTable:ae},data:function(){return{columns:["field","method","keys","cost","matched","comparators"]}},computed:d()({},Object(h.d)({explain:function(e){return e.items.explain}}),{selectedFields:function(){return m.a.cloneDeep(this.columns)}})},Ie={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[e.explain?s("b-card",{attrs:{title:"Explain"}},[s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("th",[e._v("indexes")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.indexes_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Indexes keys select time")])]),e._v(" "),s("tr",[s("th",[e._v("loop")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.loop_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Intersection loop time")])]),e._v(" "),s("tr",[s("th",[e._v("postprocess")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.postprocess_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Query post process time")])]),e._v(" "),s("tr",[s("th",[e._v("prepare")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.prepare_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Query prepare and optimize time")])]),e._v(" "),s("tr",[s("th",[e._v("sort_index")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.sort_index))])]),e._v(" "),s("td",[e._v("Index, which used for sort results")])]),e._v(" "),s("tr",[s("th",[e._v("total")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.total_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Total query execution time")])])])]),e._v(" "),s("h4",{staticClass:"selectors_header"},[e._v("selectors")]),e._v(" "),e.explain.selectors?s("data-table",{staticClass:"mt-1",attrs:{items:e.explain.selectors,columns:e.columns,selectedFields:e.selectedFields}}):e._e()],1):s("b-card",[e._v("Вы не указали explain в запросе")])],1)],1)},staticRenderFns:[]};var Ne=s("VU/8")(we,Ie,!1,function(e){s("8P4r")},"data-v-de2521be",null).exports,Le=s("fZjL"),De=s.n(Le),Fe={name:"Aggregations",components:{DataTable:ae},computed:d()({},Object(h.d)({aggregations:function(e){return e.items.aggregations},columns:function(e){var t=e.items.aggregations.find(function(e){return"facet"===e.type}),s=Object(u.get)(t,"facets[0]",{});return De()(s||[])},columnsName:function(){return[(this.aggregations.find(function(e){return"facet"===e.type})||{}).field,"count"]}}),{selectedFields:function(){return Object(u.cloneDeep)(this.columns)}})},Be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[e.aggregations?s("b-card",e._l(e.aggregations,function(t){return s("div",["facet"!==t.type?s("div",{staticClass:"aggregation"},[s("span",{staticClass:"type"},[e._v(e._s(t.type))]),e._v(" "),s("span",[e._v("("+e._s(t.field)+")")]),e._v(" "),s("span",[e._v(" = ")]),e._v(" "),s("span",[e._v(e._s(t.value))])]):e._e(),e._v(" "),"facet"===t.type?s("data-table",{attrs:{items:t.facets,columns:e.columns,"column-names":e.columnsName,selectedFields:e.selectedFields,"no-display-columns-button":""}}):e._e()],1)})):e._e()],1)],1)},staticRenderFns:[]};var Me={name:"ItemsPage",components:{DefaultLayout:F,DataTable:ae,PageStatusNotifier:G,Explain:Ne,Aggregations:s("VU/8")(Fe,Be,!1,function(e){s("7YRr")},"data-v-69b28666",null).exports,QueryBuilder:xe,List:fe},props:{db:{type:String,default:le.db},page:{type:Number,default:le.page},pageSize:{type:Number,default:le.pageSize},viewType:{type:String,default:le.viewType},q:{type:String,default:le.q}},data:function(){var e=this.$props;return{tabIndex:0,params:d()({},e)}},computed:d()({},Object(h.d)({queryHistory:function(e){return e.settings.queryHistory},database:function(e){return e.settings.database},items:function(e){return e.items.qList},explain:function(e){return e.items.explain},aggregations:function(e){return e.items.aggregations},totalItems:function(e){return e.items.qTotal},queryTotal:function(e){return e.items.queryTotal},isLoading:function(e){return e.items.isLoading},namespaces:function(e){return e.items.namespaces},cacheEnabled:function(e){return e.items.cacheEnabled}}),Object(h.c)({fields:"items/qFields",itemsSize:"items/qItemsSize"}),{rightNamespace:function(){return 1===this.namespaces.length},selectedFields:function(){return m.a.cloneDeep(this.fields)},isAnyItemInQueryHistory:function(){return!m.a.isEmpty(this.queryHistory)},isLocked:function(){return!this.totalItems},isExplain:function(){return!m.a.isNull(this.explain)},isAggregations:function(){return!m.a.isEmpty(this.aggregations)},paginationInfo:function(){var e=this.totalItems;return e?e+" item(s)":"No items found"},queryTotalInfo:function(){var e=this.queryTotal,t=this.totalItems;return e&&e!==t?", "+e+" total":""},pageSizeVariants:function(){return ce}}),methods:d()({},Object(h.b)({selectDatabase:"settings/selectDatabase",pushQueryToHistory:"settings/pushQueryToHistory",loadQueriesFromHistory:"settings/loadQueriesFromHistory",getItemsListByQuery:"items/getItemsListByQuery"}),{jsonRootName:function(e){if(m.a.isEmpty(e[this.fields.id])){var t=this.fields[0];return t+"_"+e[t]}return this.fields.id+"_"+e.id},onQuery:function(){var e=this;m.a.isEmpty(this.$refs.queryselect)||(this.$refs.queryselect.visible=!1);var t=this.database||this.params.db;if(t){this.database||this.selectDatabase(t),this.params.db=this.database,this.params.q=this.params.q.trim();var s=m.a.pickBy(this.params),n={db:this.database,params:d()({},s)},a=m.a.mapKeys(s,function(e,t){return m.a.snakeCase(t)});this.params.q&&(this.pushQueryToHistory({query:this.params.q}),this.getItemsListByQuery(n).then(function(){e.acceptChangeViewType(a)}))}},acceptChangeViewType:function(e){var t=this.params.viewType;"explain"!==t||this.isExplain||this.onViewTypeChange("list"),"aggregations"!==t||this.isAggregations||this.onViewTypeChange("list"),"list"!==t&&"table"!==t||(this.isLocked&&this.isExplain&&this.onViewTypeChange("explain"),this.isLocked&&this.isAggregations&&this.onViewTypeChange("aggregations")),this.$router.push({path:this.$router.path,query:e})},onQuerySelect:function(e){this.params.q=e,this.onQuery()},onViewTypeChange:function(e){this.params.viewType=e,0===this.tabIndex&&this.onQuery()},onPageSizeChange:function(e){this.params.pageSize=e,this.params.page=1,0===this.tabIndex&&this.onQuery()},onPageChange:function(e){this.params.page=e,0===this.tabIndex&&this.onQuery()},onItemDeleteQuestion:function(e){var t=this,s=$()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the item:",strongMessage:s,event:"onItemDelete",eventParams:s,callback:0===this.tabIndex?this.onQuery:function(){return t.$eventHub.emit("itemsChanged")}})},onItemUpdateQuestion:function(e){var t=this,s=$()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will change the existed item:",strongMessage:s,event:"onItemUpdate",eventParams:s,callback:0===this.tabIndex?this.onQuery:function(){return t.$eventHub.emit("itemsChanged")}})}}),mounted:function(){this.loadQueriesFromHistory(),this.onQuery()}},Pe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.database}}),e._v(" "),e.database?s("b-container",{attrs:{fluid:""}},[s("b-tabs",{model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[s("b-tab",{attrs:{title:"SQL",active:""}},[s("b-row",[s("b-col",{attrs:{cols:"11"}},[s("b-form-textarea",{staticClass:"queryarea",attrs:{placeholder:"Query",rows:3,"max-rows":6,disabled:!e.database},nativeOn:{keyup:function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter"))&&t.ctrlKey?e.onQuery(t):null}},model:{value:e.params.q,callback:function(t){e.$set(e.params,"q",t)},expression:"params.q"}})],1),e._v(" "),s("b-col",{attrs:{cols:"1"}},[s("b-button-group",[s("b-button",{attrs:{disabled:!e.database},on:{click:function(t){return t.stopPropagation(),e.onQuery(t)}}},[e._v("Execute")]),e._v(" "),s("b-dropdown",{ref:"queryselect",attrs:{disabled:!e.isAnyItemInQueryHistory}},e._l(e.queryHistory,function(t,n){return s("b-dropdown-item",{key:n,on:{click:function(s){s.stopPropagation(),e.onQuerySelect(t)}}},[e._v(e._s(t))])}))],1)],1)],1)],1),e._v(" "),s("b-tab",{attrs:{title:"Query builder"}},[s("query-builder",{attrs:{tabIndex:e.tabIndex,page:e.params.page,pageSize:e.params.pageSize}})],1)],1),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",[s("b-button-group",{attrs:{size:"sm"}},[s("b-button",{attrs:{disabled:e.isLocked,variant:"outline-primary",pressed:"list"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("list")}}},[e._v("List")]),e._v(" "),s("b-button",{attrs:{disabled:e.isLocked,variant:"outline-primary",pressed:"table"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("table")}}},[e._v("Table")]),e._v(" "),e.explain?s("b-button",{attrs:{variant:"outline-primary",pressed:"explain"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("explain")}}},[e._v("Explain")]):e._e(),e._v(" "),e.aggregations.length?s("b-button",{attrs:{variant:"outline-primary",pressed:"aggregations"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("aggregations")}}},[e._v("Aggregations")]):e._e()],1)],1),e._v(" "),s("b-col",[s("center",[s("strong",[e._v(e._s(e.paginationInfo)+e._s(e.queryTotalInfo))])])],1),e._v(" "),s("b-col",[s("b-pagination",{staticClass:"float-right ml-2",attrs:{disabled:e.isLocked||"explain"===this.params.viewType,size:"sm","hide-ellipsis":"","hide-goto-end-buttons":"",limit:0,"total-rows":e.totalItems,"per-page":e.params.pageSize},on:{change:e.onPageChange},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}}),e._v(" "),s("b-dropdown",{staticClass:"float-right",attrs:{disabled:e.isLocked||"explain"===this.params.viewType,size:"sm",variant:"primary",text:String(e.params.pageSize)}},e._l(e.pageSizeVariants,function(t,n){return s("b-dropdown-item",{key:n,on:{click:function(s){e.onPageSizeChange(t)}}},[e._v(e._s(t)+"\n            ")])}))],1)],1)],1):e._e(),e._v(" "),s("List",{attrs:{visible:"list"===e.params.viewType,items:e.items,jsonRootName:e.jsonRootName,onItemUpdateQuestion:e.onItemUpdateQuestion,onItemDeleteQuestion:e.onItemDeleteQuestion,canEdit:e.cacheEnabled&&e.rightNamespace}}),e._v(" "),"table"===e.params.viewType?s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",[e.itemsSize?s("data-table",{staticClass:"mt-1",attrs:{isWithActions:e.cacheEnabled&&e.rightNamespace,isUpdateAllowed:e.cacheEnabled&&e.rightNamespace,isRemoveAllowed:e.cacheEnabled&&e.rightNamespace,items:e.items,columns:e.fields,selectedFields:e.selectedFields,onItemDelete:e.onItemDeleteQuestion,onItemUpdate:e.onItemUpdateQuestion}}):e._e()],1)],1)],1):e._e(),e._v(" "),"explain"===e.params.viewType?s("b-container",{attrs:{fluid:""}},[s("Explain")],1):e._e(),e._v(" "),"aggregations"===e.params.viewType?s("b-container",{attrs:{fluid:""}},[s("Aggregations")],1):e._e()],1)])},staticRenderFns:[]};var ke=s("VU/8")(Me,Pe,!1,function(e){s("poNc")},"data-v-76b3e442",null).exports,Ue=s("qJdz"),Oe=s.n(Ue),je={db:function(e){return m.a.isEmpty(e.db)?le.db:decodeURIComponent(e.db)},namespace:function(e){return m.a.isEmpty(e.namespace)?le.namespace:decodeURIComponent(e.namespace)},filter:function(e){return m.a.isEmpty(e.filter)?le.filter:decodeURIComponent(e.filter)},q:function(e){return m.a.isEmpty(e.q)?le.q:decodeURIComponent(e.q)},viewType:function(e){return m.a.isEmpty(e.viewType)?le.viewType:decodeURIComponent(e.viewType)},page:function(e){return parseInt(e.page,10)||le.page},pageSize:function(e){return parseInt(e.pageSize,10)||le.pageSize},sortOrder:function(e){return parseInt(e.sortOrder,10)||le.sortOrder},sortField:function(e){return parseInt(e.sortField,10)||le.sortField},makeForItemsPage:function(e){var t=Oe.a.camelizeKeys(e);return{db:this.db(t),namespace:this.namespace(t),page:this.page(t),pageSize:this.pageSize(t),sortField:this.sortField(t),sortOrder:this.sortOrder(t),viewType:this.viewType(t),filter:this.filter(t)}},makeForQueriesPage:function(e){var t=Oe.a.camelizeKeys(e);return{db:this.db(t),page:this.page(t),pageSize:this.pageSize(t),viewType:this.viewType(t),q:this.q(t)}}};n.a.use(o.a);var Re,ze=new o.a({mode:"history",base:"/face",routes:[{path:"*",name:"NotFoundPage",component:c},{path:y.root,name:"MainPage",component:R},{path:y.indexes,name:"IndexesPage",component:re},{path:y.items,name:"ItemsPage",component:ve,props:function(e){return je.makeForItemsPage(e.query)}},{path:y.queries,name:"QueriesPage",component:ke,props:function(e){return je.makeForQueriesPage(e.query)}}]}),Xe=(s("sax8"),s("lHA8")),qe=s.n(Xe),Qe=function(e){return m.a.get(e,"items",[])},Ge=function(e){return m.a.get(e,"explain",null)},He=function(e){return m.a.get(e,"aggregations",[])},$e=function(e){return m.a.get(e,"total_items",0)},Ve=function(e){return m.a.get(e,"cache_enabled",!1)},Ye=function(e){return m.a.get(e,"namespaces",[])},Ke=function(e){return m.a.get(e,"query_total_items",0)},We=function(e){if(m.a.isEmpty(e))return[];var t=e.reduce(function(e,t){var s=m.a.keys(t);return[].concat(ue()(e),ue()(s))},m.a.keys(e[0]));return[].concat(ue()(new qe.a(t)))},Je=function(e){return m.a.get(e,"response.data.description","")||m.a.get(e,"response","")||"Error is occurred"},Ze=function(e){return m.a.get(e,"indexes",[])},et=_e()({SET_DATABASE:null,SET_NAMESPACE:null,SIDEBAR_TOGGLE:null,TABLE_SET_NAMESPACES_COLUMNS:null,SETTINGS_DATABASE_RESET:null,SETTINGS_NAMESPACE_RESET:null,LOAD_QUERIES_FROM_HISTORY:null,PUSH_QUERY_TO_HISTORY:null}),tt=d()({},et),st={resetSelectedNamespace:function(e){(0,e.commit)(tt.SETTINGS_NAMESPACE_RESET)},selectDatabase:function(e,t){var s={name:t};(0,e.commit)(tt.SET_DATABASE,s)},selectNamespace:function(e,t){var s={name:t};(0,e.commit)(tt.SET_NAMESPACE,s)},sidebarToggle:function(e){(0,e.commit)(tt.SIDEBAR_TOGGLE)},throwError:function(e,t){return(0,e.dispatch)(b.ADD_TOAST_MESSAGE,{text:Je(t),type:"danger"},{root:!0})},showSuccessMessage:function(e,t){return(0,e.dispatch)(b.ADD_TOAST_MESSAGE,{text:t,type:"success"},{root:!0})},setSelectedFieldsForNamespace:function(e,t){(0,e.commit)(tt.TABLE_SET_NAMESPACES_COLUMNS,t)},loadQueriesFromHistory:function(e,t){(0,e.commit)(tt.LOAD_QUERIES_FROM_HISTORY,t)},pushQueryToHistory:function(e,t){(0,e.commit)(tt.PUSH_QUERY_TO_HISTORY,t)}},nt=s("bOdI"),at=s.n(nt),it=15;var ot={namespaced:!0,actions:st,getters:{},mutations:(Re={},at()(Re,tt.SETTINGS_DATABASE_RESET,function(e){e.database=""}),at()(Re,tt.SETTINGS_NAMESPACE_RESET,function(e){e.namespace="",e.namespacesSelectedFields={}}),at()(Re,tt.SET_DATABASE,function(e,t){var s=t.name;e.database=s}),at()(Re,tt.SET_NAMESPACE,function(e,t){var s=t.name;e.namespace=s}),at()(Re,tt.SIDEBAR_TOGGLE,function(e){e.isSidebarOpened=!e.isSidebarOpened}),at()(Re,tt.TABLE_SET_NAMESPACES_COLUMNS,function(e,t){var s=t.db,n=t.namespace,a=t.fields;m.a.isEmpty(e.namespacesSelectedFields[s])&&(e.namespacesSelectedFields[s]={}),e.namespacesSelectedFields[s][n]=a}),at()(Re,tt.LOAD_QUERIES_FROM_HISTORY,function(e){e.queryHistory=function(){var e=localStorage.getItem("reindexerQueryHistory"),t=JSON.parse(e);if(!m.a.isArray(t))return[];var s=[].concat(ue()(m.a.slice(t,0,it)));return m.a.without(s,null,void 0)}()}),at()(Re,tt.PUSH_QUERY_TO_HISTORY,function(e,t){var s=t.query,n=e.queryHistory,a=void 0;a=m.a.size(n)?m.a.size(n)<it?[s].concat(ue()(n)):[s].concat(ue()(m.a.slice(n,0,it-1))):[s];var i=m.a.uniq(a),o=m.a.without(i,null,void 0);!function(e){var t=$()(e);localStorage.setItem("reindexerQueryHistory",t)}(o),e.queryHistory=o}),Re),state:{database:"",namespace:"",namespacesSelectedFields:{},isSidebarOpened:!0,queryHistory:[]}},rt=s("//Fk"),ct=s.n(rt),lt=s("Zrlr"),dt=s.n(lt),ut=s("wxAW"),mt=s.n(ut),pt=s("mtWM"),ft=s.n(pt),ht=s("OAwv"),bt=s.n(ht),vt=s("mTx5"),gt=s.n(vt),Et=new(function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dt()(this,e),this.isCancel=pt.isCancel,this.baseurl=t,this.metadata={headers:s},this.sources={}}return mt()(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.sources[e];if(s){n&&n.cancel();var a=pt.CancelToken.source();this.sources[e]=a,this.metadata=d()({},this.metadata,{cancelToken:a.token})}if(m.a.isEmpty(t))return ft.a.get(gt()(this.baseurl,e),this.metadata);var i=Oe.a.decamelizeKeys(t),o="?"+bt.a.stringify(i);return ft.a.get(gt()(this.baseurl,e,o),this.metadata)}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ft.a.post(gt()(this.baseurl,e),t,{headers:{"Content-Type":"application/json"}})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ft.a.put(gt()(this.baseurl,e),t,{headers:{"Content-Type":"application/json"}})}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ft.a.delete(gt()(this.baseurl,e),{data:t})}}]),e}())("/api/v1");function _t(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;e.includes(":"+t);)e=e.replace(":"+t,encodeURIComponent(arguments.length<=t+1?void 0:arguments[t+1])||null),t+=1;return e}var St=d()({},{status:"/check",databases:"/db",database:"/db/:0",namespaces:"/db/:0/namespaces",namespace:"/db/:0/namespaces/:1",items:"/db/:0/namespaces/:1/items",indexes:"/db/:0/namespaces/:1/indexes",index:"/db/:0/namespaces/:1/indexes/:2",query:"/db/:0/query"});function yt(e){var t=Oe.a.decamelize(e).toUpperCase();return{REQUEST:t+"_REQUEST",SUCCESS:t+"_SUCCESS",FAIL:t+"_FAIL"}}var Ct,At,Tt,xt,wt=_e()({MODIFY_SERVICE_STATE_AS_KEY_VALUE:null}),It={STATUS_GET:yt("getStatus")},Nt=d()({},It,wt),Lt={namespaced:!0,actions:{modifyStateAsKV:function(e,t){(0,e.commit)(Nt.MODIFY_SERVICE_STATE_AS_KEY_VALUE,t)},getStatus:function(e,t){var s=e.commit;return new ct.a(function(e,n){Et.get(St.status,t).then(function(t){var n={status:t.data};s(Nt.STATUS_GET.SUCCESS,n),e()},function(e){s(Nt.STATUS_GET.FAIL,e),n()}).catch(function(e){s(Nt.STATUS_GET.FAIL,e),n()})})}},getters:{},mutations:(Ct={},at()(Ct,Nt.MODIFY_SERVICE_STATE_AS_KEY_VALUE,function(e,t){for(var s=De()(t)||[],n=0;n<=m.a.size(s);n+=1)e[s[n]]=t[s[n]]}),at()(Ct,Nt.STATUS_GET.REQUEST,function(e){e.status={}}),at()(Ct,Nt.STATUS_GET.SUCCESS,function(e,t){var s=t.status;e.status=s}),at()(Ct,Nt.STATUS_GET.FAIL,function(e){e.status={}}),Ct),state:{status:{},startTime:0,uptime:0,version:""}},Dt={DB_GET_LIST:yt("getDbList"),DB_DELETE:yt("deleteDb"),DB_CREATE:yt("createDb")},Ft=d()({},Dt),Bt={namespaced:!0,actions:{getDbList:function(e,t){var s=e.commit,n=e.dispatch,a=d()({},t,{sortOrder:"asc"});return new ct.a(function(e,t){Et.get(St.databases,a).then(function(t){var n=t.data,a={list:Qe(n)};s(Ft.DB_GET_LIST.SUCCESS,a),e()},function(e){s(Ft.DB_GET_LIST.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ft.DB_GET_LIST.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},createDb:function(e,t){var s=e.commit,n=e.dispatch;s(Ft.DB_CREATE.REQUEST);var a={name:t};return new ct.a(function(e,t){Et.create(St.databases,a).then(function(){s(Ft.DB_CREATE.SUCCESS),n("settings/showSuccessMessage","Database is created",{root:!0}),n("getDbList").then(function(){return e()})},function(e){s(Ft.DB_CREATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ft.DB_CREATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},deleteDb:function(e,t){var s=e.commit,n=e.dispatch;return s(Ft.DB_DELETE.REQUEST),new ct.a(function(e,a){Et.delete(_t(St.database,t)).then(function(){s(Ft.DB_DELETE.SUCCESS),n("settings/showSuccessMessage","Database is deleted",{root:!0}),n("getDbList").then(function(){return e()})},function(e){s(Ft.DB_DELETE.FAIL,e),n("settings/throwError",e,{root:!0}),a()}).catch(function(e){s(Ft.DB_DELETE.FAIL,e),n("settings/throwError",e,{root:!0}),a()})})}},getters:{},mutations:(At={},at()(At,Ft.DB_GET_LIST.REQUEST,function(e){e.isLoading=!0}),at()(At,Ft.DB_GET_LIST.FAIL,function(e){e.isLoading=!1}),at()(At,Ft.DB_GET_LIST.SUCCESS,function(e,t){e.list=t.list,e.isLoading=!1}),at()(At,Ft.DB_DELETE.REQUEST,function(e){e.isLoading=!0}),at()(At,Ft.DB_DELETE.FAIL,function(e){e.isLoading=!1}),at()(At,Ft.DB_DELETE.SUCCESS,function(e){e.isLoading=!1}),at()(At,Ft.DB_CREATE.REQUEST,function(e){e.isLoading=!0}),at()(At,Ft.DB_CREATE.FAIL,function(e){e.isLoading=!1}),at()(At,Ft.DB_CREATE.SUCCESS,function(e){e.isLoading=!1}),At),state:{list:[],one:[],isLoading:!1}},Mt={NAMESPACES_GET_LIST:yt("getNamespacesList"),NAMESPACES_GET_ONE:yt("getNamespace"),NAMESPACE_DELETE:yt("deleteNamespace"),NAMESPACE_CREATE:yt("createNamespace"),NAMESPACE_INDEX_DELETE:yt("deleteIndex"),NAMESPACE_INDEX_CREATE:yt("createIndex"),NAMESPACE_INDEX_UPDATE:yt("updateIndex"),GET_INDEXES_FROM_NAMESPACE:yt("getIndexesFromNamespace")},Pt=_e()({NAMESPACES_PARAMS_SET:null,NAMESPACES_RESET:null}),kt=d()({},Mt,Pt),Ut={namespaced:!0,actions:{reset:function(e){(0,e.commit)(kt.NAMESPACES_RESET)},getNamespacesList:function(e,t){var s=e.commit,n=e.dispatch,a={sortOrder:"asc"};return s(kt.NAMESPACES_GET_LIST.REQUEST),new ct.a(function(e,i){Et.get(_t(St.namespaces,t),a).then(function(t){var n=t.data,a={list:Qe(n)};s(kt.NAMESPACES_GET_LIST.SUCCESS,a),e()},function(e){s(kt.NAMESPACES_GET_LIST.FAIL,e),n("settings/throwError",e,{root:!0}),i()}).catch(function(e){s(kt.NAMESPACES_GET_LIST.FAIL,e),n("settings/throwError",e,{root:!0}),i()})})},getNamespaceOne:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace;return s(kt.NAMESPACES_GET_ONE.REQUEST),new ct.a(function(e,t){Et.get(_t(St.namespace,a,i)).then(function(t){var n=t.data;s(kt.NAMESPACES_GET_ONE.SUCCESS,{one:n}),e()},function(e){s(kt.NAMESPACES_GET_ONE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(kt.NAMESPACES_GET_ONE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},setNamespacesParams:function(e){var t={params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};(0,e.commit)(kt.NAMESPACES_PARAMS_SET,t)},createNamespace:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.json;return s(kt.NAMESPACE_CREATE.REQUEST),new ct.a(function(e,t){Et.create(_t(St.namespaces,a),i).then(function(){s(kt.NAMESPACE_CREATE.SUCCESS),n("settings/showSuccessMessage","Namespace is created",{root:!0}),n("getNamespacesList",a).then(function(){return e()})},function(e){s(kt.NAMESPACE_CREATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(kt.NAMESPACE_CREATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},deleteNamespace:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace;return s(kt.NAMESPACE_DELETE.REQUEST),new ct.a(function(e,t){Et.delete(_t(St.namespace,a,i)).then(function(){s(kt.NAMESPACE_DELETE.SUCCESS),n("settings/showSuccessMessage","Namespace is deleted",{root:!0}),n("getNamespacesList",a).then(function(){return e()})},function(e){s(kt.NAMESPACE_DELETE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(kt.NAMESPACE_DELETE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},deleteIndex:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace,o=t.index;return s(kt.NAMESPACE_INDEX_DELETE.REQUEST),new ct.a(function(e,t){Et.delete(_t(St.index,a,i,o)).then(function(){s(kt.NAMESPACE_INDEX_DELETE.SUCCESS),n("settings/showSuccessMessage","Index '"+o+"' is deleted from namespace '"+i+"'",{root:!0}),n("getNamespaceOne",{db:a,namespace:i}).then(function(){return e()})},function(e){s(kt.NAMESPACE_INDEX_DELETE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(kt.NAMESPACE_INDEX_DELETE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},createIndex:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace,o=t.index;s(kt.NAMESPACE_INDEX_CREATE.REQUEST);var r=m.a.mapKeys(o,function(e,t){return m.a.snakeCase(t)});return new ct.a(function(e,t){Et.create(_t(St.indexes,a,i),r).then(function(){s(kt.NAMESPACE_INDEX_CREATE.SUCCESS),n("settings/showSuccessMessage","Index '"+o.name+"' is added to namespace '"+i+"'",{root:!0}),n("getNamespaceOne",{db:a,namespace:i}).then(function(){return e()})},function(e){s(kt.NAMESPACE_INDEX_CREATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(kt.NAMESPACE_INDEX_CREATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},updateIndex:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace,o=t.index;s(kt.NAMESPACE_INDEX_UPDATE.REQUEST);var r=m.a.mapKeys(o,function(e,t){return m.a.snakeCase(t)});return new ct.a(function(e,t){Et.update(_t(St.indexes,a,i),r).then(function(){s(kt.NAMESPACE_INDEX_UPDATE.SUCCESS),n("settings/showSuccessMessage","Index '"+o.name+"' is added to namespace '"+i+"'",{root:!0}),n("getNamespaceOne",{db:a,namespace:i}).then(function(){return e()})},function(e){s(kt.NAMESPACE_INDEX_UPDATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(kt.NAMESPACE_INDEX_UPDATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},getIndexesFromNamespace:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace;return s(kt.GET_INDEXES_FROM_NAMESPACE.REQUEST),new ct.a(function(e,t){Et.get(_t(St.namespaces,a)+"/"+i).then(function(t){var n=m.a.get(t,"data",{}),a={indexes:Ze(n)};s(kt.GET_INDEXES_FROM_NAMESPACE.SUCCESS,a),e()},function(e){s(kt.GET_INDEXES_FROM_NAMESPACE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(kt.GET_INDEXES_FROM_NAMESPACE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})}},getters:{names:function(e){return m.a.map(e.list,function(e){return e.name})},icons:function(e){return m.a.map(e.list,function(e){return e.storage_enabled?"database":"flame"})},indexes:function(e){return m.a.get(e,"one.indexes",[])},pk:function(e,t){return m.a.filter(t.indexes,{is_pk:!0})},notArrayIndexes:function(e,t){return m.a.filter(t.indexes,{is_array:!1})},sortableFields:function(e,t){return t.notArrayIndexes.map(function(e){return e.name})},indexesNames:function(e,t){return t.indexes.map(function(e){return e.name})},indexFields:function(e,t){return We(t.indexes)},itemTemplate:function(e,t){var s=t.indexes.reduce(function(e,t,s){var n=t.name,a=t.field_type;if("composite"===a)return e;var i=void 0;switch(a){case"string":i='""';break;case"bool":i=!0;break;case"double":i=.1;break;case"int":case"int64":i=0;break;default:i=null}return s>0?e+',\n"'+n+'": '+i:'\n"'+n+'": '+i},"");return $()(JSON.parse("{"+s+"}"),null,2)}},mutations:(Tt={},at()(Tt,kt.NAMESPACES_RESET,function(e){e.list=[],e.one=[],e.params={},e.isLoading=!1}),at()(Tt,kt.NAMESPACES_GET_LIST.REQUEST,function(e){e.isLoading=!0}),at()(Tt,kt.NAMESPACES_GET_LIST.FAIL,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACES_GET_LIST.SUCCESS,function(e,t){e.list=t.list,e.isLoading=!1}),at()(Tt,kt.NAMESPACES_GET_ONE.REQUEST,function(e){e.isLoading=!0}),at()(Tt,kt.NAMESPACES_GET_ONE.FAIL,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACES_GET_ONE.SUCCESS,function(e,t){e.one=t.one;var s=t.one.indexes.map(function(e){return d()({},e,{config:$()(e.config)})});e.one.indexes=s,e.isLoading=!1}),at()(Tt,kt.NAMESPACES_PARAMS_SET,function(e,t){var s=t.params;e.params=s}),at()(Tt,kt.NAMESPACE_DELETE.REQUEST,function(e){e.isLoading=!0}),at()(Tt,kt.NAMESPACE_DELETE.FAIL,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACE_DELETE.SUCCESS,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACE_CREATE.REQUEST,function(e){e.isLoading=!0}),at()(Tt,kt.NAMESPACE_CREATE.FAIL,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACE_CREATE.SUCCESS,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACE_INDEX_DELETE.REQUEST,function(e){e.isLoading=!0}),at()(Tt,kt.NAMESPACE_INDEX_DELETE.FAIL,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACE_INDEX_DELETE.SUCCESS,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACE_INDEX_CREATE.REQUEST,function(e){e.isLoading=!0}),at()(Tt,kt.NAMESPACE_INDEX_CREATE.FAIL,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACE_INDEX_CREATE.SUCCESS,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACE_INDEX_UPDATE.REQUEST,function(e){e.isLoading=!0}),at()(Tt,kt.NAMESPACE_INDEX_UPDATE.FAIL,function(e){e.isLoading=!1}),at()(Tt,kt.NAMESPACE_INDEX_UPDATE.SUCCESS,function(e){e.isLoading=!1}),at()(Tt,kt.GET_INDEXES_FROM_NAMESPACE.REQUEST,function(e){e.indexes=[]}),at()(Tt,kt.GET_INDEXES_FROM_NAMESPACE.FAIL,function(e){e.indexes=[]}),at()(Tt,kt.GET_INDEXES_FROM_NAMESPACE.SUCCESS,function(e,t){var s=t.indexes;e.indexes=s}),Tt),state:{list:[],one:[],isLoading:!1,indexes:[]}},Ot={limit:function(e){return e.pageSize||le.limit},offset:function(e){return(e.page-1)*e.pageSize||le.offset},sortOrder:function(e){var t=e.sortOrder;return t||le.sortOrder},sortField:function(e){var t=e.sortField;return t||le.sortField},filter:function(e){var t=e.filter;return t||le.filter},q:function(e){var t=e.q;return t||le.q},transform:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return De()(t).reduce(function(s,n){var a=d()({},s);return"pageSize"===n?a.limit=e.limit(t):"page"===n?a.offset=e.offset(t):"sortField"===n?a.sortField=e.sortField(t):"sortOrder"===n?a.sortOrder=e.sortOrder(t):"filter"===n?a.filter=e.filter(t):"q"===n?a.q=e.q(t):a[n]=t[n],a},{})}},jt={ITEMS_GET_LIST:yt("getItemsList"),ITEMS_GET_LIST_BY_QUERY:yt("getItemsListByQuery"),ITEMS_GET_LIST_BY_POST:yt("getItemsListByPost"),ITEMS_DELETE:yt("deleteItem"),ITEMS_UPDATE:yt("updateItem"),ITEMS_CREATE:yt("createItem"),CLEAR_NAMESPACE:yt("clearNamespace")},Rt=_e()({ITEMS_RESET:null}),zt=d()({},jt,Rt),Xt={namespaced:!0,actions:{reset:function(e){(0,e.commit)(zt.ITEMS_RESET)},getItemsList:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace,o=t.params;return s(zt.ITEMS_GET_LIST.REQUEST),new ct.a(function(e,t){Et.get(_t(St.items,a,i),Ot.transform(o)).then(function(t){var n=m.a.get(t,"data",{}),a={list:Qe(n),total:$e(n)};s(zt.ITEMS_GET_LIST.SUCCESS,a),e()},function(e){s(zt.ITEMS_GET_LIST.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(zt.ITEMS_GET_LIST.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},getItemsListByQuery:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.params;return s(zt.ITEMS_GET_LIST_BY_QUERY.REQUEST),new ct.a(function(e,t){Et.get(_t(St.query,a),Ot.transform(i)).then(function(t){var n=m.a.get(t,"data",{}),a={cacheEnabled:Ve(n),namespaces:Ye(n),list:Qe(n),explain:Ge(n),aggregations:He(n),total:$e(n),queryTotal:Ke(n)};s(zt.ITEMS_GET_LIST_BY_QUERY.SUCCESS,a),e()},function(e){s(zt.ITEMS_GET_LIST_BY_QUERY.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(zt.ITEMS_GET_LIST_BY_QUERY.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},getItemsListByPost:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.params;return s(zt.ITEMS_GET_LIST_BY_POST.REQUEST),new ct.a(function(e,t){Et.create(_t(St.query,a),i).then(function(t){var n=m.a.get(t,"data",{}),a={cacheEnabled:Ve(n),namespaces:Ye(n),list:Qe(n),explain:Ge(n),aggregations:He(n),total:$e(n),queryTotal:Ke(n)};s(zt.ITEMS_GET_LIST_BY_POST.SUCCESS,a),e()},function(e){s(zt.ITEMS_GET_LIST_BY_POST.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(zt.ITEMS_GET_LIST_BY_POST.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},deleteItem:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace,o=t.item;return s(zt.ITEMS_DELETE.REQUEST),new ct.a(function(e,t){Et.delete(_t(St.items,a,i),o).then(function(){s(zt.ITEMS_DELETE.SUCCESS),n("settings/showSuccessMessage","Item is deleted",{root:!0}),n("getItemsList",{db:a,namespace:i}).then(function(){return e()})},function(e){s(zt.ITEMS_DELETE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(zt.ITEMS_DELETE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},clearNamespace:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace;return s(zt.CLEAR_NAMESPACE.REQUEST),new ct.a(function(e,t){Et.delete(_t(St.query,a,i),{namespace:i}).then(function(){s(zt.CLEAR_NAMESPACE.SUCCESS),n("settings/showSuccessMessage","Namespace is cleared",{root:!0}),n("getItemsList",{db:a,namespace:i}).then(function(){return e()})},function(e){s(zt.CLEAR_NAMESPACE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(zt.ITEMS_DELETE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},updateItem:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace,o=t.item;return s(zt.ITEMS_UPDATE.REQUEST),new ct.a(function(e,t){Et.update(_t(St.items,a,i),o).then(function(){s(zt.ITEMS_UPDATE.SUCCESS),n("settings/showSuccessMessage","Item is updated",{root:!0}),n("getItemsList",{db:a,namespace:i}).then(function(){return e()})},function(e){s(zt.ITEMS_UPDATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(zt.ITEMS_UPDATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})},createItem:function(e,t){var s=e.commit,n=e.dispatch,a=t.db,i=t.namespace,o=t.item;return s(zt.ITEMS_CREATE.REQUEST),new ct.a(function(e,t){Et.create(_t(St.items,a,i),o).then(function(){s(zt.ITEMS_CREATE.SUCCESS),n("settings/showSuccessMessage","Item is created",{root:!0}),n("getItemsList",{db:a,namespace:i}).then(function(){return e()})},function(e){s(zt.ITEMS_CREATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(zt.ITEMS_CREATE.FAIL,e),n("settings/throwError",e,{root:!0}),t()})})}},getters:{fields:function(e){var t=m.a.get(e,"list",[]);return We(t)},qFields:function(e){var t=m.a.get(e,"qList",[]);return We(t)},itemsSize:function(e){var t=m.a.get(e,"list",[]);return m.a.size(t)},qItemsSize:function(e){var t=m.a.get(e,"qList",[]);return m.a.size(t)},itemsJson:function(e){var t=m.a.get(e,"list",[]);return $()(t)},qItemsJson:function(e){var t=m.a.get(e,"qList",[]);return $()(t)}},mutations:(xt={},at()(xt,zt.ITEMS_RESET,function(e){e.list=[],e.total=0,e.isLoading=!1}),at()(xt,zt.ITEMS_GET_LIST.REQUEST,function(e){e.isLoading=!0}),at()(xt,zt.ITEMS_GET_LIST.FAIL,function(e){e.isLoading=!1}),at()(xt,zt.ITEMS_GET_LIST.SUCCESS,function(e,t){var s=t.list,n=t.total;e.list=s,e.total=n,e.isLoading=!1}),at()(xt,zt.ITEMS_GET_LIST_BY_QUERY.REQUEST,function(e){e.isLoading=!0}),at()(xt,zt.ITEMS_GET_LIST_BY_QUERY.FAIL,function(e){e.isLoading=!1}),at()(xt,zt.ITEMS_GET_LIST_BY_QUERY.SUCCESS,function(e,t){var s=t.list,n=t.explain,a=t.aggregations,i=t.total,o=t.queryTotal,r=t.namespaces,c=t.cacheEnabled;e.qList=s,e.explain=n,e.qTotal=i,e.isLoading=!1,e.queryTotal=o,e.aggregations=a,e.namespaces=r,e.cacheEnabled=c}),at()(xt,zt.ITEMS_GET_LIST_BY_POST.REQUEST,function(e){e.isLoading=!0}),at()(xt,zt.ITEMS_GET_LIST_BY_POST.FAIL,function(e){e.isLoading=!1}),at()(xt,zt.ITEMS_GET_LIST_BY_POST.SUCCESS,function(e,t){var s=t.list,n=t.explain,a=t.aggregations,i=t.total,o=t.queryTotal,r=t.namespaces,c=t.cacheEnabled;e.qList=s,e.explain=n,e.qTotal=i,e.isLoading=!1,e.queryTotal=o,e.aggregations=a,e.namespaces=r,e.cacheEnabled=c}),at()(xt,zt.ITEMS_DELETE.REQUEST,function(e){e.isLoading=!0}),at()(xt,zt.ITEMS_DELETE.FAIL,function(e){e.isLoading=!1}),at()(xt,zt.ITEMS_DELETE.SUCCESS,function(e){e.isLoading=!1}),at()(xt,zt.CLEAR_NAMESPACE.REQUEST,function(e){e.isLoading=!0}),at()(xt,zt.CLEAR_NAMESPACE.FAIL,function(e){e.isLoading=!1}),at()(xt,zt.CLEAR_NAMESPACE.SUCCESS,function(e){e.isLoading=!1}),at()(xt,zt.ITEMS_UPDATE.REQUEST,function(e){e.isLoading=!0}),at()(xt,zt.ITEMS_UPDATE.FAIL,function(e){e.isLoading=!1}),at()(xt,zt.ITEMS_UPDATE.SUCCESS,function(e){e.isLoading=!1}),at()(xt,zt.ITEMS_CREATE.REQUEST,function(e){e.isLoading=!0}),at()(xt,zt.ITEMS_CREATE.FAIL,function(e){e.isLoading=!1}),at()(xt,zt.ITEMS_CREATE.SUCCESS,function(e){e.isLoading=!1}),xt),state:{list:[],explain:null,aggregations:[],total:0,qList:[],qTotal:0,queryTotal:0,isLoading:!1,namespaces:[],cacheEnabled:!1}};n.a.use(h.a);var qt=new h.a.Store({modules:{service:Lt,settings:ot,dbs:Bt,namespaces:Ut,items:Xt,toast:Object(b.createModule)({dismissInterval:5e3})},strict:!1,plugins:[]}),Qt=s("e6fC"),Gt=s("efYS"),Ht=s.n(Gt),$t=s("wYzO"),Vt=s.n($t),Yt=s("rifk"),Kt=s.n(Yt),Wt=(s("NbQv"),s("Dukv"),s("Jmt5"),s("9M+g"),s("5W1q"),s("hRG5"),{install:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={$vm:null,state:{},data:d()({},t),init:function(e){this.$vm=e},show:function(e){this.$vm&&v.$emit("show",e)}};s.init(v),e.component("Modal",_),e.prototype.$cmodal=s}});s("sz3z");n.a.use(Qt.a),n.a.use(Ht.a),n.a.use(Wt),n.a.use(Vt.a),n.a.use(Kt.a,{componentName:"v-modal",dialog:!0,dynamic:!0}),n.a.config.productionTip=!1,new n.a({el:"#app",router:ze,store:qt,template:"<App/>",components:{App:i}})},V0xv:function(e,t){},"X+BP":function(e,t){},X51g:function(e,t){},bnvi:function(e,t){},"csa/":function(e,t){},hYoW:function(e,t){},"jo+p":function(e,t){},mxeB:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAMAAAChHKjRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACslBMVEUAAADwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCb1lB7zeSLwXCbwXCbwXCb1lB7wXSbwXCbwXCbwXCb1lB71lB7wXCbwXCb1lB71lB7ycyPwXCbwXCb1lB71lB71lB7wXCbwXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCb1lB71lB71lB71lB7wXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCb1lB71lB7wXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCbz6BHz6BH1lB71lB71lB7wXCbwXCbwXCbz6BHz6BH1lB71lB7wXCbz6BHz6BH1lB71lB7wXCbwXCbwXCbz6BHz6BH1lB71lB71lB71lB7wXCbwXCbwXCbz6BHz6BHz6BH1lB71lB71lB71lB7wXCbwXCbwXCbwXCbz6BHz6BHz1BT1lB71lB71lB7wXCbwXCbwXCbwXCbz6BHz6BHz6BHz6BH1lB71lB71lB71lB7wXCbwXCbz6BHz6BHz2hP1lB71lB71lB7wXCbwXCbwXCbz6BHz6BHz6BHz6BH1lB7z6BHz6BHz6BH1lB71lB71lB7wXCbwXCbwXCbwXCbyuhjz4hLz6BH1lB71lB71lB71lB7wXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCbwXCbwXCbwXCbwXybzfyH1lB7wXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCYAKkYAKkYAKkYAKkYAKkbwXCb1lB7z6BH///9KXAc2AAAA4nRSTlMAASsNBmdQB4GtAgR+90ACAVrdECof6LUFPySMnhl9DuWWAX5VKPunAx3QJzn91g5o1RI//kcEtMgGLPy+EOvDDO5eLwey5jBY4RxLzhsBFXL8VAi5FBs0vQszWC9ZbG36kaUrKP3yRAquZRPWSAjP6jsa1PA84JQCc/7kMezKFg7Q7CMb290zXIeSqwX7yxSh7TIq6vtmgFDTCx/S5aT4Jw8nQgIlzvUOaW+T0cyvdzgal99hmfPy0otEJBiX3OS3kIm8uAli9deEFcCYaGpzenhWNhNdyUGa380iSgMSAQ8GX2aG2wAAAAFiS0dE5VhlC78AAAAHdElNRQfhDBgRNi9+uJWdAAAB/ElEQVQ4y2NgQAeMTMwMhAALKxtBNewcnFyE1HDz8PIRUMIvIMgrJExAjYio2CNxCfyKJKWkHz2SYcSrRlZOXuHRI0W8apSUVVTVHj1S18CnSFNLW0f30SM9fXyKDAyNjIGKTEzxqDEzt7C0sn706JENN25Ftnb2/A6OQEW6TrgVOT+2cGFwBSp65OaOU5HHY08vBm9dkCofX+xK/PwDHgcGMQSHgBQ9Eg/FqigsPODx44hIhigxkCITdaxJKjom9vHjwDglrvgEsKpELOnFLyk5JfXx47R0hoxMsIUJWZiKsnNy8/IfP35cUKhUVAxWVVKK6aSy8orKKqCqakmlmlqwqrp6dEUNjU3NLa1ARY/b2hk6IM7qRI9pv64n3T0GvSBVff3sE8BGTZyEbtTkKVOnRZqDFD2ezmA1EawKM9HMKJs5a/YckKK5ZlzzwIrmL0BTo7Fw0eIlDEuXARUtX8GwEqzo0SpUNcyr16xdt35DxsZNbZunKzFsMQEr2oqqyH0bSHD7jp27du8xY2CBuPzRXlRFRfsgwo/m7z9w8NDhBAhHEM1NHdseoQPdI0fRFHEdc0RVcvzEyVOY0cd3GpTAE86cPXf+wsX4S5evYE1S+lev6T7SVcSbo4Dg6PUbN4/f8iZQGAAD9bbpyjsEVQ0icPfefQTnwUM0WQBFhxKT8nbd+AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0xMi0yNFQxNzo1NDo0NyswMTowMG/vPH8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMTItMjRUMTc6NTQ6NDcrMDE6MDAesoTDAAAAHXRFWHRqaXJhLXN5c3RlbS1pbWFnZS10eXBlAGF2YXRhcuQCGmEAAAAASUVORK5CYII="},poNc:function(e,t){},poOh:function(e,t){},sz3z:function(e,t){},uslO:function(e,t,s){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(e){return s(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="uslO"},yyEn:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);