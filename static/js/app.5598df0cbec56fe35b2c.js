webpackJsonp([1],{"/B8Y":function(e,t){},"1RC/":function(e,t){},"1odg":function(e,t){},"2+Bm":function(e,t,s){"use strict";var a=s("FLAC"),n={},i={name:"octicon",props:{name:{type:String,validator:function(e){return e?e in n:null}},scale:[Number,String],spin:Boolean,inverse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(Object(a.a)('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},clazz:function(){return{octicon:!0,"octicon-spin":this.spin,"octicon-flip-horizontal":"horizontal"===this.flip,"octicon-flip-vertical":"vertical"===this.flip,"octicon-inverse":this.inverse}},icon:function(){return this.name?n[this.name]:null},box:function(){return this.icon?this.icon.viewBox?this.icon.viewBox:"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},width:function(){return this.childrenWidth||this.icon&&this.icon.width*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}}},mounted:function(){var e=this;if(!this.icon){this.$children.forEach(function(t){t.outerScale=e.normalizedScale});var t=0,s=0;this.$children.forEach(function(e){t=Math.max(t,e.width),s=Math.max(s,e.height)}),this.childrenWidth=t,this.childrenHeight=s,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(s-e.height)/2})}},register:function(e){for(var t in e)n[t]=e[t]},icons:n},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{class:e.clazz,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon?s("path",{attrs:{d:e.icon.d}}):e._e()])],2)},staticRenderFns:[]};var o=s("VU/8")(i,r,!1,function(e){s("csa/")},null,null);t.a=o.exports},"2R2w":function(e,t){},"5C21":function(e,t){},"6ihx":function(e,t){},"71mC":function(e,t){},"7qtJ":function(e,t){},"8P4r":function(e,t){},"8nJM":function(e,t){},"9M+g":function(e,t){},"A+Eb":function(e,t){},AHTr:function(e,t){},EAeo:function(e,t){},HBnl:function(e,t){},Jmt5:function(e,t){},Klnp:function(e,t){},"M/VQ":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"h-100",attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},i=s("VU/8")({name:"app"},n,!1,null,null,null).exports,r=s("/ocq"),o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-wrapper"},[t("p",{staticClass:"notfound"},[this._v("404 Not Found")])])}]};var c=s("VU/8")({name:"not-found-page"},o,!1,function(e){s("A+Eb")},"data-v-4eeffe15",null).exports,l=s("Dd8w"),u=s.n(l),d=s("M4fF"),m=s.n(d),p=s("PJh5"),h=s("2+Bm"),f=s("NYxO"),g=s("lII0"),v=new a.default,b={name:"Modal",created:function(){v.$on("show",this.show)},destroy:function(){v.$off("show",this.show)},data:function(){return{type:"approval",header:"",message:"",strongMessage:"",event:null,eventParams:{},value:"",isShowed:!1}},computed:{isApprovalType:function(){return"approval"===this.type},isCreatorType:function(){return"creator"===this.type}},methods:{show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,s=e.header,a=e.message,n=e.strongMessage,i=e.event,r=e.eventParams,o=e.callback;this.type=t||"approval",this.header=s||"",this.message=a||"",this.strongMessage=n||"",this.event=i||"",this.eventParams=r||{},this.callback=o||Function,this.isShowed=!0},onConfirm:function(e){e.preventDefault(),this.event&&(this.isApprovalType&&this.$emit(this.event,this.eventParams),this.isCreatorType&&this.$emit(this.event,u()({},this.eventParams,{value:this.value}))),this.value="",this.isShowed=!1,this.callback()}}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{centered:"",title:e.header},on:{ok:e.onConfirm},model:{value:e.isShowed,callback:function(t){e.isShowed=t},expression:"isShowed"}},[s("center",[e._v(e._s(e.message))]),e._v(" "),s("br"),e._v(" "),e.isApprovalType?s("center",[s("strong",[e._v(e._s(e.strongMessage))])]):e._e(),e._v(" "),e.isCreatorType?s("b-form-input",{attrs:{size:"sm",type:"text",placeholder:"Enter a name"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)},staticRenderFns:[]},y=s("VU/8")(b,_,!1,null,null,null).exports,S=y,E={root:"/",items:"/items",indexes:"/indexes",queries:"/query",memory_stats:"/memory_stats",config:"/configuration",perfstats:"/perfstats",queriesperfstats:"/queriesperfstats",meta:"/meta",activity_stat:"/activity_stat"},C={name:"NavHeader",components:{Octicon:h.a},props:{databaseSelected:{type:String,default:""},databases:{type:Array,default:function(){return[]}}},data:function(){return{webroutes:E,newDatabase:""}},computed:{database:function(){if(!this.databaseSelected&&!m.a.isEmpty(this.databases)){var e=this.databases[0];return this.$emit("onDatabaseSelect",e),e}return this.databaseSelected},databasesListIsEmpty:function(){return m.a.isEmpty(this.databases)},isNewDatabaseEmpty:function(){return m.a.isEmpty(this.newDatabase)},isDatabaseSelected:function(){return!m.a.isEmpty(this.databaseSelected)},curPath:function(){return this.$route.path}},mounted:function(){this.$emit("onDataLoad")},methods:{onDatabaseSelect:function(e){this.databaseSelected!==e&&this.$emit("onDatabaseSelect",e)},onDatabaseCreate:function(e){this.$store.dispatch("dbs/createDb",e)},onDatabaseDeleteQuestion:function(e){this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the database:",strongMessage:e,event:"onDatabaseDelete",eventParams:e})}},watch:{databases:function(e){if(!e.includes(this.database)){var t=m.a.isEmpty(this.databases[0])?"":this.databases[0];m.a.isEmpty(t)?this.$refs.dbcreate.visible=!0:this.$emit("onDatabaseSelect",t)}}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark header-panel fixed-top"},[a("b-navbar-brand",{staticClass:"header-brand",attrs:{href:"#",to:e.webroutes.root}},[a("img",{attrs:{src:s("mxeB")}}),e._v("Reindexer Face")]),e._v(" "),a("b-navbar-nav",{staticClass:"header-menu"},[a("b-nav-item",{attrs:{href:"#",to:e.webroutes.items,exact:"",active:e.curPath===e.webroutes.items}},[e._v("Items")]),e._v(" "),a("b-nav-item",{attrs:{href:"#",to:e.webroutes.indexes,exact:"",active:e.curPath===e.webroutes.indexes}},[e._v("Indexes")]),e._v(" "),a("b-nav-item",{attrs:{href:"#",to:e.webroutes.meta,exact:"",active:e.curPath===e.webroutes.meta}},[e._v("Meta")]),e._v(" "),a("b-nav-item",{attrs:{href:"#",to:e.webroutes.queries,exact:"",active:e.curPath===e.webroutes.queries}},[e._v("Query")])],1),e._v(" "),a("b-navbar-nav",{staticClass:"header-menu"},[a("b-dropdown",{staticClass:"header-database-select-button",attrs:{text:"System",disabled:e.databasesListIsEmpty,variant:"dark"}},[a("b-dropdown-item",{attrs:{href:"#",to:e.webroutes.memory_stats}},[e._v("Memory statistics")]),e._v(" "),a("b-dropdown-item",{attrs:{href:"#",to:e.webroutes.config}},[e._v("Configuration")]),e._v(" "),a("b-dropdown-item",{attrs:{href:"#",to:e.webroutes.perfstats}},[e._v("Performance stats")]),e._v(" "),a("b-dropdown-item",{attrs:{href:"#",to:e.webroutes.queriesperfstats}},[e._v("Queries performance stats")]),e._v(" "),a("b-dropdown-item",{attrs:{href:"#",to:e.webroutes.activity_stat}},[e._v("Activity stat")])],1)],1),e._v(" "),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-button-group",[a("b-dropdown",{staticClass:"header-database-select-button",attrs:{disabled:e.databasesListIsEmpty,variant:"dark",text:e.databaseSelected||e.database}},[a("b-dropdown-header",[e._v("Databases")]),e._v(" "),e._l(e.databases,function(t,s){return a("b-dropdown-item-button",{key:s,on:{click:function(s){e.onDatabaseSelect(t)}}},[e._v(e._s(t))])})],2),e._v(" "),a("b-dropdown",{ref:"dbcreate",staticClass:"header-database-create-button",attrs:{variant:"dark",size:"md","no-caret":""}},[a("template",{slot:"button-content"},[a("octicon",{staticClass:"mt-1",attrs:{name:"plus",scale:"1"}})],1),e._v(" "),a("b-container",{staticClass:"header-database-dropdown-menu mt-2 mb-3"},[a("b-row",[a("b-col",{attrs:{cols:"8"}},[a("b-form-input",{attrs:{variant:"primary",size:"sm",type:"text",placeholder:"New database"},model:{value:e.newDatabase,callback:function(t){e.newDatabase=t},expression:"newDatabase"}})],1),e._v(" "),a("b-col",{attrs:{cols:"2"}},[a("b-button",{attrs:{size:"sm",variant:"success",disabled:e.isNewDatabaseEmpty},on:{click:function(t){e.onDatabaseCreate(e.newDatabase)}}},[e._v("Create")])],1)],1)],1)],2),e._v(" "),a("b-button",{attrs:{size:"sm",variant:"dark",disabled:!e.isDatabaseSelected},on:{click:function(t){e.onDatabaseDeleteQuestion(e.database)}}},[a("octicon",{staticClass:"mt-1",attrs:{name:"trashcan",scale:"1"}})],1)],1)],1)],1)])},staticRenderFns:[]};var w=s("VU/8")(C,x,!1,function(e){s("6ihx")},"data-v-d2b9274c",null).exports,T=s("i8Yg"),A={name:"SideBar",components:{Scrolly:T.a,ScrollyViewport:T.c,ScrollyBar:T.b,Octicon:h.a},data:function(){return{newNamespace:"",filterNS:""}},props:{items:{type:Array,default:function(){return[]}},iconsSet:{type:Array,default:function(){return[]}},selectedNamespace:{type:String,default:""},isOpened:{type:Boolean,default:!1},isItemsLoading:{type:Boolean,default:!1},isSelectedLoading:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},computed:{isNamespaceSelected:function(){return m.a.size(this.selectedNamespace)},isNewNamespaceEmpty:function(){return m.a.isEmpty(this.newNamespace)},getFilter:function(){return this.filterNS.toLowerCase().trim()}},mounted:function(){this.onDataLoad(),this.$eventHub.on("focusOnFilterNamespace",this.focusOnFilter)},methods:{highlight:function(e){return"<span>"+e.replace(this.getFilter,'<span class="highligth">'+this.getFilter+"</span>")+"</span>"},filter:function(){var e=this;try{return this.items.filter(function(t){return t.match(e.getFilter)})}catch(e){return""}},focusOnFilter:function(){this.$refs&&this.$refs.filterNS&&this.$refs.filterNS.focus()},isSpinnable:function(e){return e===this.selectedNamespace&&this.isSelectedLoading},itemIconSelect:function(e){return this.iconsSet[e]?this.iconsSet[e]:""},mouseOver:function(){this.active=!this.active},onToggle:function(){this.$emit("onToggle")},onDataLoad:function(){this.$emit("onDataLoad")},onNamespaceSelect:function(e){this.$emit("onNamespaceSelect",e)},onNamespaceDelete:function(e){this.$emit("onNamespaceDelete",e)},onNamespaceCreate:function(){this.$emit("onNamespaceCreate")}}},I={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sidebar-container bg-dark",class:{"sidebar-container-max":e.isOpened}},[s("button",{staticClass:"btn-block sidebar-toggler text-muted",on:{click:e.onToggle}},[s("octicon",{staticClass:"sidebar-icon",attrs:{name:"grabber",scale:"3"}})],1),e._v(" "),e.isOpened?s("div",{staticClass:"sidebar-control-panel"},[s("button",{staticClass:"sidebar-panel-button sidebar-panel-button-left text-white float-left",class:{"sidebar-panel-button-disabled":e.isDisabled||!e.isNamespaceSelected},on:{click:function(t){e.onNamespaceDelete(e.selectedNamespace)}}},[s("octicon",{attrs:{name:"trashcan",scale:"2"}})],1),e._v(" "),s("button",{staticClass:"sidebar-panel-button sidebar-panel-button-left text-white",class:{"sidebar-panel-button-disabled":e.isDisabled},on:{click:e.onNamespaceCreate}},[s("octicon",{attrs:{name:"plus",scale:"2"}})],1),e._v(" "),s("button",{staticClass:"sidebar-panel-button sidebar-panel-button-right text-white float-right",class:{"sidebar-panel-button-disabled":e.isDisabled},on:{click:e.onDataLoad}},[s("octicon",{attrs:{name:"sync",scale:"2",spin:e.isItemsLoading}})],1)]):e._e(),e._v(" "),s("div",{staticClass:"sidebar-items-list",class:{"sidebar-hide":!e.isOpened}},[s("div",{staticClass:"ns-filter"},[s("b-form-input",{ref:"filterNS",staticClass:"mb-1",attrs:{id:"filterNS",variant:"primary",size:"sm",placeholder:"Enter namespace for the filter..."},model:{value:e.filterNS,callback:function(t){e.filterNS=t},expression:"filterNS"}})],1),e._v(" "),s("scrolly",{staticClass:"sidebar-scroll-container"},[s("scrolly-viewport",[s("ul",{staticClass:"list-unstyled"},e._l(e.filter(e.items),function(t){return s("li",{staticClass:"item",class:{"item-active":e.selectedNamespace===t},on:{mouseover:e.mouseOver}},[s("a",{staticClass:"link",on:{click:function(s){e.onNamespaceSelect(t)}}},[s("span",{staticClass:"text item-text",domProps:{innerHTML:e._s(e.highlight(t))}})])])}))]),e._v(" "),s("scrolly-bar",{attrs:{axis:"y"}})],1)],1)])},staticRenderFns:[]};var k=s("VU/8")(A,I,!1,function(e){s("bSe5"),s("HBnl")},"data-v-d85352fa",null).exports,N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-card",{attrs:{title:"Keyboard Shortcuts"}},[t("b-col",{attrs:{cols:"12"}},[t("b-table",{attrs:{striped:"",hover:"",items:this.keys}})],1)],1)},staticRenderFns:[]},F=s("VU/8")({name:"ShortkeyHelp",data:function(){return{keys:[{key:"q",globa_shortcuts:"Redirect to Query Page"},{key:"f",globa_shortcuts:"Focus on find items"},{key:"s",globa_shortcuts:"Focus on filter namespace"},{key:"esc",globa_shortcuts:"Blur active element"},{key:"shift+right",globa_shortcuts:"Scrolls the list forward"},{key:"shift+left",globa_shortcuts:"Scrolls back through the list"}]}}},N,!1,null,null,null).exports,L={name:"default-layout",components:{Modal:S,Octicon:h.a,Sidebar:k,Toast:g.Toast,NavHeader:w,ShortkeyHelp:F},computed:u()({},Object(f.d)({isSidebarOpened:function(e){return e.settings.isSidebarOpened},sidebarIcons:function(e){return e.namespaces.list.map(function(e){return e.storage_enabled?"database":"flame"})},databases:function(e){return e.dbs.list},database:function(e){return e.settings.database},namespace:function(e){return e.settings.namespace||e.items.namespaces[0]},sidebarIsLoading:function(e){return e.namespaces.isLoading},sidebarIsSelectedLoading:function(e){return e.items.isLoading},sidebarIsDisabled:function(e){return m.a.isEmpty(e.settings.database)}}),Object(f.c)({sidebarItems:"namespaces/namesWithoutHash"}),{keymap:function(){var e=this;return{q:function(t){if("QueriesPage"!==e.$router.currentRoute.name){var s=document.activeElement;m.a.isUndefined(s.selectionStart)&&(t.preventDefault(),e.$router.push({name:"QueriesPage"}))}},s:function(t){var s=document.activeElement;m.a.isUndefined(s.selectionStart)&&"ItemsPage"===e.$router.currentRoute.name&&(t.preventDefault(),e.$eventHub.emit("focusOnFilterNamespace"))},"/+shift":function(t){var s=document.activeElement;m.a.isUndefined(s.selectionStart)&&(t.preventDefault(),e.$modal.show("shortcuts"))},esc:function(){document.activeElement.blur()}}}}),methods:u()({},Object(f.b)({selectDatabase:"settings/selectDatabase",fetchDatabases:"dbs/getDbList",fetchNamespaces:"namespaces/getNamespacesList",selectNamespace:"settings/selectNamespace",onSidebarToggle:"settings/sidebarToggle",resetNamespaces:"namespaces/reset",resetItems:"items/reset",resetSelectedNamespace:"settings/resetSelectedNamespace",getItemsList:"items/getItemsList",getNamespaceOne:"namespaces/getNamespaceOne",setMeta:"metas/setMeta"}),{onSidebarDataLoad:function(){this.database&&this.fetchNamespaces(this.database)},onDatabaseSelect:function(e){var t=this;this.resetNamespaces(),this.resetItems(),this.resetSelectedNamespace(),this.selectDatabase(e).then(function(){return t.fetchNamespaces(t.database)}),this.$router.push({query:{db:e}})},onNamespaceSelect:function(e){var t=this,s=JSON.parse(localStorage.getItem("itemsFilters"));this.getNamespaceOne({db:this.database,namespace:e}).then(function(){t.getItemsList({db:t.database,namespace:e,params:{filter:s[e]}})}),this.selectNamespace(e),"MainPage"===this.$router.currentRoute.name||"QueriesPage"===this.$router.currentRoute.name||"ConfigPage"===this.$router.currentRoute.name||"PerfstatsPage"===this.$router.currentRoute.name||"ActivityPage"===this.$router.currentRoute.name?this.$router.push({name:"ItemsPage"}):"ItemsPage"===this.$router.currentRoute.name&&this.$router.push({query:{db:this.database,namespace:e,filter:s[e]}}),this.$eventHub.emit("namespaceChanged")},onNamespaceDeleteQuestion:function(e){var t={db:this.database,namespace:e};this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the namespace:",strongMessage:e,event:"onNamespaceDelete",eventParams:t})},onNamespaceCreateQuestion:function(e){var t={db:this.database};this.$cmodal.show({type:"creator",header:"Create",message:"This action will create a namespace:",strongMessage:e,event:"onNamespaceCreate",eventParams:t})},onDatabaseDelete:function(e){this.$store.dispatch("dbs/deleteDb",e)},onNamespaceCreate:function(e){var t={db:e.db,json:{name:e.value,storage:{enabled:!0,drop_on_file_format_error:!0,create_if_missing:!0},indexes:[]}};this.$store.dispatch("namespaces/createNamespace",t)},onNamespaceDelete:function(e){var t=this;this.selectNamespace(""),this.$store.dispatch("namespaces/deleteNamespace",e).then(function(){t.$router.push({name:"MainPage"})})},onItemDelete:function(e){var t={db:this.database,namespace:this.namespace,item:e};this.$store.dispatch("items/deleteItem",t)},onNamespaceClear:function(){var e={db:this.database,namespace:this.namespace};this.$store.dispatch("items/clearNamespace",e)},onItemUpdate:function(e){var t={db:this.database,namespace:this.namespace,item:e};this.$store.dispatch("items/updateItem",t)},onItemCreate:function(e){var t={db:this.database,namespace:this.namespace,item:e};this.$store.dispatch("items/createItem",t)},onIndexDelete:function(e){var t={db:this.database,namespace:this.namespace,index:e};this.$store.dispatch("namespaces/deleteIndex",t)},onIndexCreate:function(e){var t={db:this.database,namespace:this.namespace,index:e};this.$store.dispatch("namespaces/createIndex",t)},updateMeta:function(e){var t={db:this.database,namespace:this.namespace,item:e,params:{with_values:!0}};this.setMeta(t)}}),watch:{database:function(e){this.fetchNamespaces(e)}}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:e.keymap,expression:"keymap"}],staticClass:"h-100"},[s("nav-header",{attrs:{databases:e.databases,databaseSelected:e.database},on:{onDataLoad:e.fetchDatabases,onDatabaseSelect:e.onDatabaseSelect}}),e._v(" "),s("modal",{on:{onDatabaseDelete:e.onDatabaseDelete,onNamespaceDelete:e.onNamespaceDelete,onNamespaceCreate:e.onNamespaceCreate,onItemDelete:e.onItemDelete,onItemCreate:e.onItemCreate,onItemUpdate:e.onItemUpdate,onNamespaceClear:e.onNamespaceClear,onIndexDelete:e.onIndexDelete,onIndexCreate:e.onIndexCreate,updateMeta:e.updateMeta}}),e._v(" "),s("div",{staticClass:"content-container h-100",class:{"content-container-min":e.isSidebarOpened}},[s("sidebar",{attrs:{items:e.sidebarItems,iconsSet:e.sidebarIcons,selectedNamespace:e.namespace,isOpened:e.isSidebarOpened,isItemsLoading:e.sidebarIsLoading,isSelectedLoading:e.sidebarIsSelectedLoading,isDisabled:e.sidebarIsDisabled},on:{onToggle:e.onSidebarToggle,onDataLoad:e.onSidebarDataLoad,onNamespaceSelect:e.onNamespaceSelect,onNamespaceDelete:e.onNamespaceDeleteQuestion,onNamespaceCreate:e.onNamespaceCreateQuestion}}),e._v(" "),s("div",{staticClass:"page-content h-100"},[e._t("page")],2),e._v(" "),s("toast",{attrs:{position:"se"}})],1),e._v(" "),s("v-modal",{attrs:{name:"shortcuts",adaptive:!0,scrollable:!0,minWidth:500,minHeight:500}},[s("ShortkeyHelp")],1)],1)},staticRenderFns:[]};var z=s("VU/8")(L,D,!1,function(e){s("dP9L"),s("8nJM")},"data-v-7a66f0f5",null).exports,M=s("35dM"),j=s.n(M),P={mega:1e6,gyga:1e9,kilo:1e3};var R=s("DbJJ"),B=s.n(R);var O={name:"MainPage",components:{DefaultLayout:z},data:function(){return{refreshStatusIntervalMs:5e3,clockTick:1e3,refreshIntervalDescriptor:null,uptimeIncrementDescriptor:null,isUnavailable:!1}},computed:u()({},Object(f.d)({status:function(e){return e.service.status},version:function(e){return e.service.version},uptime:function(e){return e.service.uptime},startTime:function(e){return e.service.startTime}}),{onOffStatus:function(){return this.isUnavailable?"Offline":"Online"},startTimeFormatted:function(){return p.unix(this.startTime).format("DD.MM.YYYY HH:MM:ss")}}),methods:u()({},Object(f.b)({getStatus:"service/getStatus",modifyServiceStateAsKV:"service/modifyStateAsKV"}),{bytesToSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=1;e>P.mega?s=2:e>P.gyga&&(s=3);var a=j()(e,{precision:s});return t?""+a.value+a.unit:a},uptimeFormat:function(e){var t=Math.floor(e/86400),s=Math.floor((e-86400*t)/3600),a=Math.floor((e-86400*t-3600*s)/60),n=e-86400*t-3600*s-60*a;return(t>0?B()("day",t,!0)+" ":"")+" "+(s<10?"0"+s:""+s)+":"+(a<10?"0"+a:""+a)+":"+(n<10?"0"+n:""+n)},getStatusAndSync:function(){var e=this;this.getStatus().then(function(){clearInterval(e.uptimeIncrementDescriptor),e.isUnavailable=!1;var t={};e.uptime<e.status.uptime&&(t.uptime=e.status.uptime),m.a.isEmpty(e.status.version)||(t.version=e.status.version),m.a.isNil(e.status.start_time)||(t.startTime=e.status.start_time),e.modifyServiceStateAsKV(t),e.uptimeIncrementDescriptor=setInterval(e.uptimeIncrement,e.clockTick)}).catch(function(){e.isUnavailable=!0,clearInterval(e.uptimeIncrementDescriptor)})},uptimeIncrement:function(){this.modifyServiceStateAsKV({uptime:this.uptime+1})}}),mounted:function(){this.getStatusAndSync(),this.refreshIntervalDescriptor=setInterval(this.getStatusAndSync,this.refreshStatusIntervalMs)},destroyed:function(){clearInterval(this.refreshIntervalDescriptor),clearInterval(this.uptimeIncrementDescriptor)}},U={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("div",{staticClass:"container mt-5"},[s("b-jumbotron",{attrs:{header:"Reindexer Face",lead:e.version}},[s("p",{class:{"text-danger":e.isUnavailable,"text-success":!e.isUnavailable}},[s("b",[e._v(e._s(e.onOffStatus))])]),e._v(" "),s("br"),e._v(" "),s("p",[s("b",[e._v("Start time")]),e._v(": "+e._s(e.startTimeFormatted))]),e._v(" "),s("p",[s("b",[e._v("Uptime")]),e._v(": "+e._s(e.uptimeFormat(e.uptime)))]),e._v(" "),s("p",[s("b",[e._v("Allocated")]),e._v(": "+e._s(e.bytesToSize(e.status.current_allocated_bytes)))]),e._v(" "),s("p",[s("b",[e._v("Heap size")]),e._v(": "+e._s(e.bytesToSize(e.status.heap_size)))]),e._v(" "),s("p",[s("b",[e._v("Pageheap free")]),e._v(": "+e._s(e.bytesToSize(e.status.pageheap_free)))]),e._v(" "),s("p",[s("b",[e._v("Pageheap unmapped")]),e._v(": "+e._s(e.bytesToSize(e.status.pageheap_unmapped)))])])],1)])])},staticRenderFns:[]},q=s("VU/8")(O,U,!1,null,null,null).exports,$={name:"Preloader",props:{value:{type:Boolean,default:!1}}},Q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{aligner:e.value}},[e.value?s("div",{attrs:{id:"floatingCirclesG"}},[s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_01"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_02"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_03"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_04"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_05"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_06"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_07"}}),e._v(" "),s("div",{staticClass:"f_circleG",attrs:{id:"frotateG_08"}})]):e._e()])},staticRenderFns:[]};var X={name:"PageStatusNotifier",components:{Preloader:s("VU/8")($,Q,!1,function(e){s("bnvi")},"data-v-17a49d00",null).exports},props:{currentDatabaseName:{type:String,default:null},currentNamespaceName:{type:String,default:null},isLoadingProgress:{type:Boolean,default:!1}},computed:{warningMessage:function(){return!this.isLoadingProgress&&m.a.isEmpty(this.currentDatabaseName)?"Create a database":!m.a.isNull(this.currentNamespaceName)&&m.a.isEmpty(this.currentNamespaceName)&&m.a.size(this.currentDatabaseName)?"Select a namespace":null}}},G={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("preloader",{model:{value:e.isLoadingProgress,callback:function(t){e.isLoadingProgress=t},expression:"isLoadingProgress"}}),e._v(" "),e.warningMessage?s("b-alert",{attrs:{show:""}},[e._v(e._s(e.warningMessage))]):e._e()],1)},staticRenderFns:[]},H=s("VU/8")(X,G,!1,null,null,null).exports,V=s("mvHQ"),Y=s.n(V),J=s("o4sT"),W=s.n(J),K=s("vdhV"),Z=s.n(K),ee={name:"An index name is used in 'WHERE' or 'JOIN' queries.\nFor the composite indexes name is also defines composite index parts in the following format:\nsubindex1+subindex2[[+...subindexN][=namealias]]]",jsonPaths:"A name for mapping to json field. May contain nested fields: 'nested.field'.\nMay contain a few comma-separated json fileds: 'field1,field2' .",fieldType:"Index field type.",indexType:"Index type.",options:"Pk - field is a part of a primary key. Struct must have at least 1 field tagged with pk;\n\nArray - array index;\n\nDense - reduce index size. For hash and tree it will save 8 bytes per unique key value.\nFor - it will save 4-8 bytes per each element. Useful for indexes with high selectivity, but for tree and hash indexes with low selectivity can seriously decrease update performance;\n\nSparse - value of index may not present in the document.",collateMode:"numeric - create string index that provides values order in numeric sequence. The field type must be a string.\n\nascii - create case-insensitive string index works with ASCII. The field type must be a string.\n\nutf8 - create case-insensitive string index works with UTF8. The field type must be a string.\n\ncustom  - create custom order string index.\n",sortOrderLetters:" a sequence of letters which defines sort order",config:"index config in JSON format"},te={name:"IndexModifyWindow",components:{Octicon:h.a,VueTagsInput:Z.a,Editor:W.a},props:{value:{type:Boolean,default:!0},index:{type:Object,required:!0},isModifying:{type:Boolean,default:!0}},data:function(){var e=this.$props.value,t=this.$props.index;return{tooltips:ee,isShown:e,indexBody:t,tag:"",rightJSON:!0}},computed:{isJsonPathsEmpty:function(){var e=this.indexBody.jsonPaths;return 0===m.a.size(e)},isValid:function(){var e=this.indexBody,t=e.name,s=e.fieldType,a=e.indexType,n=e.collateMode,i=e.sortOrderLetters,r=e.config,o=t&&s&&a&&n&&r&&!this.isJsonPathsEmpty&&this.rightJSON;return"custom"===this.indexBody.collateMode?Boolean(o&&i):Boolean(o)},tags:function(){return m.a.map(this.indexBody.jsonPaths,function(e){return{text:e}})||[]}},methods:{onTagAdd:function(e){this.indexBody.jsonPaths=m.a.map(e,function(e){return e.text})},onTagBlur:function(e){var t=e.target.value;m.a.isEmpty(t)||(this.tag="",this.indexBody.jsonPaths.push(t))},onConfirm:function(e){this.isValid&&this.$emit(e?"onUpdate":"onCreate",this.indexBody)},onWindowHide:function(){this.$emit("onWindowHide")},prettyStringifyObject:function(e){var t={};try{t=JSON.parse(e)}catch(t){return this.rightJSON=!1,e}return this.rightJSON=!0,Y()(t,null,"  ")},applyEditorChanges:function(e){this.indexBody.config=e}},watch:{value:function(e){this.isShown=e},index:function(e){this.indexBody=e},"indexBody.indexType":function(){"ttl"===this.indexBody.indexType&&(this.indexBody.fieldType="int64")}}},se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{title:"Index"},on:{hide:e.onWindowHide},model:{value:e.isShown,callback:function(t){e.isShown=t},expression:"isShown"}},[s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.name,name:"question"}}),e._v("name\n      ")],1),e._v(" "),s("b-col",[s("b-input",{attrs:{state:Boolean(e.indexBody.name)},model:{value:e.indexBody.name,callback:function(t){e.$set(e.indexBody,"name",t)},expression:"indexBody.name"}})],1)],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.fieldType,name:"question"}}),e._v("field_type\n      ")],1),e._v(" "),s("b-col",[s("b-form-select",{attrs:{disabled:"ttl"===e.indexBody.indexType,state:Boolean(e.indexBody.fieldType),id:"field_type",value:null,options:["int","int64","double","string","bool","composite"]},model:{value:e.indexBody.fieldType,callback:function(t){e.$set(e.indexBody,"fieldType",t)},expression:"indexBody.fieldType"}})],1)],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.indexType,name:"question"}}),e._v("index_type\n      ")],1),e._v(" "),s("b-col",[s("b-form-select",{attrs:{state:Boolean(e.indexBody.indexType),id:"index_type",value:null,options:["hash","tree","text","ttl","-"]},model:{value:e.indexBody.indexType,callback:function(t){e.$set(e.indexBody,"indexType",t)},expression:"indexBody.indexType"}})],1)],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.options,name:"question"}}),e._v("options\n      ")],1),e._v(" "),s("b-col",{staticClass:"text-center"},[s("label",{staticClass:"mt-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.indexBody.isPk,expression:"indexBody.isPk"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.indexBody.isPk)?e._i(e.indexBody.isPk,null)>-1:e.indexBody.isPk},on:{change:function(t){var s=e.indexBody.isPk,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&e.$set(e.indexBody,"isPk",s.concat([null])):i>-1&&e.$set(e.indexBody,"isPk",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.indexBody,"isPk",n)}}}),e._v("Pk")]),e._v(" "),s("label",{staticClass:"mt-2 ml-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.indexBody.isArray,expression:"indexBody.isArray"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.indexBody.isArray)?e._i(e.indexBody.isArray,null)>-1:e.indexBody.isArray},on:{change:function(t){var s=e.indexBody.isArray,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&e.$set(e.indexBody,"isArray",s.concat([null])):i>-1&&e.$set(e.indexBody,"isArray",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.indexBody,"isArray",n)}}}),e._v("Array")]),e._v(" "),s("label",{staticClass:"mt-2 ml-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.indexBody.isDense,expression:"indexBody.isDense"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.indexBody.isDense)?e._i(e.indexBody.isDense,null)>-1:e.indexBody.isDense},on:{change:function(t){var s=e.indexBody.isDense,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&e.$set(e.indexBody,"isDense",s.concat([null])):i>-1&&e.$set(e.indexBody,"isDense",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.indexBody,"isDense",n)}}}),e._v("Dense")]),e._v(" "),s("label",{staticClass:"mt-2 ml-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.indexBody.isSparse,expression:"indexBody.isSparse"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.indexBody.isSparse)?e._i(e.indexBody.isSparse,null)>-1:e.indexBody.isSparse},on:{change:function(t){var s=e.indexBody.isSparse,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&e.$set(e.indexBody,"isSparse",s.concat([null])):i>-1&&e.$set(e.indexBody,"isSparse",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.indexBody,"isSparse",n)}}}),e._v("Sparse")])])],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.collateMode,name:"question"}}),e._v("collate_mode\n      ")],1),e._v(" "),s("b-col",[s("b-form-select",{attrs:{state:Boolean(e.indexBody.collateMode),value:null,options:["none","ascii","utf8","numeric","custom"]},model:{value:e.indexBody.collateMode,callback:function(t){e.$set(e.indexBody,"collateMode",t)},expression:"indexBody.collateMode"}})],1)],1),e._v(" "),"custom"==e.indexBody.collateMode?s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-5 mt-2",attrs:{cols:"3"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.sortOrderLetters,name:"question"}}),e._v("sort_order_letters\n      ")],1),e._v(" "),s("b-col",[s("b-input",{attrs:{state:Boolean(e.indexBody.sortOrderLetters)},model:{value:e.indexBody.sortOrderLetters,callback:function(t){e.$set(e.indexBody,"sortOrderLetters",t)},expression:"indexBody.sortOrderLetters"}})],1)],1):e._e(),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.config,name:"question"}}),e._v("config\n      ")],1),e._v(" "),s("b-col",[s("div",{class:{editor_container:!0,editor_wrong_json:!e.rightJSON}},[s("editor",{staticClass:"editor editor_config",attrs:{lang:"json",theme:"chrome",width:"100%",height:"200px",value:e.prettyStringifyObject(e.indexBody.config)},on:{input:function(t){e.applyEditorChanges(t)}}})],1)])],1),e._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{staticClass:"col-sm-4 mt-2",attrs:{cols:"2"}},[s("octicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mr-1 icon_tooltip",attrs:{title:e.tooltips.jsonPaths,name:"question"}}),e._v("json_paths\n      ")],1),e._v(" "),s("b-col",[s("vue-tags-input",{class:{tags_selector_default:!0,tags_selector_invalid:e.isJsonPathsEmpty,tags_selector_valid:!e.isJsonPathsEmpty},attrs:{"allow-edit-tags":"",addOnKey:[13,32,186,188],saveOnKey:[13,32,186,188],tags:e.tags},on:{blur:e.onTagBlur,"tags-changed":e.onTagAdd},scopedSlots:e._u([{key:"tagCenter",fn:function(t){return s("div",{staticClass:"tag-center"},[s("span",{class:{hidden:t.edit},on:{click:function(e){t.performOpenEdit(t.index)}}},[e._v(e._s(t.tag.text))]),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"props.edit"},{name:"model",rawName:"v-model",value:t.tag.text,expression:"props.tag.text"}],staticClass:"tag-input",attrs:{type:"text"},domProps:{value:t.tag.text},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),t.target.blur()):null},blur:function(e){t.performSaveEdit(t.index)},input:function(s){s.target.composing||e.$set(t.tag,"text",s.target.value)}}})])}}]),model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}})],1)],1)],1),e._v(" "),s("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-button",{class:{"float-right":!0,disabled:!e.isValid},attrs:{size:"sm",variant:"success"},on:{click:function(t){t.preventDefault(),e.onConfirm(e.isModifying)}}},[e._v("\n      "+e._s(e.isModifying?"Update":"Create")+"\n    ")])],1)],1)},staticRenderFns:[]};var ae=s("VU/8")(te,se,!1,function(e){s("/B8Y")},"data-v-64c31374",null).exports,ne={name:"DataTable",components:{Octicon:h.a,Editor:W.a},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}},itemTemplate:{type:String,default:""},totalItems:{type:Number,default:0},columns:{type:Array,default:function(){return[]}},columnNames:{type:Array,default:function(){return[]}},theads:{type:Array,default:function(){return[]}},noDisplayColumnsButton:{type:Boolean,default:!1},selectedFields:{type:Array,default:function(){return[]}},sortableFields:{type:Array,default:function(){return[]}},isWithActions:{type:Boolean,default:!1},isUpdateAllowed:{type:Boolean,default:!1},isRemoveAllowed:{type:Boolean,default:!1},sortField:{type:String,default:""},sortOrder:{type:String,default:""},onSelectedFieldsChange:{type:Function,default:m.a.noop},onSortChange:{type:Function,default:m.a.noop},onItemDelete:{type:Function,default:m.a.noop},onItemUpdate:{type:Function,default:m.a.noop},doSomthing:{type:Function,default:m.a.noop}},data:function(){return{tableItems:m.a.cloneDeep(this.items),mutableItems:m.a.cloneDeep(this.items),tableSelectedFields:m.a.cloneDeep(this.selectedFields),newItemJson:this.itemTemplate}},beforeUpdate:function(){this.tableSelectedFields=this.selectedFields},computed:{fields:function(){return this.getFields()},itemsSize:function(){return m.a.size(this.items)},tableFieldsSelectedNotEmpty:function(){return!m.a.isEmpty(this.tableSelectedFields)}},methods:{getFields:function(){var e=this;if(m.a.isEmpty(this.items))return[];var t=this.columns.reduce(function(t,s,a){if(!e.tableSelectedFields.includes(s))return t;var n=t;return n[s]={key:s,label:e.columnNames[a]||s,sortable:!m.a.isEmpty(e.sortableFields)&&e.sortableFields.includes(s),class:"datatable_column"},n},{});return this.isWithActions&&(t.show_details={key:"_actions",label:"Actions",class:"datatable_actions_column"}),t},onSortCtxChange:function(e){var t={sortField:e.sortBy,sortOrder:e.sortDesc?"desc":"asc"};this.onSortChange(t)},onDelete:function(e){this.onItemDelete(this.items[e])},onUpdate:function(e){this.onItemUpdate(this.mutableItems[e])},onFieldSelect:function(e){if(this.tableSelectedFields.includes(e)){var t=this.tableSelectedFields.indexOf(e);this.tableSelectedFields.splice(t,1)}else this.tableSelectedFields.push(e);this.onSelectedFieldsChange(this.tableSelectedFields)},checkIsFieldSelected:function(e){return this.tableSelectedFields.includes(e)},prettyStringifyObject:function(e){return Y()(e,null,"  ")},applyEditorChanges:function(e,t){var s={};try{s=JSON.parse(t)}catch(e){return}this.mutableItems[e]=s}},watch:{items:function(e){this.tableItems=m.a.cloneDeep(e),this.mutableItems=m.a.cloneDeep(e)},itemTemplate:function(e){this.newItemJson=e}}},ie={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"datatable-container"},[s("b-row",[s("b-col",{attrs:{cols:"6"}},[e._t("default"),e._v(" "),s("h4",{staticClass:"float-left"},[e._v(e._s(e.title))])],2),e._v(" "),s("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[e.noDisplayColumnsButton?e._e():s("b-dropdown",{staticClass:"pull-right float-right",attrs:{variant:"primary",text:"Columns"}},e._l(e.columns,function(t,a){return s("a",{key:a,staticClass:"dropdown-item datatable_custom_dropdown_item",attrs:{replace:""},on:{click:function(s){s.stopPropagation(),e.onFieldSelect(t)}}},[e.checkIsFieldSelected(t)?s("octicon",{attrs:{name:"check"}}):e._e(),e._v(e._s(t)+"\n        ")],1)}))],1)],1),e._v(" "),e.tableFieldsSelectedNotEmpty?s("b-table",{staticClass:"mt-2",attrs:{striped:"",bordered:"",hover:"",fixed:"",small:"","no-local-sorting":"",items:e.tableItems,fields:e.fields},on:{"sort-changed":e.onSortCtxChange},scopedSlots:e._u([{key:"thead-top",fn:function(t){return e.theads.length?[s("tr",e._l(e.theads,function(t){return s("th",{attrs:{colspan:t.colspan}},[e._v(e._s(t.title))])}))]:void 0}},e._l(e.fields,function(t,a){return{key:t.key,fn:function(t){return[s("div",{staticClass:"datatable_item_wrapper",on:{click:function(s){e.doSomthing(t)}}},[e._v("\n      "+e._s(t.value)+"\n    ")])]}}}),{key:"_actions",fn:function(t){return[s("b-button",{staticClass:"mr-2",attrs:{variant:t.detailsShowing?"primary":"",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.toggleDetails(e)}}},[s("octicon",{attrs:{name:"pencil"}})],1),e._v(" "),e.isRemoveAllowed?s("b-button",{staticClass:"mr-2",attrs:{variant:"danger",size:"sm"},on:{click:function(s){s.stopPropagation(),e.onDelete(t.index)}}},[s("octicon",{attrs:{name:"trashcan"}})],1):e._e()]}},{key:"row-details",fn:function(t){return[s("b-card",[s("editor",{staticClass:"editor mt-1",attrs:{value:e.prettyStringifyObject(e.mutableItems[t.index]),lang:"json",theme:"chrome",width:"100%",height:"400px"},on:{input:function(s){e.applyEditorChanges(t.index,s)}}}),e._v(" "),e.isUpdateAllowed?s("div",{staticClass:"text-center"},[s("b-button",{staticClass:"mt-2",attrs:{variant:"primary",size:"md"},on:{click:function(s){s.stopPropagation(),e.onUpdate(t.index)}}},[e._v("Update")])],1):e._e()],1)]}}])}):e._e()],1)},staticRenderFns:[]};var re=s("VU/8")(ne,ie,!1,function(e){s("AHTr")},null,null).exports,oe={name:"IndexesPage",components:{DefaultLayout:z,Octicon:h.a,PageStatusNotifier:H,IndexModifyWindow:ae,DataTable:re},data:function(){var e={name:"",jsonPaths:[],fieldType:"",indexType:"",collateMode:"",sortOrderLetters:"",config:"{}",isPk:!1,isArray:!1,isDense:!1,isAppendable:!1,isSparse:!1};return{newIndexTemplate:u()({},e),index:u()({},e),indexModifyWindowIsShown:!1,isIndexModifying:!1}},computed:u()({},Object(f.d)({db:function(e){return e.settings.database},namespace:function(e){return e.settings.namespace},namespaceOne:function(e){return e.namespaces.one},isLoading:function(e){return e.namespaces.isLoading}}),Object(f.c)({indexes:"namespaces/indexes",fields:"namespaces/indexFields"}),{namespaceOneExists:function(){return!m.a.isEmpty(this.namespaceOne)},indexesSize:function(){return m.a.size(this.indexes)},selectedFields:function(){return m.a.cloneDeep(this.fields)},indexesWithLabels:function(){return this.indexes.map(function(e){return{name:e.name,fieldType:e.field_type,jsonPaths:m.a.join(e.json_paths,", "),indexType:e.index_type,options:[{label:"danger",value:e.is_pk?"PK":""},{label:"success",value:e.is_dense?"Dense":""},{label:"primary",value:e.is_array?"Array":""},{label:"info",value:e.is_sparse?"Sparse":""},{label:"warning",value:m.a.isEmpty(e.collate_mode)||"none"===e.collate_mode?"":"Collate: "+e.collate_mode},{label:"secondary",value:m.a.isEmpty(e.sort_order_letters)?"":'Sort order letters: "'+e.sort_order_letters+'"'}]}})}}),methods:{onIndexAddClick:function(){this.isIndexModifying=!1,this.indexModifyWindowIsShown=!0},onUpdateIndexClick:function(e){var t=this.indexes[e],s=m.a.mapKeys(t,function(e,t){return m.a.camelCase(t)});this.index=u()({},this.indexTemplate,s),this.isIndexModifying=!0,this.indexModifyWindowIsShown=!0},onIndexCreate:function(){var e=this,t=u()({},this.index,{config:JSON.parse(this.index.config)||{}}),s={db:this.db,namespace:this.namespace,index:t};this.$store.dispatch("namespaces/createIndex",s).then(function(){e.indexModifyWindowIsShown=!1})},onIndexUpdate:function(){var e=this,t=u()({},this.index,{config:JSON.parse(this.index.config)||{}}),s={db:this.db,namespace:this.namespace,index:t};this.$store.dispatch("namespaces/updateIndex",s).then(function(){e.indexModifyWindowIsShown=!1})},onIndexDeleteQuestion:function(e){var t=e.name;this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the index:",strongMessage:t,event:"onIndexDelete",eventParams:t})},onModifyIndexWindowHide:function(){this.indexModifyWindowIsShown=!1},onIndexModifyConfirm:function(){this.onCreateIndexClick()}},watch:{namespaceOne:function(e){m.a.isEqual(this.namespaceOne,e)||(this.index=m.a.copyDeep(this.newIndexTemplate))}}},ce={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("IndexModifyWindow",{attrs:{index:e.index,isModifying:e.isIndexModifying},on:{onCreate:e.onIndexCreate,onUpdate:e.onIndexUpdate,onWindowHide:e.onModifyIndexWindowHide},model:{value:e.indexModifyWindowIsShown,callback:function(t){e.indexModifyWindowIsShown=t},expression:"indexModifyWindowIsShown"}}),e._v(" "),s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.db,currentNamespaceName:e.namespace}}),e._v(" "),e.namespaceOneExists?s("b-container",{attrs:{fluid:""}},[s("b-btn",{staticClass:"mb-3",attrs:{size:"sm",variant:"success"},on:{click:e.onIndexAddClick}},[e._v("Add index")]),e._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-sm table-bordered table-striped "},[s("thead",[s("tr",{staticClass:"d-flex"},[s("th",{staticClass:"col-sm-3"},[e._v("Index")]),e._v(" "),s("th",{staticClass:"col-sm-2"},[e._v("Field Json Path")]),e._v(" "),s("th",{staticClass:"col-sm-1"},[e._v("Field Type")]),e._v(" "),s("th",{staticClass:"col-sm-1"},[e._v("Index Type")]),e._v(" "),s("th",{staticClass:"col-sm-4"},[e._v("Options")]),e._v(" "),s("th",{staticClass:"col-sm-1"},[e._v("Actions")])])]),e._v(" "),s("tbody",e._l(e.indexesWithLabels,function(t,a){return s("tr",{key:a,staticClass:"d-flex"},[s("td",{staticClass:"col-sm-3"},[s("div",{staticClass:"cellContent"},[e._v(e._s(t.name))])]),e._v(" "),s("td",{staticClass:"col-sm-2"},[s("div",{staticClass:"cellContent"},[e._v(e._s(t.jsonPaths))])]),e._v(" "),s("td",{staticClass:"col-sm-1"},[e._v(e._s(t.fieldType))]),e._v(" "),s("td",{staticClass:"col-sm-1"},[e._v(e._s(t.indexType))]),e._v(" "),s("td",{staticClass:"col-sm-4"},[s("div",{staticClass:"cellContent"},e._l(t.options,function(t,a){return s("b-badge",{key:a,staticClass:"mr-3",attrs:{pill:"",variant:t.label}},[e._v(e._s(t.value))])}))]),e._v(" "),s("td",{staticClass:"col-sm-1"},[s("b-button",{staticClass:"mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(t){t.preventDefault(),e.onUpdateIndexClick(a)}}},[s("octicon",{attrs:{name:"pencil"}})],1),e._v(" "),s("b-button",{staticClass:"mr-1",attrs:{variant:"danger",size:"sm"},on:{click:function(s){s.preventDefault(),e.onIndexDeleteQuestion({name:t.name})}}},[s("octicon",{attrs:{name:"trashcan"}})],1)],1)])}))])])],1):e._e()],1)])},staticRenderFns:[]};var le=s("VU/8")(oe,ce,!1,function(e){s("EAeo")},"data-v-85ba554a",null).exports,ue=s("bOdI"),de=s.n(ue),me=[10,25,50],pe={db:"",namespace:"",q:"",filter:"",page:1,pageSize:me[0],sortField:"",sortOrder:"asc",viewType:"list",offset:0,limit:me[0]},he={name:"List",props:{visible:{type:Boolean,default:!0},canClear:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},items:{type:Array,default:[]},onItemUpdateQuestion:{type:Function,require:!0},onItemDeleteQuestion:{type:Function,require:!0},onDeleteAllQuestion:{type:Function,require:!0},jsonRootName:{type:Function,require:!0}},data:function(){return{editable:[],editableItems:[]}},methods:{onChangeData:function(e,t){this.$set(this.editableItems,e,t)},editToggle:function(e){var t=this.editable.map(function(t,s){return s===e&&!t});this.$set(this,"editable",t),this.editableItems=this.items.map(this.replaceLength)},updateItem:function(e){this.onItemUpdateQuestion(this.revertLength(this.editableItems[e])),this.editToggle(e)},replaceLength:function(e){try{return JSON.parse(Y()(e).replace(/length/g,"Length"))}catch(t){return e}},revertLength:function(e){try{return JSON.parse(Y()(e).replace(/Length/g,"length"))}catch(t){return e}}},watch:{items:function(){this.editable=m.a.fill(Array(this.items.length),!1),this.editableItems=this.items.map(this.replaceLength)}}},fe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.visible?s("b-container",{attrs:{fluid:""}},[e._l(e.editableItems,function(t,a){return s("b-row",{key:a},[s("b-col",[s("b-card",[s("tree-view",{attrs:{data:t,options:{modifiable:e.editable[a],maxDepth:1,rootObjectKey:e.jsonRootName(t)}},on:{"change-data":function(t){return e.onChangeData(a,t)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.editable[a],expression:"editable[index]"}]},[s("div",{staticClass:"text-left"},[s("b-btn",{staticClass:"btn mt-2 btn-primary btn-md",attrs:{variant:"primary"},on:{click:function(t){t.stopPropagation(),e.updateItem(a)}}},[e._v("Update")])],1)]),e._v(" "),s("div",{staticClass:"control_block"},[e.canEdit?s("b-btn",{on:{click:function(t){e.editToggle(a)}}},[s("svg",{staticClass:"octicon",attrs:{version:"1.1",role:"presentation",width:"14",height:"16",viewBox:"0 0 12 16"}},[s("path",{attrs:{d:"M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"}})])]):e._e(),e._v(" "),e.canEdit?s("b-btn",{attrs:{variant:"danger"},on:{click:function(){return e.onItemDeleteQuestion(t)}}},[s("svg",{staticClass:"octicon",attrs:{version:"1.1",role:"presentation",width:"12",height:"16",viewBox:"0 0 12 16"}},[s("path",{attrs:{d:"M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"}})])]):e._e()],1)],1)],1)],1)}),e._v(" "),e.canClear?s("b-btn",{staticClass:"mt-3",attrs:{variant:"danger",size:"md"},on:{click:e.onDeleteAllQuestion}},[e._v("Delete all")]):e._e()],2):e._e()},staticRenderFns:[]};var ge=s("VU/8")(he,fe,!1,function(e){s("l809")},"data-v-3c7f65be",null).exports,ve={name:"ItemsPage",components:{DefaultLayout:z,Modal:S,PageStatusNotifier:H,DataTable:re,Octicon:h.a,Editor:W.a,List:ge},props:{db:{type:String,default:pe.db},namespace:{type:String,default:pe.namespace},page:{type:Number,default:pe.page},pageSize:{type:Number,default:pe.pageSize},sortField:{type:String,default:pe.sortField},sortOrder:{type:String,default:pe.sortOrder},filter:{type:String,default:pe.filter},viewType:{type:String,default:pe.viewType}},data:function(){var e=this.$props;return{params:u()({},e),jsonEditor:"",clHeight:500,precepts:""}},computed:u()({},Object(f.d)({view:function(e){return e.settings.view},dbUsed:function(e){return e.settings.database},namespaceUsed:function(e){return e.settings.namespace},columnsSelected:function(e){return e.settings.namespacesSelectedFields},items:function(e){return e.items.list},totalItems:function(e){return e.items.total},isLoading:function(e){return e.items.isLoading}}),{keymap:function(){var e=this;return{f:function(t){var s=document.activeElement;m.a.isUndefined(s.selectionStart)&&(t.preventDefault(),e.$refs.find.focus())},"shift+right":function(){return e.onPageChange(e.params.page+1)},"shift+left":function(){return e.onPageChange(e.params.page-1)}}}},Object(f.c)({indexesFields:"namespaces/indexesNames",sortableFields:"namespaces/sortableFields",itemTemplate:"namespaces/itemTemplate",columns:"items/fields",itemsSize:"items/itemsSize",itemsJson:"items/itemsJson"}),{selectedDb:function(){return this.db||this.dbUsed},selectedNs:function(){return this.namespace||this.namespaceUsed},columnsFromSettings:function(){var e=m.a.get(this.columnsSelected,this.db,null);return e?m.a.get(e,this.namespace,this.indexesFields):this.indexesFields},isLocked:function(){return!this.totalItems},paginationInfo:function(){var e=this.totalItems||this.itemsSize;return e?"showing items from "+(this.params.page-1)*this.params.pageSize+" to "+this.params.page*this.params.pageSize+" of "+e:"No items found"},pageSizeVariants:function(){return me}}),methods:u()({},Object(f.b)({selectDatabase:"settings/selectDatabase",selectNamespace:"settings/selectNamespace",getItemsList:"items/getItemsList",getNamespaceOne:"namespaces/getNamespaceOne"}),{jsonRootName:function(e){return this.indexesFields[0]?m.a.isEmpty(e)?this.namespace+"_"+this.indexesFields[0]:m.a.isEmpty(this.indexesFields.id)?this.namespace+"_"+this.indexesFields[0]+"_"+e[this.indexesFields[0]]:this.namespace+"_"+this.indexesFields.id+"_"+e[this.indexesFields.id]:""+this.namespace},onSelectedFieldsChange:function(e){this.$store.dispatch("settings/setSelectedFieldsForNamespace",{db:this.db,namespace:this.namespace,fields:e})},onQuery:function(){var e=this;this.params.db=this.selectedDb,this.params.namespace=this.selectedNs;var t=m.a.pickBy(this.params),s={db:this.selectedDb,namespace:this.selectedNs,params:u()({},t)},a=m.a.mapKeys(t,function(e,t){return m.a.snakeCase(t)});this.getItemsList(s).then(function(){e.$router.push({path:e.$router.path,query:a})})},onItemDeleteQuestion:function(e){var t=Y()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the item:",strongMessage:t,event:"onItemDelete",eventParams:t})},onDeleteAllQuestion:function(){this.$cmodal.show({header:"Are you sure?",message:"This action will delete all items in the:",strongMessage:this.namespaceUsed,event:"onNamespaceClear"})},onItemCreateQuestion:function(e){var t=Y()(u()({},e,{precepts:this.precepts}),null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will create a new item:",strongMessage:t,event:"onItemCreate",eventParams:t})},onItemUpdateQuestion:function(e){var t=Y()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will change the existed item:",strongMessage:t,event:"onItemUpdate",eventParams:t})},onViewTypeChange:function(e){this.params.viewType=e,this.onQuery()},onPageSizeChange:function(e){this.params.pageSize=e,this.params.page=1,this.onQuery()},onPageChange:function(e){this.params.page=e,this.onQuery()},onSortChange:function(e){var t=e.sortField,s=e.sortOrder;this.params.sortField=t,this.params.sortOrder=s,this.onQuery()},onEditorSave:function(){try{var e=JSON.parse(this.$refs.editor.contentBackup);this.onItemCreateQuestion(e)}catch(e){m.a.noop()}},onFindClick:function(){this.onQuery();var e=JSON.parse(localStorage.getItem("itemsFilters"));localStorage.setItem("itemsFilters",Y()(u()({},e,de()({},this.selectedNs,this.params.filter))))},resetFilter:function(){var e=this;this.$nextTick(function(){var t=JSON.parse(localStorage.getItem("itemsFilters"));localStorage.setItem("itemsFilters",Y()(u()(de()({},e.selectedNs,e.params.filter),t))),e.params.filter=t[e.selectedNs]})}}),mounted:function(){var e=this;this.selectDatabase(this.selectedDb),this.selectNamespace(this.selectedNs),this.selectedDb&&this.selectedNs&&this.getNamespaceOne({db:this.selectedDb,namespace:this.selectedNs}).then(function(){e.onQuery()}),this.$eventHub.on("namespaceChanged",this.resetFilter)}},be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:e.keymap,expression:"keymap"}],attrs:{slot:"page"},slot:"page"},[s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.selectedDb,currentNamespaceName:e.selectedNs}}),e._v(" "),e.selectedDb&&e.selectedNs?s("b-container",{staticClass:"mb-4",attrs:{fluid:""}},[s("b-row",[s("b-col",[s("b-input-group",{attrs:{size:"sm"}},[s("b-input",{directives:[{name:"focus",rawName:"v-focus"}],ref:"find",attrs:{size:"sm"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onFindClick(t):null}},model:{value:e.params.filter,callback:function(t){e.$set(e.params,"filter",t)},expression:"params.filter"}}),e._v(" "),s("b-button",{attrs:{variant:"success",size:"sm"},on:{click:e.onFindClick}},[e._v("Find")])],1)],1)],1),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",[s("b-button-group",{attrs:{size:"sm"}},[s("b-button",{attrs:{variant:"outline-primary",pressed:"list"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("list")}}},[e._v("List")]),e._v(" "),s("b-button",{attrs:{variant:"outline-primary",pressed:"table"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("table")}}},[e._v("Table")]),e._v(" "),s("b-button",{attrs:{variant:"success",pressed:"editor"===e.params.viewType},on:{click:function(t){t.preventDefault(),e.onViewTypeChange("editor")}}},[e._v("New Item")])],1)],1),e._v(" "),s("b-col",[s("center",[s("strong",[e._v(e._s(e.paginationInfo))])])],1),e._v(" "),s("b-col",[s("b-pagination",{staticClass:"float-right ml-2",attrs:{size:"sm","hide-ellipsis":"","hide-goto-end-buttons":"",limit:null,"total-rows":e.totalItems,"per-page":e.params.pageSize},on:{change:e.onPageChange},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}}),e._v(" "),s("b-dropdown",{staticClass:"float-right",attrs:{size:"sm",variant:"primary",text:String(e.params.pageSize)}},e._l(e.pageSizeVariants,function(t){return s("b-dropdown-item",{key:t,on:{click:function(s){e.onPageSizeChange(t)}}},[e._v(e._s(t)+"\n              ")])}))],1)],1)],1):e._e(),e._v(" "),s("List",{attrs:{visible:!("list"!==e.params.viewType||!e.itemsSize),items:e.items,jsonRootName:e.jsonRootName,onItemUpdateQuestion:e.onItemUpdateQuestion,onItemDeleteQuestion:e.onItemDeleteQuestion,onDeleteAllQuestion:e.onDeleteAllQuestion,canClear:""}}),e._v(" "),"table"===e.params.viewType&&e.itemsSize?s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",[e.selectedNs?s("data-table",{staticClass:"mt-1",attrs:{isWithActions:"",isUpdateAllowed:"",isRemoveAllowed:"",isCreateAllowed:"",title:e.selectedNs,items:e.items,itemTemplate:e.itemTemplate,columns:e.columns,selectedFields:e.columnsFromSettings,sortableFields:e.sortableFields,sortField:e.params.sortField,sortOrder:e.params.sortOrder,onSelectedFieldsChange:e.onSelectedFieldsChange,onSortChange:e.onSortChange,onItemDelete:e.onItemDeleteQuestion,onItemUpdate:e.onItemUpdateQuestion}}):e._e()],1)],1),e._v(" "),s("b-btn",{attrs:{variant:"danger",size:"md"},on:{click:e.onDeleteAllQuestion}},[e._v("Delete all")])],1):e._e(),e._v(" "),"editor"===e.params.viewType?s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",[s("b-card",{attrs:{title:"Body"}},[s("editor",{ref:"editor",staticClass:"editor",attrs:{lang:"json",theme:"chrome",width:"100%",height:e.clHeight,value:e.itemTemplate}})],1),e._v(" "),s("b-card",{attrs:{title:"Precepts"}},[s("b-form-textarea",{attrs:{rows:"3","max-rows":"6",placeholder:"Enter precepts... Input one precept per line, e.g: 'id=serial()'"},model:{value:e.precepts,callback:function(t){e.precepts=t},expression:"precepts"}})],1),e._v(" "),s("center",[s("b-btn",{staticClass:"mt-3",attrs:{variant:"success",size:"md"},on:{click:e.onEditorSave}},[e._v("Save")])],1)],1)],1)],1):e._e()],1)])},staticRenderFns:[]};var _e=s("VU/8")(ve,be,!1,function(e){s("1odg")},"data-v-4ab2a00e",null).exports,ye=s("Gu7T"),Se=s.n(ye),Ee=s("vMAF"),Ce=s.n(Ee),xe=Ce()({SET:null,EQ:null,EMPTY:null,LT:null,LE:null,GT:null,GE:null,RANGE:null}),we=Ce()({MAX:null,MIN:null,AVG:null,SUM:null,FACET:null}),Te=Ce()({AND:null,NOT:null}),Ae={name:"QueryBuilder",components:{VueTagsInput:Z.a,Editor:W.a},data:function(){return{autoCompleteStyle:{inputWrapper:"autocomplite",vueSimpleSuggest:"position-relative",defaultInput:"autocomplite_input",suggestions:"position-absolute list-group z-1000",suggestItem:"suggest"},tag:"",tag_sort:[],tag_filters:[],query:{req_total:"enabled",filters:[],sort:[],explain:!1,select_filter:[],select_functions:[]},fieldsSort:[{key:"field",label:"Field"},{key:"desc",label:"Desc"},{key:"value",label:"Forced sort values"},{key:"remove",label:"&#9760;"}],fieldsFilters:[{key:"op",label:"Op"},{key:"field",label:"Field"},{key:"cond",label:"Condition"},{key:"value",label:"Value"},{key:"remove",label:"&#9760;"}],selectFunctionColumn:[{key:"func",label:"Function"},{key:"field",label:"Field"},{key:"remove",label:"&#9760;"}],conditions:xe,options:Te,selectFunc:we,filteredOptions:[]}},props:{page:{type:Number,default:pe.page},pageSize:{type:Number,default:pe.pageSize},tabIndex:{type:Number,default:0}},computed:u()({},Object(f.d)({namespaces:function(e){return e.namespaces.list},database:function(e){return e.settings.database},indexes:function(e){return e.namespaces.indexes},namespace:function(e){return e.settings.namespace}}),{indexesNotArray:function(){return this.indexes.filter(function(e){return!e.is_array})},namesOfIndexes:function(){return this.indexes.map(function(e){return e.name})},indexesNames:function(){var e=this.tag.split("");return this.indexes.map(function(e){return e.name.split("")}).filter(function(t){return m.a.intersection(e,t).length}).map(function(e){return{text:e.join("")}})},parseSelectFunctions:function(){var e=this;return this.query.select_functions.map(function(t){return e.splitSelectFunc(t)})}}),beforeUpdate:function(){this.filteredOptions=this.namesOfIndexes.sort()},methods:u()({},Object(f.b)({getItemsListByQuery:"items/getItemsListByPost",getIndexesFromNamespace:"namespaces/getIndexesFromNamespace",selectNamespace:"settings/selectNamespace"}),{updateFilteredOptions:function(){this.filteredOptions=this.namesOfIndexes.sort()},splitSelectFunc:function(e){var t=e.substring(0,e.length-1).split(/\(/g);return{func:t[0],field:t[1]}},onSubmit:function(){var e={db:this.database,params:u()({},this.query,{namespace:this.namespace,limit:this.pageSize,offset:this.pageSize*(this.page-1)})};this.getItemsListByQuery(e)},getIndexes:function(){var e={db:this.database,namespace:this.namespace};this.getIndexesFromNamespace(e)},addSort:function(e){this.query.sort=m.a.unionBy([].concat(Se()(this.query.sort),[{field:e,desc:!0}]),"field")},removeSort:function(e){var t=e.field;this.query.sort=this.query.sort.filter(function(e){return e.field!==t})},addFilter:function(){this.query.filters.push({cond:xe.SET})},removeFilter:function(e){this.query.filters.splice(e,1)},setFilter:function(e){var t=e.index,s=e.field,a=e.value,n=this.query.filters;n[t][s]=a,this.query=u()({},this.query,{filters:n})},resetQueryFilters:function(){this.query.filters=[]},resetQuerySort:function(){this.query.sort=[]},onTagAdd:function(e,t,s){if(m.a.isEmpty(e))m.a.unset(this.query,s+"."+t+".value");else{var a=e.map(function(e){return e.text})||[];m.a.set(this.query,s+"."+t+".value",a),this.$forceUpdate()}},selectFilterChange:function(e){this.query.select_filter=e.map(function(e){return e.text})},addSelectFuntion:function(){this.query.select_functions.push(this.selectFunc.MIN+"("+this.indexes[0].name+")")},selectFunction:function(e,t,s){var a=this.splitSelectFunc(this.query.select_functions[t]);a[s]=e,m.a.set(this.query,"select_functions["+t+"]",this.concatSelectFunc(a))},concatSelectFunc:function(e){return e.func+"("+e.field+")"},removeFunction:function(e){this.query.select_functions.splice(e,1)},applyEditorChanges:function(e){var t={};try{t=JSON.parse(e)}catch(e){return}this.query=t},showJSON:function(){this.$modal.show("json")}}),mounted:function(){this.$eventHub.on("itemsChanged",this.onSubmit)},watch:{namespace:function(){this.getIndexes(),this.resetQueryFilters(),this.resetQuerySort()},page:function(){1===this.tabIndex&&this.onSubmit()},pageSize:function(){1===this.tabIndex&&this.onSubmit()}}},Ie={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[s("b-card",{attrs:{title:"Query Builder"}},[s("b-row",[s("b-col",{attrs:{cols:"4"}},[s("label",[e._v("Namespace\n          "),s("b-form-select",{staticClass:"mb-3",attrs:{value:e.namespace,md:"3"},on:{input:e.selectNamespace}},[s("option",{attrs:{value:""}},[e._v("Please select a namespace")]),e._v(" "),e._l(e.namespaces,function(t){return s("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])})],2)],1)]),e._v(" "),s("b-col",{attrs:{cols:"1","offset-md":"1"}},[s("div",{staticClass:"mt-4 form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.query.explain,expression:"query.explain"}],staticClass:"form-check-input",attrs:{id:"explain",type:"checkbox"},domProps:{checked:Array.isArray(e.query.explain)?e._i(e.query.explain,null)>-1:e.query.explain},on:{change:function(t){var s=e.query.explain,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&e.$set(e.query,"explain",s.concat([null])):i>-1&&e.$set(e.query,"explain",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.query,"explain",n)}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"explain"}},[e._v("Explain")])])])],1),e._v(" "),e.namespace?s("b-tabs",{attrs:{card:""}},[s("b-tab",{attrs:{title:"Sort",active:""}},[s("b-row",[s("b-col",{attrs:{cols:"12"}},[e.query.sort.length?s("b-table",{attrs:{striped:"",hover:"",dark:"",items:e.query.sort,fields:e.fieldsSort},scopedSlots:e._u([{key:"desc",fn:function(t){return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.desc,expression:"sort.item.desc"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.item.desc)?e._i(t.item.desc,null)>-1:t.item.desc},on:{change:function(s){var a=t.item.desc,n=s.target,i=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&e.$set(t.item,"desc",a.concat([null])):r>-1&&e.$set(t.item,"desc",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(t.item,"desc",i)}}})]}},{key:"value",fn:function(t){return[s("vue-tags-input",{attrs:{"allow-edit-tags":"",placeholder:"Add value"},on:{"tags-changed":function(s){return e.onTagAdd(s,t.index,"sort")}},scopedSlots:e._u([{key:"tagCenter",fn:function(t){return s("div",{staticClass:"tag-center"},[s("span",{class:{hidden:t.edit},on:{click:function(e){t.performOpenEdit(t.index)}}},[e._v(e._s(t.tag.text))]),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"props.edit"},{name:"model",rawName:"v-model",value:t.tag.text,expression:"props.tag.text"}],staticClass:"tag-input",attrs:{type:"text"},domProps:{value:t.tag.text},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),t.target.blur()):null},blur:function(e){t.performSaveEdit(t.index)},input:function(s){s.target.composing||e.$set(t.tag,"text",s.target.value)}}})])}}]),model:{value:e.tag_sort[t.index],callback:function(s){e.$set(e.tag_sort,t.index,s)},expression:"tag_sort[sort.index]"}})]}},{key:"remove",fn:function(t){return[s("b-button",{staticClass:"button",attrs:{variant:"secondary"},on:{click:function(s){e.removeSort(t.item)}}},[e._v("Delete")])]}}])}):e._e(),e._v(" "),s("label",[e._v("Add new sort\n              "),s("b-form-select",{staticClass:"mb-3",attrs:{md:"6"},on:{change:e.addSort}},e._l(e.indexesNotArray,function(t){return s("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])}))],1)],1)],1)],1),e._v(" "),s("b-tab",{attrs:{title:"Filters"}},[s("b-row",[s("b-col",{attrs:{cols:"12"}},[e.query.filters.length?s("b-table",{attrs:{striped:"",hover:"",dark:"",items:e.query.filters,fields:e.fieldsFilters},scopedSlots:e._u([{key:"field",fn:function(t){return[s("vue-simple-suggest",{attrs:{styles:e.autoCompleteStyle,list:e.filteredOptions,"min-length":0,"filter-by-query":!1},on:{select:function(s){return e.setFilter({index:t.index,field:"field",value:s})}},model:{value:t.item.field,callback:function(s){e.$set(t.item,"field",s)},expression:"filter.item.field"}})]}},{key:"cond",fn:function(t){return[s("b-form-select",{attrs:{value:{index:t.index,field:"cond",value:t.item.cond}},on:{change:e.setFilter}},e._l(e.conditions,function(a){return s("option",{domProps:{value:{index:t.index,field:"cond",value:a}}},[e._v(e._s(a))])}))]}},{key:"op",fn:function(t){return[s("b-form-select",{attrs:{value:{index:t.index,field:"op",value:t.item.op}},on:{change:e.setFilter}},e._l(e.options,function(a){return s("option",{domProps:{value:{index:t.index,field:"op",value:a}}},[e._v(e._s(a))])}))]}},{key:"value",fn:function(t){return[s("vue-tags-input",{attrs:{"allow-edit-tags":"",placeholder:"Add value"},on:{"tags-changed":function(s){return e.onTagAdd(s,t.index,"filters")}},scopedSlots:e._u([{key:"tagCenter",fn:function(t){return s("div",{staticClass:"tag-center"},[s("span",{class:{hidden:t.edit},on:{click:function(e){t.performOpenEdit(t.index)}}},[e._v(e._s(t.tag.text))]),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"props.edit"},{name:"model",rawName:"v-model",value:t.tag.text,expression:"props.tag.text"}],staticClass:"tag-input",attrs:{type:"text"},domProps:{value:t.tag.text},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),t.target.blur()):null},blur:function(e){t.performSaveEdit(t.index)},input:function(s){s.target.composing||e.$set(t.tag,"text",s.target.value)}}})])}}]),model:{value:e.tag_filters[t.index],callback:function(s){e.$set(e.tag_filters,t.index,s)},expression:"tag_filters[filter.index]"}})]}},{key:"remove",fn:function(t){return[s("b-button",{staticClass:"button",attrs:{variant:"secondary"},on:{click:function(s){e.removeFilter(t.index)}}},[e._v("Delete")])]}}])}):e._e(),e._v(" "),s("b-btn",{staticClass:"mt-3 mb-3 button",attrs:{variant:"primary"},on:{click:e.addFilter}},[e._v("Add new filter")])],1)],1)],1),e._v(" "),s("b-tab",{attrs:{title:"Select filter"}},[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("vue-tags-input",{attrs:{placeholder:"Add field","allow-edit-tags":"","autocomplete-items":e.indexesNames},on:{"tags-changed":e.selectFilterChange},scopedSlots:e._u([{key:"tagCenter",fn:function(t){return s("div",{staticClass:"tag-center"},[s("span",{class:{hidden:t.edit},on:{click:function(e){t.performOpenEdit(t.index)}}},[e._v(e._s(t.tag.text))]),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"props.edit"},{name:"model",rawName:"v-model",value:t.tag.text,expression:"props.tag.text"}],staticClass:"tag-input",attrs:{type:"text"},domProps:{value:t.tag.text},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),t.target.blur()):null},blur:function(e){t.performSaveEdit(t.index)},input:function(s){s.target.composing||e.$set(t.tag,"text",s.target.value)}}})])}}]),model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}})],1)],1)],1),e._v(" "),e._e()],1):e._e(),e._v(" "),s("b-row",[s("b-col",{staticClass:"mt-3 mb-2",attrs:{cols:"1",offset:"10"}},[s("b-button-group",[s("b-button",{on:{click:e.showJSON}},[e._v("View")]),e._v(" "),s("b-button",{staticClass:"button",attrs:{type:"submit",variant:"success"}},[e._v("Execute")])],1)],1)],1)],1),e._v(" "),s("v-modal",{attrs:{name:"json",adaptive:!0,scrollable:!0,minWidth:500,minHeight:700}},[s("b-card",{attrs:{title:"JSON preview"}},[s("editor",{staticClass:"editor editor_config",attrs:{lang:"json",theme:"chrome",width:"100%",height:"600px",value:JSON.stringify(e.query,null,"  ")}})],1)],1)],1)},staticRenderFns:[]};var ke=s("VU/8")(Ae,Ie,!1,function(e){s("1RC/"),s("leD0")},"data-v-be87cc80",null).exports,Ne={name:"Explain",components:{DataTable:re},data:function(){return{columns:["field","method","keys","cost","matched","comparators"]}},computed:u()({},Object(f.d)({explain:function(e){return e.items.explain}}),{selectedFields:function(){return m.a.cloneDeep(this.columns)}})},Fe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[e.explain?s("b-card",{attrs:{title:"Explain"}},[s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("th",[e._v("indexes")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.indexes_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Indexes keys select time")])]),e._v(" "),s("tr",[s("th",[e._v("loop")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.loop_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Intersection loop time")])]),e._v(" "),s("tr",[s("th",[e._v("postprocess")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.postprocess_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Query post process time")])]),e._v(" "),s("tr",[s("th",[e._v("prepare")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.prepare_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Query prepare and optimize time")])]),e._v(" "),s("tr",[s("th",[e._v("sort_index")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.sort_index))])]),e._v(" "),s("td",[e._v("Index, which used for sort results")])]),e._v(" "),s("tr",[s("th",[e._v("total")]),e._v(" "),s("td",[s("strong",[e._v(e._s(e.explain.total_us))]),e._v(" us")]),e._v(" "),s("td",[e._v("Total query execution time")])])])]),e._v(" "),s("h4",{staticClass:"selectors_header"},[e._v("selectors")]),e._v(" "),e.explain.selectors?s("data-table",{staticClass:"mt-1",attrs:{items:e.explain.selectors,columns:e.columns,selectedFields:e.selectedFields}}):e._e()],1):s("b-card",[e._v("   explain  ")])],1)],1)},staticRenderFns:[]};var Le=s("VU/8")(Ne,Fe,!1,function(e){s("8P4r")},"data-v-de2521be",null).exports,De={name:"Aggregations",components:{DataTable:re},computed:u()({},Object(f.d)({aggregations:function(e){return e.items.aggregations},columns:function(e){var t=e.items.aggregations[0].fields;return["count"].concat(Se()(t))},fields:function(e){var t=e.items.aggregations[0].fields;return t},columnsName:function(){return[(this.aggregations.find(function(e){return"facet"===e.type})||{}).field,"count"]}}),{selectedFields:function(){return Object(d.cloneDeep)(this.columns)}}),methods:{getItems:function(e){var t=this,s=[];return e.forEach(function(e,a){s.push({count:e.count}),e.values.forEach(function(e,n){s[a][t.fields[n]]=e})}),s}}},ze={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[e.aggregations?s("b-card",e._l(e.aggregations,function(t){return s("div",["facet"!==t.type?s("div",{staticClass:"aggregation"},[s("span",{staticClass:"type"},[e._v(e._s(t.type))]),e._v(" "),s("span",[e._v("("+e._s(t.field)+")")]),e._v(" "),s("span",[e._v(" = ")]),e._v(" "),s("span",[e._v(e._s(t.value))])]):e._e(),e._v(" "),"facet"===t.type?s("data-table",{attrs:{items:e.getItems(t.facets),columns:e.columns,"column-names":e.columns,selectedFields:e.selectedFields,"no-display-columns-button":""}}):e._e()],1)})):e._e()],1)],1)},staticRenderFns:[]};var Me=s("VU/8")(De,ze,!1,function(e){s("YpUx")},"data-v-3ff6c163",null).exports,je=s("V8mf"),Pe=s.n(je),Re=s("/pC3"),Be=s.n(Re),Oe=s("5rWc"),Ue={name:"Highlighter",props:{content:{type:String,required:!0}},data:function(){return{positionCaret:{},text:this.$props.content,inputType:"",activeSuggest:0,error:null}},mounted:function(){this.history.save(),this.$refs.input.setSelectionRange||(this.$refs.input.setSelectionRange=function(){})},computed:u()({},Object(f.d)({database:function(e){return e.settings.database},suggests:function(e){return e.suggest.suggests},sqlError:function(e){return e.items.error}}),{showSuggest:function(){return!m.a.isEmpty(this.suggests)},errorLine:function(){if("string"!=typeof this.error)return null;var e=this.error.split(",");return parseInt(e[e.length-1].split(":")[1],10)},errorColumn:function(){if("string"!=typeof this.error)return null;var e=this.error.split(",");return parseInt(e[e.length-1].split(":")[2],10)},textHightlight:function(){if(!m.a.isNull(this.error)){var e=Pe.a.highlight("SQL",this.text).value.split("\n"),t=e[this.errorLine-1],s=t;if(!(t=this.text.split("\n")[this.errorLine-1]))return e.join("\n");for(var a=this.errorColumn-1,n=this.errorColumn;t[a]&&/^[a-zA-Z--0-9_#]*$/.test(t[a]);)a-=1;for(;t[n]&&/^[a-zA-Z--0-9_#]*$/.test(t[n]);)n+=1;var i=t.substring(a,n).trim();return s=m.a.replace(s,i,'<span class="hljs-error">'+i+"</span>"),e[this.errorLine-1]=s,e.join("\n")}return Pe.a.highlight("SQL",this.text).value},textNumeration:function(){for(var e=this.text.split("\n").length,t=[],s=1;s<=e+1;++s)s===this.errorLine?t.push('<div class="error-number">'+s+"</div>"):t.push("<div>"+s+"</div>");return t.join("")},history:function(){return new Be.a({maxLength:10,provider:this.textSerializer})}}),methods:u()({},Object(f.b)({getSuggest:"suggest/getSuggest",clearSuggest:"suggest/clearSuggest"}),{enterPress:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&(e.preventDefault(),this.changed(e),this.$emit("onQuery")),this.suggests.length&&this.cofirmSuggest(e)},changed:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.getCaret(),this.inputType=e.inputType,"historyUndo"!==this.inputType)if("historyRedo"!==this.inputType){var s=e.target.innerText;this.text!==s&&(this.error=null),"\n"===s&&(s=""),this.$emit("update",s.replace(/\n\s*\n\s*\n/g,"\n\n")),t&&this.$nextTick(this.onSuggest)}else this.redo();else this.undo()},undo:function(){this.history.undo(this.textUnserializer)},redo:function(){this.history.redo(this.textUnserializer)},textSerializer:function(e){e(this.text)},textUnserializer:function(e){m.a.isEmpty(e)||(this.text=e,this.setCaret())},getCaret:function(){try{this.positionCaret=Object(Oe.a)(this.$refs.input)}catch(e){this.positionCaret.pos=0}},setCaret:function(){var e=this;this.$nextTick(function(){e.$refs.input.focus();var t=e.text.length<e.positionCaret.pos?e.text.length:e.positionCaret.pos;"historyUndo"===e.inputType&&(e.text.length>=e.positionCaret.pos&&(t-=1),e.positionCaret.pos-=1),"historyRedo"===e.inputType&&(e.text.length>=e.positionCaret.pos&&(t+=1),e.positionCaret.pos+=1),"insertParagraph"===e.inputType&&(t+=1),Object(Oe.a)(e.$refs.input,t)})},selectSuggest:function(e){if(!m.a.isUndefined(e)){for(var t=this.positionCaret.pos-1,s=this.positionCaret.pos;this.text[t]&&/^[a-zA-Z0-9_#]*$/.test(this.text[t]);)t-=1;for(;this.text[s]&&/^[a-zA-Z0-9_#]*$/.test(this.text[s]);)s+=1;var a=this.text.slice(0,t+1).replace(/\n\s*\n/g,"\n"),n=this.text.slice(s,this.text.length);this.text=a+e+n,this.clearSuggest(),this.positionCaret.pos=t+e.length+1,this.positionCaret.pos>this.text.length&&(this.positionCaret.pos=this.text.length-1),this.setCaret()}},onSuggest:m.a.throttle(function(){var e=this.database,t=this.content,s=this.positionCaret,a=t.replace(/(\r\n|\n|\r)$/g,"");m.a.isEmpty(a)||this.getSuggest({db:e,params:{q:a,pos:s.pos||0}})},300),extendActive:function(e){if(!m.a.isEmpty(this.suggests)){if(e.preventDefault(),this.activeSuggest===this.suggests.length-1)return;this.changeActiveSuggest(1)}},reduceActive:function(e){if(!m.a.isEmpty(this.suggests)){if(e.preventDefault(),0===this.activeSuggest)return;this.changeActiveSuggest(-1)}},changeActiveSuggest:function(e){this.$set(this,"activeSuggest",this.activeSuggest+e)},cofirmSuggest:function(e){m.a.isEmpty(this.suggests)||(e.preventDefault(),this.selectSuggest(this.suggests[this.activeSuggest]))},handleSideArrows:function(){m.a.isEmpty(this.suggests)||(this.getCaret(),this.onSuggest())},clearSuggestByCondition:function(){this.showSuggest&&this.clearSuggest()}}),watch:{content:function(){this.getCaret(),this.text=this.content,this.history.save(),this.setCaret()},suggests:function(){this.activeSuggest=0},sqlError:function(){this.error=m.a.get(this.sqlError,"response.data.description",""),this.setCaret()}}},qe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"root"},[s("div",{staticClass:"highlight"},[s("div",{staticClass:"numeration",domProps:{innerHTML:e._s(e.textNumeration)}}),e._v(" "),s("div",{ref:"input",staticClass:"sql",attrs:{contenteditable:""},domProps:{innerHTML:e._s(e.textHightlight)},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.clearSuggest(t):null},keydown:[function(t){return"button"in t||40===t.keyCode?e.extendActive(t):null},function(t){return"button"in t||38===t.keyCode?e.reduceActive(t):null},function(t){return"button"in t||37===t.keyCode?e.handleSideArrows(t):null},function(t){return"button"in t||39===t.keyCode?e.handleSideArrows(t):null},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enterPress(t):null},function(t){return"button"in t||!e._k(t.keyCode,"tab",9,t.key,"Tab")?(t.preventDefault(),e.cofirmSuggest(t)):null}],input:function(t){e.changed(t,!0)},blur:function(t){e.changed(t)}}}),e._v(" "),s("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.clearSuggestByCondition,expression:"clearSuggestByCondition"},{name:"show",rawName:"v-show",value:e.showSuggest,expression:"showSuggest"}],staticClass:"suggest",style:{top:e.positionCaret.top+16+"px",left:e.positionCaret.left+"px"}},e._l(e.suggests,function(t,a){return s("li",{class:{active:a===e.activeSuggest},on:{click:function(s){e.selectSuggest(t)}}},[e._v(e._s(t))])}))])])},staticRenderFns:[]};var $e={name:"ItemsPage",components:{DefaultLayout:z,DataTable:re,PageStatusNotifier:H,Explain:Le,Aggregations:Me,QueryBuilder:ke,List:ge,Highlighter:s("VU/8")(Ue,qe,!1,function(e){s("7qtJ"),s("yGi1")},"data-v-6ffec395",null).exports},props:{db:{type:String,default:pe.db},page:{type:Number,default:pe.page},pageSize:{type:Number,default:pe.pageSize},viewType:{type:String,default:pe.viewType},q:{type:String,default:pe.q}},data:function(){var e=this.$props;return{tabIndex:0,params:u()({},e)}},computed:u()({},Object(f.d)({queryHistory:function(e){return e.settings.queryHistory},database:function(e){return e.settings.database},items:function(e){return e.items.qList},explain:function(e){return e.items.explain},aggregations:function(e){return e.items.aggregations},totalItems:function(e){return e.items.qTotal},queryTotal:function(e){return e.items.queryTotal},isLoading:function(e){return e.items.isLoading},namespaces:function(e){return e.items.namespaces},cacheEnabled:function(e){return e.items.cacheEnabled}}),Object(f.c)({fields:"items/qFields",itemsSize:"items/qItemsSize"}),{keymap:function(){var e=this;return{"shift+right":function(){return e.onPageChange(e.params.page+1)},"shift+left":function(){return e.onPageChange(e.params.page-1)}}},rightNamespace:function(){return 1===this.namespaces.length},selectedFields:function(){return m.a.cloneDeep(this.fields)},isAnyItemInQueryHistory:function(){return!m.a.isEmpty(this.queryHistory)},isLocked:function(){return!this.totalItems},isExplain:function(){return!m.a.isNull(this.explain)},isAggregations:function(){return!m.a.isEmpty(this.aggregations)},paginationInfo:function(){var e=this.totalItems;return e?"showing items from "+(this.params.page-1)*this.params.pageSize+" to "+this.params.page*this.params.pageSize+" of "+e:"No items found"},queryTotalInfo:function(){var e=this.queryTotal,t=this.totalItems;return e&&e!==t?", "+e+" total":""},pageSizeVariants:function(){return me}}),methods:u()({},Object(f.b)({selectDatabase:"settings/selectDatabase",pushQueryToHistory:"settings/pushQueryToHistory",loadQueriesFromHistory:"settings/loadQueriesFromHistory",getItemsListByQuery:"items/getItemsListByQuery",reset:"items/reset",clearSuggest:"suggest/clearSuggest"}),{jsonRootName:function(e){if(m.a.isEmpty(e[this.fields.id])){var t=this.fields[0];return t+"_"+e[t]}return this.fields.id+"_"+e.id},onQuery:function(){var e=this;this.clearSuggest(),m.a.isEmpty(this.$refs.queryselect)||(this.$refs.queryselect.visible=!1);var t=this.database||this.params.db;if(t){this.database||this.selectDatabase(t),this.params.db=this.database,this.params.q=this.params.q.trim();var s=m.a.pickBy(this.params),a={db:this.database,params:u()({},s)},n=m.a.mapKeys(s,function(e,t){return m.a.snakeCase(t)});this.params.q&&(this.pushQueryToHistory({query:this.params.q}),this.getItemsListByQuery(a).then(function(){e.acceptChangeViewType(n)}))}},acceptChangeViewType:function(e){var t=this.params.viewType;"explain"!==t||this.isExplain||this.onViewTypeChange("list"),"aggregations"!==t||this.isAggregations||this.onViewTypeChange("list"),"list"!==t&&"table"!==t||(this.isLocked&&this.isExplain&&this.onViewTypeChange("explain"),this.isLocked&&this.isAggregations&&this.onViewTypeChange("aggregations")),this.$router.push({path:this.$router.path,query:e})},onQuerySelect:function(e){this.params.q=e},onViewTypeChange:function(e){this.params.viewType=e,0===this.tabIndex&&this.onQuery()},onPageSizeChange:function(e){this.params.pageSize=e,this.params.page=1,0===this.tabIndex&&this.onQuery()},onPageChange:function(e){this.params.page=e,0===this.tabIndex&&this.onQuery()},onItemDeleteQuestion:function(e){var t=this,s=Y()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will cause a removal of the item:",strongMessage:s,event:"onItemDelete",eventParams:s,callback:0===this.tabIndex?this.onQuery:function(){return t.$eventHub.emit("itemsChanged")}})},onItemUpdateQuestion:function(e){var t=this,s=Y()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will change the existed item:",strongMessage:s,event:"onItemUpdate",eventParams:s,callback:0===this.tabIndex?this.onQuery:function(){return t.$eventHub.emit("itemsChanged")}})}}),mounted:function(){this.reset(),this.loadQueriesFromHistory(),m.a.isEmpty(this.params.q)&&(this.params.q=this.queryHistory[0]||"")},beforeDestroy:function(){try{localStorage.setItem("query",this.params.q)}catch(e){localStorage.setItem("query",null)}},watch:{tabIndex:function(){this.reset()}}},Qe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:e.keymap,expression:"keymap"}],attrs:{slot:"page"},slot:"page"},[s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.database}}),e._v(" "),e.database?s("b-container",{attrs:{fluid:""}},[s("b-tabs",{model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[s("b-tab",{attrs:{title:"SQL",active:""}},[s("b-row",[s("b-col",{attrs:{cols:"11"}},[s("Highlighter",{attrs:{disabled:!e.database,content:e.params.q},on:{onQuery:e.onQuery,update:function(t){return e.params.q=t}}})],1),e._v(" "),s("b-col",{attrs:{cols:"1"}},[s("b-button-group",[s("b-button",{attrs:{disabled:!e.database},on:{click:function(t){return t.stopPropagation(),e.onQuery(t)}}},[e._v("Execute")]),e._v(" "),s("b-dropdown",{ref:"queryselect",attrs:{disabled:!e.isAnyItemInQueryHistory}},e._l(e.queryHistory,function(t,a){return s("b-dropdown-item",{key:a,on:{click:function(s){s.stopPropagation(),e.onQuerySelect(t)}}},[e._v(e._s(t))])}))],1)],1)],1)],1),e._v(" "),s("b-tab",{attrs:{title:"Query builder"}},[s("query-builder",{attrs:{tabIndex:e.tabIndex,page:e.params.page,pageSize:e.params.pageSize}})],1)],1),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",[s("b-button-group",{attrs:{size:"sm"}},[s("b-button",{attrs:{disabled:e.isLocked,variant:"outline-primary",pressed:"list"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("list")}}},[e._v("List")]),e._v(" "),s("b-button",{attrs:{disabled:e.isLocked,variant:"outline-primary",pressed:"table"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("table")}}},[e._v("Table")]),e._v(" "),e.explain?s("b-button",{attrs:{variant:"outline-primary",pressed:"explain"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("explain")}}},[e._v("Explain")]):e._e(),e._v(" "),e.aggregations.length?s("b-button",{attrs:{variant:"outline-primary",pressed:"aggregations"===e.params.viewType},on:{click:function(t){e.onViewTypeChange("aggregations")}}},[e._v("Aggregations")]):e._e()],1)],1),e._v(" "),s("b-col",[s("center",[s("strong",[e._v(e._s(e.paginationInfo)+e._s(e.queryTotalInfo))])])],1),e._v(" "),s("b-col",[s("b-pagination",{staticClass:"float-right ml-2",attrs:{disabled:e.isLocked||"explain"===this.params.viewType,size:"sm","hide-ellipsis":"","hide-goto-end-buttons":"",limit:null,"total-rows":e.totalItems,"per-page":e.params.pageSize},on:{change:e.onPageChange},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}}),e._v(" "),s("b-dropdown",{staticClass:"float-right",attrs:{disabled:e.isLocked||"explain"===this.params.viewType,size:"sm",variant:"primary",text:String(e.params.pageSize)}},e._l(e.pageSizeVariants,function(t,a){return s("b-dropdown-item",{key:a,on:{click:function(s){e.onPageSizeChange(t)}}},[e._v(e._s(t)+"\n            ")])}))],1)],1)],1):e._e(),e._v(" "),s("List",{attrs:{visible:"list"===e.params.viewType,items:e.items,jsonRootName:e.jsonRootName,onItemUpdateQuestion:e.onItemUpdateQuestion,onItemDeleteQuestion:e.onItemDeleteQuestion,canEdit:e.cacheEnabled&&e.rightNamespace}}),e._v(" "),"table"===e.params.viewType?s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",[e.itemsSize?s("data-table",{staticClass:"mt-1",attrs:{isWithActions:e.cacheEnabled&&e.rightNamespace,isUpdateAllowed:e.cacheEnabled&&e.rightNamespace,isRemoveAllowed:e.cacheEnabled&&e.rightNamespace,items:e.items,columns:e.fields,selectedFields:e.selectedFields,onItemDelete:e.onItemDeleteQuestion,onItemUpdate:e.onItemUpdateQuestion}}):e._e()],1)],1)],1):e._e(),e._v(" "),"explain"===e.params.viewType?s("b-container",{attrs:{fluid:""}},[s("Explain")],1):e._e(),e._v(" "),"aggregations"===e.params.viewType?s("b-container",{attrs:{fluid:""}},[s("Aggregations")],1):e._e()],1)])},staticRenderFns:[]};var Xe=s("VU/8")($e,Qe,!1,function(e){s("Klnp")},"data-v-10811248",null).exports,Ge=s("fZjL"),He=s.n(Ge),Ve=s("XiRE"),Ye=s.n(Ve),Je=s("WaEV"),We=s.n(Je),Ke={name:"MemoryStatsPage",components:{DefaultLayout:z,PageStatusNotifier:H,DataTable:re},props:{namespace:{type:String,default:null},index:{type:Number,default:null},page:{type:Number,default:pe.page},pageSize:{type:Number||String,default:pe.pageSize},indexes:{type:Boolean,default:!1},cache:{type:Boolean,default:!1}},data:function(){var e=this.$props,t=e.page,s=e.pageSize,a=localStorage,n=a.displayType,i=void 0===n?"chart":n,r=a.sortField,o=void 0===r?"namespace":r,c=a.sortOrder;return{Chart:null,typeChart:"pie",sortOrder:void 0===c?"desc":c,metric:"byte",params:{page:t,pageSize:s},sortField:o,displayType:i}},computed:u()({},Object(f.d)({database:function(e){return e.settings.database},items:function(e){return e.items.qList},itemsNames:function(e){return e.items.qList.map(function(e){return e.name})},isLoading:function(e){return e.items.isLoading},totalItems:function(e){return e.items.qTotal}}),{columnsNames:function(){return this.columns.map(function(e){return e.replace(/_/g," ").replace(/us$/,"ms")})},columnsIndexesNames:function(){return this.columns_indexes.map(function(e){return e.replace(/_/g," ").replace(/us$/,"ms")})},dropdownText:function(){return"table"===this.displayType?"table":this.typeChart},columns:function(){return["namespace","total","items_count","data_size","indexes_size","cache_size"]},columns_indexes:function(){return["name","total","idset_btree_size","idset_plain_size","sort_orders_size","idset_cache","data_size","fulltext_size"]},selectedFields:function(){return m.a.cloneDeep(this.columns)},selectedFieldsIndexes:function(){return m.a.cloneDeep(this.columns_indexes)},table_items:function(){var e=this,t=m.a.sortBy(this.items.map(function(e){return u()({namespace:e.name,items_count:e.items_count,total:m.a.get(e,"total.data_size",0)+m.a.get(e,"total.cache_size",0)+m.a.get(e,"total.indexes_size",0)},e.total)}),function(t){return"namespace"===e.sortField?t[e.sortField]:+t[e.sortField]});return"desc"===this.sortOrder&&(t=t.reverse()),t=t.map(function(t){return u()({},t,{data_size:e.rounding(t.data_size),cache_size:e.rounding(t.cache_size),indexes_size:e.rounding(t.indexes_size),total:e.rounding(t.total)})})},table_items_indexes:function(){var e=this,t=[];if(!this.namespace)return t;var s=this.items.findIndex(function(t){return t.name===e.namespace}),a=this.items[s];return a?(t=m.a.sortBy(a.indexes.map(function(e){return{name:e.name,idset_btree_size:m.a.get(e,"idset_btree_size",0),idset_plain_size:m.a.get(e,"idset_plain_size",0),sort_orders_size:m.a.get(e,"sort_orders_size",0),idset_cache:m.a.get(e,"idset_cache.total_size",0),data_size:m.a.get(e,"data_size",0),fulltext_size:m.a.get(e,"fulltext_size",0),total:m.a.get(e,"idset_btree_size",0)+m.a.get(e,"idset_plain_size",0)+m.a.get(e,"sort_orders_size",0)+m.a.get(e,"idset_cache.total_size",0)+m.a.get(e,"data_size",0)+m.a.get(e,"fulltext_size",0)}}),function(t){return"name"===e.sortField?t[e.sortField]:+t[e.sortField]}),"desc"===this.sortOrder&&(t=t.reverse()),t=t.map(function(t){return u()({},t,{idset_btree_size:e.rounding(t.idset_btree_size),idset_plain_size:e.rounding(t.idset_plain_size),sort_orders_size:e.rounding(t.sort_orders_size),idset_cache:e.rounding(t.idset_cache),data_size:e.rounding(t.data_size),fulltext_size:e.rounding(t.fulltext_size),total:e.rounding(t.total)})})):t},itInnerRequest:function(){return this.namespace&&m.a.isNumber(this.index)},inChart:function(){return this.itInnerRequest||this.indexes||this.cache},pageSizeVariants:function(){return me},OutPageSize:function(){return this.params.pageSize?String(this.params.pageSize):"All"},data:function(){return this.indexes?this.datasetsIndexes:this.cache?this.datasetsCache:this.itInnerRequest?this.datasetsInner:{labels:this.itemsNames,datasets:this.datasets}},totals:function(){return this.items.map(function(e){return e.total})},datasetsCache:function(){var e=this,t=this.items.findIndex(function(t){return t.name===e.namespace});if(!this.items[t])return{};var s=1,a=0;return"GB"===this.metric&&(s=P.gyga,a=2),"MB"===this.metric&&(s=P.mega,a=2),"kB"===this.metric&&(s=P.kilo,a=1),{labels:[].concat(Se()(this.items[t].indexes.map(function(e){return e.name})),["join_cache"]),datasets:[{label:this.itemsNames[t],borderWidth:1,backgroundColor:this.items[t].indexes.map(function(){return Ye()().hexString()}),borderColor:new Array(this.items[t].indexes.length).fill("#fff"),data:[].concat(Se()(this.items[t].indexes.map(function(e){return(m.a.get(e,"idset_cache.total_size",0)/s).toFixed(a)})),[(m.a.get(this.items[t],"join_cache.total_size",0)/s).toFixed(a)])}]}},datasetsIndexes:function(){var e=this,t=this.items.findIndex(function(t){return t.name===e.namespace}),s={labels:this.items[t].indexes.map(function(e){return e.name}),datasets:[{label:this.itemsNames[t],borderWidth:1,backgroundColor:this.items[t].indexes.map(function(){return Ye()().hexString()}),borderColor:new Array(this.items[t].indexes.length).fill("#fff"),data:this.items[t].indexes.map(function(e){return m.a.get(e,"idset_btree_size",0)+m.a.get(e,"idset_plain_size",0)+m.a.get(e,"sort_orders_size",0)+m.a.get(e,"fulltextSize",0)})}]},a=1,n=0,i=m.a.max(s.datasets[0].data);return i>P.gyga?(a=P.gyga,this.metric="GB",n=2):i>P.mega?(a=P.mega,this.metric="MB",n=2):i>P.kilo?(a=P.kilo,this.metric="kB",n=1):this.metric="",s.datasets[0].data=s.datasets[0].data.map(function(e){return(e/a).toFixed(n)}),s},datasetsInner:function(){var e=this,t=He()(this.items[this.index].total),s=He()(this.totals[this.index]).reduce(function(t,s){return t+e.totals[e.index][s]},0),a=1,n=0;return s>P.gyga?(a=P.gyga,this.metric="GB",n=2):s>P.mega?(a=P.mega,this.metric="MB",n=2):s>P.kilo&&(a=P.kilo,this.metric="kB",n=1),{labels:t,datasets:[{label:this.itemsNames[this.index],borderWidth:1,backgroundColor:t.map(function(){return Ye()().hexString()}),borderColor:new Array(t.length).fill("#fff"),data:t.map(function(t){return(e.items[e.index].total[t]/a).toFixed(n)})}]}},datasets:function(){var e=this,t=[];if(!this.totals.length)return t;var s="desc"===this.sortOrder?0:this.totals.length-1,a=He()(this.totals[s]).reduce(function(t,a){return t+e.totals[s][a]},0),n=1,i=0,r="Size in bytes";return a>P.gyga?(n=P.gyga,this.metric="GB",i=2,r="Size in gygabyte"):a>P.mega?(n=P.mega,this.metric="MB",i=2,r="Size in megabyte"):a>P.kilo&&(n=P.kilo,this.metric="kB",i=1,r="Size in kilobyte"),t.push({label:r,borderWidth:1,backgroundColor:new Array(this.totals.length),borderColor:new Array(this.totals.length).fill("#fff"),data:new Array(this.totals.length)}),this.totals.forEach(function(e,s){var a=Ye()();t[0].backgroundColor[s]=a.hexString(),t[0].data[s]=(He()(e).reduce(function(t,s){return t+e[s]},0)/n).toFixed(i)}),t},pathRequest:function(){var e="";return this.itInnerRequest&&(e=""+this.namespace,this.cache&&(e=this.namespace+"/cache"),this.indexes&&(e=this.namespace+"/indexes")),e}}),methods:u()({},Object(f.b)({getItemsList:"items/getItemsListByQuery"}),{onChangeDisplayType:function(e){localStorage.setItem("displayType",e),this.displayType=e},onSortChange:function(e){var t=e.sortField,s=e.sortOrder;localStorage.setItem("sortField",t),localStorage.setItem("sortOrder",s),this.sortField=t,this.sortOrder=s},rounding:function(e){var t=1,s="",a=0;return e>P.gyga?(t=P.gyga,s="GB",a=2):e>P.mega?(t=P.mega,s="MB",a=2):e>P.kilo&&(t=P.kilo,s="kB",a=1),(e/t).toFixed(a)+" "+s},init:function(){var e=this;if(this.database){var t={desc:!0,q:"select * from #memstats order by 'total.data_size' "+this.sortOrder};this.params.pageSize&&(t.pageSize=this.params.pageSize,t.page=this.params.page,this.inChart||this.$router.push({path:this.$router.path,query:u()({},this.params)})),this.getItemsList({db:this.database,params:t}).then(function(){e.Chart&&e.Chart.destroy(),e.Chart=new We.a(e.$refs.chart,{type:e.typeChart,data:e.data,options:{onClick:function(t,s){if(!m.a.isEmpty(s)){var a=m.a.get(s,"[0]._index");if(e.itInnerRequest)return 1!==a||e.indexes||e.cache||e.$router.push({name:"MemoryStatsPage",query:{namespace:e.namespace,indexes:!0}}),void(2!==a||e.indexes||e.cache||e.$router.push({name:"MemoryStatsPage",query:{namespace:e.namespace,cache:!0}}));e.$router.push({name:"MemoryStatsPage",query:{namespace:e.itemsNames[a],index:a}})}},legend:{position:"pie"===e.typeChart?"left":"top",labels:{generateLabels:function(t){var s=m.a.get(t,"data.datasets[0].data",[]),a=m.a.get(t,"data.datasets[0].backgroundColor",[]),n=m.a.get(t,"data.datasets[0].borderColor",[]),i=[];return m.a.get(t,"data.labels",[]).forEach(function(t,r){i.push({text:t+"  "+s[r]+e.metric,fillStyle:a[r],strokeStyle:n[r]})}),i}}},responsive:!0,tooltips:{callbacks:{title:function(e,t){return t.labels[e[0].index]},label:function(t,s){return""+s.datasets[0].data[t.index]+e.metric}}}}})})}},onPageChange:function(e){this.params.page=e},onPageSizeChange:function(e){this.params.pageSize=e,this.params.page=1},onChangeSortOrder:function(e){this.sortOrder=e,localStorage.setItem("sortOrder",e)},onChangeTypeChart:function(e){"chart"!==this.displayType&&this.onChangeDisplayType("chart"),this.typeChart=e,this.init()},inIndexes:function(e){this.$router.push({name:"MemoryStatsPage",query:{namespace:e.item.namespace,indexes:!0}})}}),mounted:function(){this.init(),this.$watchAll(["sortOrder","cache","indexes","namespace","database","params.page","params.pageSize"],this.init)}},Ze={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("h1",[e._v("Memory statistics")]),e._v(" "),s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.database}}),e._v(" "),s("b-row",[s("b-col",{attrs:{cols:"3"}},[s("b-button-group",[s("b-dropdown",{attrs:{text:e.dropdownText,variant:"dark"}},[s("b-dropdown-item-button",{on:{click:function(t){e.onChangeDisplayType("table")}}},[e._v("table")]),e._v(" "),s("b-dropdown-item-button",{on:{click:function(t){e.onChangeTypeChart("horizontalBar")}}},[e._v("horizontalBar")]),e._v(" "),s("b-dropdown-item-button",{on:{click:function(t){e.onChangeTypeChart("bar")}}},[e._v("bar")]),e._v(" "),s("b-dropdown-item-button",{on:{click:function(t){e.onChangeTypeChart("pie")}}},[e._v("pie")])],1)],1),e._v(" "),e.inChart&&"table"!==e.displayType?s("div",{staticClass:"toUpChart",on:{click:function(t){e.$router.push({path:"/memory_stats"})}}},[s("font-awesome-icon",{attrs:{icon:"angle-up",size:"lg"}})],1):e._e()],1),e._v(" "),s("b-col",{directives:[{name:"show",rawName:"v-show",value:"chart"===e.displayType,expression:"displayType === 'chart'"}],attrs:{cols:4}},[s("h5",[e._v(e._s(e.pathRequest))])]),e._v(" "),s("b-col",{directives:[{name:"show",rawName:"v-show",value:"chart"===e.displayType,expression:"displayType === 'chart'"}],attrs:{cols:"2"}},[s("b-dropdown",{attrs:{text:e.sortOrder,variant:"dark"}},[s("b-dropdown-item-button",{on:{click:function(t){e.onChangeSortOrder("asc")}}},[e._v("Asc")]),e._v(" "),s("b-dropdown-item-button",{on:{click:function(t){e.onChangeSortOrder("desc")}}},[e._v("Desc")])],1)],1),e._v(" "),e.inChart?e._e():s("b-col",{attrs:{cols:"2"}},[s("b-pagination",{staticClass:"float-right ml-2",attrs:{size:"sm","hide-ellipsis":"","hide-goto-end-buttons":"",limit:null,"total-rows":e.totalItems,"per-page":e.params.pageSize},on:{change:e.onPageChange},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}}),e._v(" "),s("b-dropdown",{staticClass:"float-right",attrs:{size:"sm",variant:"primary",text:e.OutPageSize}},[s("b-dropdown-item",{attrs:{id:"0"},on:{click:function(t){e.onPageSizeChange(0)}}},[e._v("All")]),e._v(" "),e._l(e.pageSizeVariants,function(t){return s("b-dropdown-item",{key:t,on:{click:function(s){e.onPageSizeChange(t)}}},[e._v(e._s(t)+"\n          ")])})],2)],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"chart"===e.displayType,expression:"displayType === 'chart'"}],staticClass:"chart"},[s("canvas",{ref:"chart"})]),e._v(" "),s("data-table",{directives:[{name:"show",rawName:"v-show",value:"table"===e.displayType&&!e.indexes,expression:"displayType === 'table' && !indexes"}],staticClass:"mt-3",attrs:{title:"Namespaces",items:e.table_items,columns:e.columns,columnNames:e.columnsNames,selectedFields:e.selectedFields,sortableFields:e.columns,onSortChange:e.onSortChange,doSomthing:e.inIndexes}}),e._v(" "),s("data-table",{directives:[{name:"show",rawName:"v-show",value:"table"===e.displayType&&e.indexes,expression:"displayType === 'table' && indexes"}],staticClass:"mt-3",attrs:{title:"indexes of "+e.namespace,items:e.table_items_indexes,columns:e.columns_indexes,columnNames:e.columnsIndexesNames,selectedFields:e.selectedFieldsIndexes,sortableFields:e.columns_indexes,onSortChange:e.onSortChange}},[e.inChart&&"table"===e.displayType?s("div",{staticClass:"toUp float-left mr-3",on:{click:function(t){e.$router.push({path:"/memory_stats"})}}},[s("font-awesome-icon",{attrs:{icon:"angle-up",size:"lg"}})],1):e._e()])],1)])},staticRenderFns:[]};var et=s("VU/8")(Ke,Ze,!1,function(e){s("OIRx")},"data-v-ca19bc34",null).exports,tt={name:"Profiling",data:function(){return{inx:0}},computed:u()({},Object(f.d)({items:function(e){return e.items.list}}),Object(f.c)({database:"settings/databaseWithDefault"}),{item:function(){var e=this,t=this.items.find(function(t,s){return!!m.a.has(t,"profiling")&&(e.inx=s,!0)});return t},queriesperfstats:{get:function(){return m.a.get(this,"item.profiling.queriesperfstats","")},set:function(e){this.updateItem(this.mutateItem("queriesperfstats",e))}},perfstats:{get:function(){return m.a.get(this,"item.profiling.perfstats","")},set:function(e){this.updateItem(this.mutateItem("perfstats",e))}},activitystats:{get:function(){return m.a.get(this,"item.profiling.activitystats","")},set:function(e){this.updateItem(this.mutateItem("activitystats",e))}},memstats:{get:function(){return m.a.get(this,"item.profiling.memstats","")},set:function(e){this.updateItem(this.mutateItem("memstats",e))}},queries_threshold_us:{get:function(){return m.a.get(this,"item.profiling.queries_threshold_us","")},set:function(e){this.updateItem(this.mutateItem("queries_threshold_us",e))}}}),methods:{mutateItem:function(e,t){return u()({},this.item,{profiling:u()({},this.item.profiling,de()({},e,t))})},updateItem:function(e){this.$store.dispatch("items/localUpdateItem",{item:e,inx:this.inx})},saveItem:function(){var e={db:this.database,namespace:"#config",item:this.item};this.$store.dispatch("items/updateItem",e)}}},st={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("h4",{staticClass:"col-sm-12 mt-2"},[e._v("ProfilingConfig")]),e._v(" "),e.item?s("div",[s("b-col",{staticClass:"col-sm-12 mt-4 mb-4",attrs:{cols:"12"}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-md-2 col-form-label text-md-right font-weight-bold",attrs:{for:"queries_threshold_us"}},[e._v("\n          Minimum time\n        ")]),e._v(" "),s("b-form-input",{staticClass:"col-sm-9 col-md-7 text-md-right",attrs:{id:"queries_threshold_us",variant:"primary",size:"sm",type:"number",placeholder:"Set integer value"},model:{value:e.queries_threshold_us,callback:function(t){e.queries_threshold_us=e._n(t)},expression:"queries_threshold_us"}}),e._v(" "),s("strong",{staticClass:"col-sm-3 col-form-label"},[e._v("us")]),e._v(" "),s("div",{staticClass:"offset-sm-0 offset-md-2"},[e._v("Minimum query execution time to be recoreded in #queriesperfstats namespace")])],1)]),e._v(" "),s("b-col",{staticClass:"col-sm-12 mt-2",attrs:{cols:"12"}},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-2 col-sm-12 text-right"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.queriesperfstats,expression:"queriesperfstats",modifiers:{lazy:!0}}],staticClass:"form-check-input",attrs:{id:"queriesperfstats",type:"checkbox"},domProps:{checked:Array.isArray(e.queriesperfstats)?e._i(e.queriesperfstats,null)>-1:e.queriesperfstats},on:{change:function(t){var s=e.queriesperfstats,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.queriesperfstats=s.concat([null])):i>-1&&(e.queriesperfstats=s.slice(0,i).concat(s.slice(i+1)))}else e.queriesperfstats=n}}})]),e._v(" "),s("label",{attrs:{for:"queriesperfstats"}},[e._v("Enables record queries perofrmance statistics")])])]),e._v(" "),s("b-col",{staticClass:"col-sm-12 mt-2",attrs:{cols:"12"}},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-2 col-sm-12 text-right"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.perfstats,expression:"perfstats",modifiers:{lazy:!0}}],staticClass:"form-check-input",attrs:{id:"perfstats",type:"checkbox"},domProps:{checked:Array.isArray(e.perfstats)?e._i(e.perfstats,null)>-1:e.perfstats},on:{change:function(t){var s=e.perfstats,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.perfstats=s.concat([null])):i>-1&&(e.perfstats=s.slice(0,i).concat(s.slice(i+1)))}else e.perfstats=n}}})]),e._v(" "),s("label",{attrs:{for:"perfstats"}},[e._v("Enables tracking overal perofrmance statistics")])])]),e._v(" "),s("b-col",{staticClass:"col-sm-12 mt-2",attrs:{cols:"12"}},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-2 col-sm-12 text-right"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.memstats,expression:"memstats",modifiers:{lazy:!0}}],staticClass:"form-check-input",attrs:{id:"memstats",type:"checkbox"},domProps:{checked:Array.isArray(e.memstats)?e._i(e.memstats,null)>-1:e.memstats},on:{change:function(t){var s=e.memstats,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.memstats=s.concat([null])):i>-1&&(e.memstats=s.slice(0,i).concat(s.slice(i+1)))}else e.memstats=n}}})]),e._v(" "),s("label",{attrs:{for:"memstats"}},[e._v("Enables tracking memory statistics")])])]),e._v(" "),s("b-col",{staticClass:"col-sm-12 mt-2",attrs:{cols:"12"}},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-2 col-sm-12 text-right"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.activitystats,expression:"activitystats",modifiers:{lazy:!0}}],staticClass:"form-check-input",attrs:{id:"activitystats",type:"checkbox"},domProps:{checked:Array.isArray(e.activitystats)?e._i(e.activitystats,null)>-1:e.activitystats},on:{change:function(t){var s=e.activitystats,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.activitystats=s.concat([null])):i>-1&&(e.activitystats=s.slice(0,i).concat(s.slice(i+1)))}else e.activitystats=n}}})]),e._v(" "),s("label",{attrs:{for:"activitystats"}},[e._v("Enables activity statistics")])])]),e._v(" "),s("b-col",{staticClass:"col-sm-5 mt-5",attrs:{sm:"5"}},[s("b-button",{staticClass:"button mr-3",attrs:{variant:"primary"},on:{click:e.saveItem}},[e._v("Save")]),e._v(" "),s("b-button",{staticClass:"button",attrs:{variant:"danger"},on:{click:function(t){e.$emit("reset")}}},[e._v("Revert")])],1)],1):s("div",[e._v("Not found")])])},staticRenderFns:[]},at=s("VU/8")(tt,st,!1,null,null,null).exports,nt={name:"Namespaces",computed:u()({},Object(f.d)({items:function(e){return e.items.list}}),Object(f.c)({database:"settings/databaseWithDefault",namespacesSuggest:"namespaces/namesWithoutHash"}),{item:function(){var e=this,t=this.items.find(function(t,s){return!!m.a.has(t,"namespaces")&&(e.inx=s,!0)});return t},namespaces:function(){return m.a.get(this.item,"namespaces",[])}}),data:function(){return{log_levels:[{value:"none",text:"none"},{value:"error",text:"error"},{value:"warning",text:"warning"},{value:"info",text:"info"},{value:"trace",text:"trace"}],join_cache_modes:[{value:"off",text:"off"},{value:"on",text:"on"},{value:"aggressive",text:"aggressive"}],inx:0,fields:[{key:"namespace"},{key:"log_level"},{key:"unload_idle_threshold"},{key:"join_cache_mode"},{key:"lazyload"}]}},methods:u()({},Object(f.b)({throwError:"settings/throwError"}),{changeNamespace:function(e,t,s){var a=this.item.namespaces;a[t]=u()({},a[t],de()({},s,e)),this.updateItem(this.mutateItem(a))},mutateItem:function(e){var t=this.item;return t.namespaces=e,t},updateItem:function(e){this.$store.dispatch("items/localUpdateItem",{item:e,inx:this.inx})},addMore:function(){var e=this.namespaces,t={namespace:m.a.get(this.getAvailableNamespace(),"[0]",""),log_level:"none",lazyload:!1,unload_idle_threshold:0,join_cache_mode:"on"};this.updateItem(u()({},this.item,{namespaces:[].concat(Se()(e),[t])}))},getAvailableNamespace:function(){var e=[];return this.namespaces.forEach(function(t){e.push(t.namespace)}),m.a.without.apply(m.a,[this.namespacesSuggest].concat(e))},removeNamespace:function(e){var t=[].concat(Se()(this.namespaces));t.splice(e,1),this.updateItem(u()({},this.item,{namespaces:t}))},saveItem:function(){var e=this.item,t=e.namespaces.map(function(e){return e.namespace});if(t.length!==m.a.uniq(t).length)this.throwError({response:"Not uniq namespaces"});else{var s={db:this.database,namespace:"#config",item:e};this.$store.dispatch("items/updateItem",s)}},getNameBlock:function(e){return"*"===e.namespace?"Default":e.namespace}}),watch:{namespaces:function(){var e=this;this.namespaces.forEach(function(t,s){var a=t.namespace;e.$refs["suggest_"+s]&&a!==e.$refs["suggest_"+s].searchInput&&(e.$refs["suggest_"+s].searchInput=a)})}}},it={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("h4",{staticClass:"col-sm-12 mt-2"},[e._v("NamespacesConfig")]),e._v(" "),e._l(e.namespaces,function(t,a){return s("b-col",{key:a,attrs:{cols:"12"}},[s("h5",[e._v(e._s(e.getNameBlock(t)))]),e._v(" "),s("b-list-group",{staticClass:"mb-4"},[e._l(e.fields,function(t,n){return s("b-list-group-item",{key:n,staticClass:"field"},["namespace"===t.key?[s("div",{staticClass:"field-left"},[s("div",[s("strong",{staticClass:"field-left"},[e._v("Select namespace")])]),e._v(" "),s("i",[e._v("Name of namespace, or `*` for setting to all namespaces")])]),e._v(" "),s("vue-simple-suggest",{directives:[{name:"show",rawName:"v-show",value:"*"!==e.namespaces[a].namespace,expression:"namespaces[index].namespace !== '*'"}],ref:"suggest_"+a,refInFor:!0,staticClass:"field-right autosuggest",attrs:{value:e.namespaces[a].namespace,list:e.getAvailableNamespace(),"min-length":0,"filter-by-query":!1},on:{select:function(t){return e.changeNamespace(t,a,"namespace")}}}),e._v(" "),s("b-form-input",{directives:[{name:"show",rawName:"v-show",value:"*"===e.namespaces[a].namespace,expression:"namespaces[index].namespace === '*'"}],staticClass:"field-right",attrs:{disabled:"*"===e.namespaces[a].namespace,value:e.namespaces[a].namespace}})]:e._e(),e._v(" "),"log_level"===t.key?[s("div",{staticClass:"field-left"},[s("div",[s("strong",{staticClass:"field-left"},[e._v("Log level")])]),e._v(" "),s("i",[e._v("Log level of queries core logger")])]),e._v(" "),s("b-form-select",{staticClass:"mb-3 field-right",attrs:{id:"log_level",value:e.namespaces[a].log_level,options:e.log_levels,size:"md"},on:{change:function(t){return e.changeNamespace(t,a,"log_level")}}})]:e._e(),e._v(" "),"lazyload"===t.key?[s("div",{staticClass:"field-left"},[s("div",[s("strong",{staticClass:"ml-5",attrs:{for:"lazyload_"+a}},[e._v("Lazyload")])]),e._v(" "),s("i",[e._v("Enable namespace lazy load (namespace shoud be loaded from disk on first call, not at reindexer startup)")])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.namespaces[a].lazyload,expression:"namespaces[index].lazyload"}],staticClass:"form-check-input ml-1",attrs:{id:"lazyload_"+a,type:"checkbox"},domProps:{checked:Array.isArray(e.namespaces[a].lazyload)?e._i(e.namespaces[a].lazyload,null)>-1:e.namespaces[a].lazyload},on:{input:function(){return e.changeNamespace(!e.namespaces[a].lazyload,a,"lazyload")},change:function(t){var s=e.namespaces[a].lazyload,n=t.target,i=!!n.checked;if(Array.isArray(s)){var r=e._i(s,null);n.checked?r<0&&e.$set(e.namespaces[a],"lazyload",s.concat([null])):r>-1&&e.$set(e.namespaces[a],"lazyload",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.namespaces[a],"lazyload",i)}}})]:e._e(),e._v(" "),"unload_idle_threshold"===t.key?[s("div",{staticClass:"field-left"},[s("div",[s("strong",[e._v("Unload idle threshold")])]),e._v(" "),s("i",[e._v("Unload namespace data from RAM after this idle timeout in seconds.")])]),e._v(" "),s("b-form-input",{staticClass:"field-right",attrs:{value:e.namespaces[a].unload_idle_threshold,id:"unload_idle_threshold",variant:"primary",size:"md",type:"number",placeholder:"Set number"},on:{input:function(t){return e.changeNamespace(parseInt(t,10),a,"unload_idle_threshold")}}})]:e._e(),e._v(" "),"join_cache_mode"===t.key?[s("div",{staticClass:"field-left"},[s("div",[s("strong",{staticClass:"field-left"},[e._v("Join cache mode")])]),e._v(" "),s("i",[e._v("Join cache mode")])]),e._v(" "),s("b-form-select",{staticClass:"mb-3 field-right",attrs:{id:"join_cache_mode",value:e.namespaces[a].join_cache_mode,options:e.join_cache_modes,size:"md"},on:{change:function(t){return e.changeNamespace(t,a,"join_cache_mode")}}})]:e._e(),e._v(" "),"start_copy_politics_count"===t.key?[s("div",{staticClass:"field-left"},[s("div",[s("strong",[e._v("Start copy politics count")])]),e._v(" "),s("i",[e._v("Copy namespace policts will start only after item's count become greater in this param")])]),e._v(" "),s("b-form-input",{staticClass:"field-right",attrs:{value:e.namespaces[a].start_copy_politics_count,id:"start_copy_politics_count",variant:"primary",size:"md",type:"number",placeholder:"Set start copy namespace policts"},on:{input:function(t){return e.changeNamespace(parseInt(t,10),a,"start_copy_politics_count")}}})]:e._e(),e._v(" "),"merge_limit_count"===t.key?[s("div",{staticClass:"field-left"},[s("div",[s("strong",[e._v("Merge limit count")])]),e._v(" "),s("i",[e._v("Merge write namespace after get thi count of operations")])]),e._v(" "),s("b-form-input",{staticClass:"field-right",attrs:{value:e.namespaces[a].merge_limit_count,id:"merge_limit_count",variant:"primary",size:"md",type:"number",placeholder:"Set count operations namespace merge"},on:{input:function(t){return e.changeNamespace(parseInt(t,10),a,"merge_limit_count")}}})]:e._e()],2)}),e._v(" "),s("b-list-group-item",{staticClass:"field"},[s("div",{staticClass:"field-left"}),e._v(" "),s("div",{staticClass:"field-right"},["*"!==e.namespaces[a].namespace?s("b-button",{staticClass:"button float-right",attrs:{variant:"danger"},on:{click:function(t){e.removeNamespace(a)}}},[e._v("Remove")]):e._e()],1)])],2)],1)}),e._v(" "),s("b-col",{staticClass:"col-sm-5 mt-5",attrs:{sm:"5"}},[s("b-button",{staticClass:"button mr-3",attrs:{variant:"primary"},on:{click:e.saveItem}},[e._v("Save")]),e._v(" "),s("b-button",{staticClass:"button mr-3",attrs:{variant:"danger"},on:{click:function(t){e.$emit("reset")}}},[e._v("Revert")]),e._v(" "),s("b-button",{staticClass:"button",attrs:{variant:"success"},on:{click:e.addMore}},[e._v("Add namespace")])],1)],2)},staticRenderFns:[]};var rt=s("VU/8")(nt,it,!1,function(e){s("5C21")},"data-v-22e959b6",null).exports,ot={name:"Replication",components:{VueTagsInput:Z.a},computed:u()({},Object(f.d)({items:function(e){return e.items.list}}),Object(f.c)({database:"settings/databaseWithDefault"}),{item:function(){var e=this,t=this.items.find(function(t,s){return!!m.a.has(t,"replication")&&(e.inx=s,!0)});return t},role:{get:function(){return m.a.get(this,"item.replication.role","")},set:function(e){this.updateItem(this.mutateItem("role",e))}},master_dsn:{get:function(){return m.a.get(this,"item.replication.master_dsn","")},set:function(e){this.updateItem(this.mutateItem("master_dsn",e))}},cluster_id:{get:function(){return m.a.get(this,"item.replication.cluster_id","")},set:function(e){this.updateItem(this.mutateItem("cluster_id",e))}},force_sync_on_logic_error:{get:function(){return m.a.get(this,"item.replication.force_sync_on_logic_error","")},set:function(e){this.updateItem(this.mutateItem("force_sync_on_logic_error",e))}},force_sync_on_wrong_data_hash:{get:function(){return m.a.get(this,"item.replication.force_sync_on_wrong_data_hash","")},set:function(e){this.updateItem(this.mutateItem("force_sync_on_wrong_data_hash",e))}},namespaces_replication:{get:function(){return m.a.get(this,"item.replication.namespaces",[]).map(function(e){return{text:e}})},set:function(e){var t=e.map(function(e){return e.text});this.updateItem(this.mutateItem("namespaces",t))}}}),data:function(){return{roles:[{value:"none",text:"none"},{value:"slave",text:"slave"},{value:"master",text:"master"}],inx:0,tag:""}},methods:{mutateItem:function(e,t){return u()({},this.item,{replication:u()({},this.item.replication,de()({},e,t))})},needDisable:function(e){switch(this.role){case"master":return"cluster_id"!==e;case"none":return!0;default:return!1}},onTagBlur:function(e){var t=e.target.value,s=[].concat(Se()(this.namespaces_replication));s.push({text:t}),this.namespaces_replication=s},updateItem:function(e){this.$store.dispatch("items/localUpdateItem",{item:e,inx:this.inx})},saveItem:function(){var e={db:this.database,namespace:"#config",item:this.item};this.$store.dispatch("items/updateItem",e)}}},ct={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("h4",{staticClass:"col-sm-12 mt-2"},[e._v("ReplicationConfig")]),e._v(" "),e.item?[s("b-col",{staticClass:"col-sm-8 mt-4",attrs:{cols:"8"}},[s("b-form-group",{attrs:{label:"Replication role"}},[s("b-form-radio-group",{staticClass:"btn-radios-role",attrs:{options:e.roles,buttons:"","button-variant":"outline-primary",size:"md",name:"radio-btn-outline"},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1)],1),e._v(" "),s("b-col",{directives:[{name:"show",rawName:"v-show",value:!e.needDisable("cluster_id"),expression:"!needDisable('cluster_id')"}],attrs:{cols:"8"}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label text-md-right font-weight-bold",attrs:{for:"cluster_id"}},[e._v("Cluser ID")]),e._v(" "),s("b-form-input",{staticClass:"mb-1",attrs:{disabled:e.needDisable("cluster_id"),id:"cluster_id",variant:"primary",size:"sm",type:"number",placeholder:"Cluser ID"},model:{value:e.cluster_id,callback:function(t){e.cluster_id=e._n(t)},expression:"cluster_id"}}),e._v(" "),s("i",[e._v("Must be same for client and for master")])],1)]),e._v(" "),s("b-col",{directives:[{name:"show",rawName:"v-show",value:!e.needDisable(),expression:"!needDisable()"}],attrs:{cols:"8"}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label text-md-right font-weight-bold",attrs:{for:"master_dsn"}},[e._v("DSN to master")]),e._v(" "),s("b-form-input",{staticClass:"mb-1",attrs:{disabled:e.needDisable(),id:"master_dsn",variant:"primary",size:"sm",type:"text",placeholder:"Set cproto schema"},model:{value:e.master_dsn,callback:function(t){e.master_dsn=t},expression:"master_dsn"}}),e._v(" "),s("i",[e._v("Only cproto schema is supported")])],1)]),e._v(" "),s("b-col",{directives:[{name:"show",rawName:"v-show",value:!e.needDisable(),expression:"!needDisable()"}],attrs:{cols:"8"}},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"text-md-right"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.force_sync_on_logic_error,expression:"force_sync_on_logic_error",modifiers:{lazy:!0}}],staticClass:"form-check-input",attrs:{disabled:e.needDisable(),id:"force_sync_on_logic_error",type:"checkbox"},domProps:{checked:Array.isArray(e.force_sync_on_logic_error)?e._i(e.force_sync_on_logic_error,null)>-1:e.force_sync_on_logic_error},on:{change:function(t){var s=e.force_sync_on_logic_error,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.force_sync_on_logic_error=s.concat([null])):i>-1&&(e.force_sync_on_logic_error=s.slice(0,i).concat(s.slice(i+1)))}else e.force_sync_on_logic_error=n}}})]),e._v(" "),s("label",{attrs:{for:"force_sync_on_logic_error"}},[s("strong",[e._v("Force resync on logic error conditions")])])])]),e._v(" "),s("b-col",{directives:[{name:"show",rawName:"v-show",value:!e.needDisable(),expression:"!needDisable()"}],attrs:{cols:"8"}},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"text-md-right"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.force_sync_on_wrong_data_hash,expression:"force_sync_on_wrong_data_hash",modifiers:{lazy:!0}}],staticClass:"form-check-input",attrs:{disabled:e.needDisable(),id:"force_sync_on_wrong_data_hash",type:"checkbox"},domProps:{checked:Array.isArray(e.force_sync_on_wrong_data_hash)?e._i(e.force_sync_on_wrong_data_hash,null)>-1:e.force_sync_on_wrong_data_hash},on:{change:function(t){var s=e.force_sync_on_wrong_data_hash,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.force_sync_on_wrong_data_hash=s.concat([null])):i>-1&&(e.force_sync_on_wrong_data_hash=s.slice(0,i).concat(s.slice(i+1)))}else e.force_sync_on_wrong_data_hash=n}}})]),e._v(" "),s("label",{attrs:{for:"force_sync_on_wrong_data_hash"}},[s("strong",[e._v("Force resync on wrong data hash conditions")])])])]),e._v(" "),s("b-col",{directives:[{name:"show",rawName:"v-show",value:!e.needDisable(),expression:"!needDisable()"}],attrs:{cols:"8"}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label text-md-right font-weight-bold",attrs:{for:"namespaces"}},[e._v("List of namespaces for replication")]),e._v(" "),s("vue-tags-input",{staticClass:"namespace",attrs:{disabled:e.needDisable(),tags:e.namespaces_replication,placeholder:"Add namespace"},on:{"tags-changed":function(t){return e.namespaces_replication=t},blur:e.onTagBlur},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}}),e._v(" "),s("i",[e._v("If emply, all namespaces. All replicated namespaces will become read only for slave")])],1)]),e._v(" "),s("b-col",{staticClass:"col-sm-12 mt-5",attrs:{sm:"5"}},[s("b-button",{staticClass:"button mr-3",attrs:{variant:"primary"},on:{click:e.saveItem}},[e._v("Save")]),e._v(" "),s("b-button",{staticClass:"button",attrs:{variant:"danger"},on:{click:function(t){e.$emit("reset")}}},[e._v("Revert")])],1)]:[s("div",[e._v("Not found")])]],2)},staticRenderFns:[]};var lt={name:"ConfigPage",components:{DefaultLayout:z,Profiling:at,Namespaces:rt,Replication:s("VU/8")(ot,ct,!1,function(e){s("2R2w"),s("euL0")},"data-v-6b549d37",null).exports},computed:u()({},Object(f.c)({database:"settings/databaseWithDefault"})),methods:u()({},Object(f.b)({getItemsList:"items/getItemsList"}),{init:function(){if(!m.a.isEmpty(this.database)){var e={db:this.database,namespace:"#config"};this.getItemsList(e)}}}),mounted:function(){this.init()},watch:{database:function(){this.init()}}},ut={render:function(){var e=this.$createElement,t=this._self._c||e;return t("default-layout",[t("div",{attrs:{slot:"page"},slot:"page"},[t("h1",[this._v("Configuration")]),this._v(" "),t("b-tabs",{attrs:{card:""}},[t("b-tab",{attrs:{title:"Profiling"}},[t("Profiling",{on:{reset:this.init}})],1),this._v(" "),t("b-tab",{attrs:{title:"Namespaces"}},[t("Namespaces",{on:{reset:this.init}})],1),this._v(" "),t("b-tab",{attrs:{title:"Replication"}},[t("Replication",{on:{reset:this.init}})],1)],1)],1)])},staticRenderFns:[]},dt=s("VU/8")(lt,ut,!1,null,null,null).exports,mt=s("2kXX"),pt=s.n(mt),ht=s("L/i1"),ft=s.n(ht);function gt(e){return{last_sec_avg_latency_us:"Average latency (execution time) for queries at last second",last_sec_avg_lock_time_us:"Average waiting time for acquiring lock at last second",last_sec_qps:"Count of queries, requested at last second",latency_stddev:"Standard deviation of latency values",max_latency_us:"Maximum latency value",min_latency_us:"Minimal latency value",total_avg_latency_us:"Total latency (execution time) for queries",total_avg_lock_time_us:"Total waiting time for acquiring lock",total_queries_count:"Total count of queries"}[e]+" ("+e+")"}var vt=function(e){var t=document.getElementById("chartjs-tooltip");if(t||((t=document.createElement("div")).id="chartjs-tooltip",t.innerHTML='<table class="tooltip_chart"></table>',document.body.appendChild(t)),0!==e.opacity){if(t.classList.remove("above","below","no-transform"),e.yAlign?t.classList.add(e.yAlign):t.classList.add("no-transform"),e.body){var s=e.title||[],a=e.body[0].lines,n="<thead>";s.forEach(function(e){n+="<tr><th>"+e+"</th></tr>"}),n+="</thead><tbody>",a.forEach(function(e){var t=e.split(":");n+="<tr><td>"+gt(t[0])+"</td><td>"+t[1]+"</td</tr>"}),n+="</tbody>",t.querySelector("table").innerHTML=n}var i=ft()(),r=i.x,o=i.y;t.style.opacity=1,t.style.position="absolute",t.style.left=r+"px",t.style.top=o+"px",t.style.fontFamily=m.a.get(e,"_bodyFontFamily"),t.style.fontSize=e.bodyFontSize+"px",t.style.fontStyle=m.a.get(e,"_bodyFontStyle"),t.style.padding=e.yPadding+"px "+e.xPadding+"px",t.style.pointerEvents="none"}else t.style.opacity=0},bt={name:"PerfstatsPage",components:{DefaultLayout:z,PageStatusNotifier:H,DataTable:re},computed:u()({},Object(f.d)({database:function(e){return e.settings.database},isLoading:function(e){return e.items.isLoading},items:function(e){return e.items.qList},itemsNames:function(e){return e.items.qList.map(function(e){return e.name})}}),{fields:function(){return He()(m.a.get(this,"items[0].updates",{}))},columns:function(){return["namespace"].concat(Se()(this.fields)).map(function(e){return e})},columnsNames:function(){return["namespace"].concat(Se()(this.fields)).map(function(e){return e.replace(/_/g," ").replace(/us$/,"ms")})},updates:function(){var e={labels:this.itemsNames,datasets:[this.datasets("updates")]};if(!this.showEmpty){var t=[];e.datasets[0].data.forEach(function(e,s){0===e&&t.push(s)}),e.datasets[0].data=e.datasets[0].data.filter(function(e,s){return-1===m.a.indexOf(t,s)}),e.labels=e.labels.filter(function(e,s){return-1===m.a.indexOf(t,s)})}return e},selects:function(){var e={labels:this.itemsNames,datasets:[this.datasets("selects")]};if(!this.showEmpty){var t=[];e.datasets[0].data.forEach(function(e,s){0===e&&t.push(s)}),e.datasets[0].data=e.datasets[0].data.filter(function(e,s){return-1===m.a.indexOf(t,s)}),e.labels=e.labels.filter(function(e,s){return-1===m.a.indexOf(t,s)})}return e},all_updates:function(){var e=this.items.map(function(e){return e.updates});return m.a.isEmpty(e[0])?[]:this.rounding(e)},all_selects:function(){var e=this.items.map(function(e){return e.selects});return m.a.isEmpty(e[0])?[]:this.rounding(e)},all_selects_table:function(){var e=this.items.map(function(e){return u()({namespace:e.name},e.selects)});return this.showEmpty||(e=this.filterNotEmpty(e)),m.a.isEmpty(e[0])?[]:this.rounding(e)},all_updates_table:function(){var e=this.items.map(function(e){return u()({namespace:e.name},e.updates)});return this.showEmpty||(e=this.filterNotEmpty(e)),m.a.isEmpty(e[0])?[]:this.rounding(e)},updates_last_sec_qps:function(){return this.sumField("last_sec_qps").updates},updates_total_queries_count:function(){return this.sumField("total_queries_count").updates},updates_last_sec_avg_latency_us:function(){return this.averageField("last_sec_avg_latency_us","all_updates")},updates_total_avg_latency_us:function(){return this.averageField("total_avg_latency_us","all_updates")},selects_last_sec_qps:function(){return this.sumField("last_sec_qps").selects},selects_total_queries_count:function(){return this.sumField("total_queries_count").selects},selects_last_sec_avg_latency_us:function(){return this.averageField("last_sec_avg_latency_us","all_selects")},selects_total_avg_latency_us:function(){return this.averageField("total_avg_latency_us","all_selects")}}),data:function(){var e=localStorage,t=e.displayTypes,s=void 0===t?null:t,a=e.tabIndex,n=void 0===a?0:a,i=e.selectedFields,r=void 0===i?null:i;return{updatesChart:null,selectsChart:null,tabIndex:+n,activeField:[],sortOrder:["desc","desc"],rootFields:["selects","updates"],enabled:!1,selectedFields:JSON.parse(r)||[],displayTypes:JSON.parse(s)||["chart","chart"],autoRefreshFlag:!1,autoRefreshTimer:null,showEmpty:!1}},methods:u()({},Object(f.b)({getItemsList:"items/getItemsListByQuery",resetStats:"items/createItem"}),{filterNotEmpty:function(e){return e.filter(function(e){var t=!1;return He()(e).forEach(function(s){!m.a.isString(e[s])&&"min_latency_us"!==s&&e[s]>0&&(t=!0)}),t})},toggleAutoRefresh:function(){var e=this;this.$nextTick(function(){e.autoRefreshFlag?e.autoRefreshTimer=setInterval(e.init,5e3):clearInterval(e.autoRefreshTimer)})},toggleShowEmpty:function(){this.showEmpty=!this.showEmpty,this.init()},sumField:function(e){return{updates:this.all_updates.reduce(function(t,s){return m.a.isNumber(s)?t+s[e]:t},0),selects:this.all_selects.reduce(function(t,s){return m.a.isNumber(s)?t+s[e]:t},0)}},averageField:function(e,t){var s=0,a=this[t].reduce(function(t,a){return a[e]>0&&(s+=1),t+a[e]},0);return a?(a/s).toFixed(2):0},datasets:function(e){var t=this,s="milliseconds",a=[],n=[],i=[];this.items.forEach(function(s){var r=m.a.get(s,e),o=m.a.get(r,"["+t.activeField[t.tabIndex]+"]");a.push(.001*o),n.push("#007bff94"),i.push("#fff")});var r=pt()(m.a.max(a)||0),o=r.days,c=r.hours,l=r.minutes,u=r.seconds;return"total_queries_count"===this.activeField[this.tabIndex]||"last_sec_qps"===this.activeField[this.tabIndex]?(s="units",a=a.map(function(e){return e/.001})):o>0?(s="days",a=a.map(function(e){return pt()(e).days})):c>0?(s="hours",a=a.map(function(e){return pt()(e).hours})):l>0?(s="minutes",a=a.map(function(e){return pt()(e).minutes})):u>0&&(s="seconds",a=a.map(function(e){return pt()(e).seconds})),{label:s,data:a,backgroundColor:n,borderColor:i}},rounding:function(e){return e.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return He()(e).forEach(function(s){if("namespace"===s||"total_queries_count"===s||"last_sec_qps"===s)t[s]=e[s];else{var a=pt()(.001*e[s]||0),n=a.days,i=a.hours,r=a.minutes,o=a.seconds;t[s]=n>0?n:i>0?i:r>0?r:o>0?o:m.a.round(.001*e[s],4)}}),t})},checkEnable:function(){var e=this;if(!m.a.isEmpty(this.database)){this.getItemsList({db:this.database,params:{q:'select * from #config where type == "profiling"'}}).then(function(){m.a.get(e,"items[0].profiling.perfstats",!1)?e.enabled=!0:e.$modal.show("redirect")})}},reset:function(){var e=this;this.resetStats({db:this.database,namespace:"#perfstats",item:"{}",isReset:!0}).then(function(){return e.init()})},init:function(){var e=this;if(!m.a.isEmpty(this.database)&&this.enabled){var t={desc:!0,q:"select * from #perfstats order by '"+this.rootFields[this.tabIndex]+"."+this.activeField[this.tabIndex]+"' "+this.sortOrder[this.tabIndex]};this.getItemsList({db:this.database,params:t}).then(function(){var t=e.activeField[e.tabIndex],s=e.all_updates,a=e.all_selects,n=e.items;switch(e.tabIndex){case 1:e.updatesChart?(e.updatesChart.data=e.updates,e.updatesChart.options.animation.duration=0,e.updatesChart.update()):e.updatesChart=new We.a(e.$refs.updatesChart,{type:"horizontalBar",data:e.updates,options:{responsive:!0,tooltips:{enabled:!1,custom:vt,callbacks:{label:function(e){var t=e.index;return Y()(s[t]).replace(/{|}|"/g,"").split(",")},title:function(e){var a=e[0].index;return n[a].name+": "+s[a][t]}}},scales:{xAxes:[{ticks:{min:0}}]}}});break;case 0:e.selectsChart?(e.selectsChart.data=e.selects,e.selectsChart.options.animation.duration=0,e.selectsChart.update()):e.selectsChart=new We.a(e.$refs.selectsChart,{type:"horizontalBar",data:e.selects,options:{responsive:!0,tooltips:{enabled:!1,custom:vt,callbacks:{label:function(e){var t=e.index;return Y()(a[t]).replace(/{|}|"/g,"").split(",")},title:function(e){var s=e[0].index;return n[s].name+": "+a[s][t]}}},scales:{xAxes:[{ticks:{min:0}}]}}})}})}},onChangeActiveField:function(e){var t=this.activeField;t[this.tabIndex]=e,this.activeField=[].concat(Se()(t)),localStorage.activeField=Y()(this.activeField)},onChangeSortOrder:function(e){var t=this.sortOrder;t[this.tabIndex]=e,this.sortOrder=[].concat(Se()(t))},humanityField:function(e){return gt(e)},hideModal:function(){this.$modal.hide("redirect")},goToSettings:function(){this.$router.push({name:"ConfigPage"})},onSortChange:function(e){var t=e.sortField,s=e.sortOrder;this.onChangeActiveField(t),this.onChangeSortOrder(s)},onChangeDisplayType:function(e){var t=this.displayTypes;t[this.tabIndex]=e,this.displayTypes=[].concat(Se()(t)),localStorage.displayTypes=Y()(this.displayTypes)}}),mounted:function(){var e=localStorage,t=e.activeField,s=void 0===t?null:t,a=e.selectedFields,n=void 0===a?null:a;this.activeField[0]=JSON.parse(s)?JSON.parse(s)[0]:this.fields[0],this.activeField[1]=JSON.parse(s)?JSON.parse(s)[1]:this.fields[0],this.checkEnable(),this.$watchAll(["database","tabIndex","activeField","sortOrder"],this.checkEnable),this.$watchAll(["enabled","tabIndex","sortOrder","activeField","displayTypes"],this.init),this.selectedFields=JSON.parse(n)||m.a.cloneDeep(this.columns)},beforeDestroy:function(){clearInterval(this.autoRefreshTimer)},watch:{fields:function(){this.activeField[0]||(this.activeField[0]=this.fields[0]||"total_queries_count"),this.activeField[1]||(this.activeField[1]=this.fields[0]||"total_queries_count")},selectedFields:function(){localStorage.selectedFields=Y()(this.selectedFields)},tabIndex:function(){localStorage.tabIndex=this.tabIndex},displayTypes:function(){var e=localStorage.selectedFields,t=void 0===e?null:e;this.selectedFields=JSON.parse(t)||m.a.cloneDeep(this.columns)}}},_t={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("h1",[e._v("Performance stats")]),e._v(" "),s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.database}}),e._v(" "),s("v-modal",{attrs:{name:"redirect",adaptive:!0,scrollable:!0,minWidth:500,minHeight:200}},[s("div",{staticClass:"redirect_message"},[s("h4",[e._v("Performance statistics is disabled")]),e._v(" "),s("div",[e._v("They can be enabled in settings")]),e._v(" "),s("div",{staticClass:"redirect_message_buttons"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){e.hideModal()}}},[e._v("Cancel")]),e._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.goToSettings()}}},[e._v("Go to setting")])])])]),e._v(" "),s("b-tabs",{attrs:{card:""},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[s("b-tab",{attrs:{title:"Selects"}},[s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("label",{staticClass:"form-check-label",attrs:{for:"displayTypesSelects"}},[e._v("View type:")]),e._v(" "),s("b-dropdown",{attrs:{id:"displayTypesSelects",text:e.displayTypes[e.tabIndex],variant:"dark"}},[s("b-dropdown-item-button",{on:{click:function(t){e.onChangeDisplayType("chart")}}},[e._v("chart")]),e._v(" "),s("b-dropdown-item-button",{on:{click:function(t){e.onChangeDisplayType("table")}}},[e._v("table")])],1),e._v(" "),s("label",{directives:[{name:"show",rawName:"v-show",value:"chart"===e.displayTypes[e.tabIndex],expression:"displayTypes[tabIndex] === 'chart'"}],staticClass:"form-check-label",attrs:{for:"sortSelects"}},[e._v("Sort:")]),e._v(" "),s("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:"chart"===e.displayTypes[e.tabIndex],expression:"displayTypes[tabIndex] === 'chart'"}],attrs:{id:"sortSelects",text:e.humanityField(e.activeField[e.tabIndex]),variant:"dark"}},e._l(e.fields,function(t){return s("b-dropdown-item-button",{key:t,on:{click:function(s){e.onChangeActiveField(t)}}},[e._v(e._s(e.humanityField(t)))])}))],1),e._v(" "),s("b-col",{attrs:{cols:"3"}},[s("div",{staticClass:"form-check text-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showEmpty,expression:"showEmpty"}],staticClass:"form-check-input mr-3 mt-2",attrs:{id:"showEmptySelects",type:"checkbox"},domProps:{checked:Array.isArray(e.showEmpty)?e._i(e.showEmpty,null)>-1:e.showEmpty},on:{click:e.toggleShowEmpty,change:function(t){var s=e.showEmpty,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.showEmpty=s.concat([null])):i>-1&&(e.showEmpty=s.slice(0,i).concat(s.slice(i+1)))}else e.showEmpty=n}}}),e._v(" "),s("label",{staticClass:"form-check-label mt-1",attrs:{for:"showEmptySelects"}},[e._v("Show empty")])])]),e._v(" "),s("b-col",{attrs:{cols:"3"}},[s("div",{staticClass:"form-check text-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRefreshFlag,expression:"autoRefreshFlag"}],staticClass:"form-check-input mr-3 mt-2",attrs:{id:"autoRefreshSelects",type:"checkbox"},domProps:{checked:Array.isArray(e.autoRefreshFlag)?e._i(e.autoRefreshFlag,null)>-1:e.autoRefreshFlag},on:{click:e.toggleAutoRefresh,change:function(t){var s=e.autoRefreshFlag,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.autoRefreshFlag=s.concat([null])):i>-1&&(e.autoRefreshFlag=s.slice(0,i).concat(s.slice(i+1)))}else e.autoRefreshFlag=n}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"autoRefreshSelects"}},[e._v("Auto refresh")]),e._v(" "),s("b-button",{staticClass:"button ml-3",attrs:{variant:"primary"},on:{click:e.init}},[e._v("Refresh")]),e._v(" "),s("b-button",{staticClass:"button ml-3",attrs:{variant:"primary"},on:{click:e.reset}},[e._v("Reset")])],1)])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"chart"===e.displayTypes[e.tabIndex],expression:"displayTypes[tabIndex] === 'chart'"}],staticClass:"chart"},[s("canvas",{ref:"selectsChart"})]),e._v(" "),s("data-table",{directives:[{name:"show",rawName:"v-show",value:"table"===e.displayTypes[e.tabIndex],expression:"displayTypes[tabIndex] === 'table'"}],staticClass:"mt-1",attrs:{title:"Selects",items:e.all_selects_table,columns:e.columns,columnNames:e.columnsNames,selectedFields:e.selectedFields,sortableFields:e.fields,onSortChange:e.onSortChange}}),e._v(" "),s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("td",[s("strong",[e._v("Total ount of queries, requested at last second:")])]),e._v(" "),s("td",[e._v(e._s(e.selects_last_sec_qps))])]),e._v(" "),s("tr",[s("td",[s("strong",[e._v("Total count of queries:")])]),e._v(" "),s("td",[e._v(e._s(e.selects_total_queries_count))])]),e._v(" "),s("tr",[s("td",[s("strong",[e._v("Average latency (execution time) for queries at last second:")])]),e._v(" "),s("td",[e._v(e._s(e.selects_last_sec_avg_latency_us)+"ms")])]),e._v(" "),s("tr",[s("td",[s("strong",[e._v("Average latency (execution time) for queries:")])]),e._v(" "),s("td",[e._v(e._s(e.selects_total_avg_latency_us)+"ms")])])])])],1),e._v(" "),s("b-tab",{attrs:{title:"Updates"}},[s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("label",{staticClass:"form-check-label",attrs:{for:"displayTypesUpdates"}},[e._v("View type:")]),e._v(" "),s("b-dropdown",{attrs:{id:"displayTypesUpdates",text:e.displayTypes[e.tabIndex],variant:"dark"}},[s("b-dropdown-item-button",{on:{click:function(t){e.onChangeDisplayType("chart")}}},[e._v("chart")]),e._v(" "),s("b-dropdown-item-button",{on:{click:function(t){e.onChangeDisplayType("table")}}},[e._v("table")])],1),e._v(" "),s("label",{directives:[{name:"show",rawName:"v-show",value:"chart"===e.displayTypes[e.tabIndex],expression:"displayTypes[tabIndex] === 'chart'"}],staticClass:"form-check-label",attrs:{for:"sortUpdates"}},[e._v("Sort:")]),e._v(" "),s("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:"chart"===e.displayTypes[e.tabIndex],expression:"displayTypes[tabIndex] === 'chart'"}],attrs:{id:"sortUpdates",text:e.humanityField(e.activeField[e.tabIndex]),variant:"dark"}},e._l(e.fields,function(t){return s("b-dropdown-item-button",{key:t,on:{click:function(s){e.onChangeActiveField(t)}}},[e._v(e._s(e.humanityField(t)))])}))],1),e._v(" "),s("b-col",{attrs:{cols:"3"}},[s("div",{staticClass:"form-check text-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showEmpty,expression:"showEmpty"}],staticClass:"form-check-input mr-3 mt-2",attrs:{id:"showEmptyUpdates",type:"checkbox"},domProps:{checked:Array.isArray(e.showEmpty)?e._i(e.showEmpty,null)>-1:e.showEmpty},on:{click:e.toggleShowEmpty,change:function(t){var s=e.showEmpty,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.showEmpty=s.concat([null])):i>-1&&(e.showEmpty=s.slice(0,i).concat(s.slice(i+1)))}else e.showEmpty=n}}}),e._v(" "),s("label",{staticClass:"form-check-label mt-1",attrs:{for:"showEmptyUpdates"}},[e._v("Show empty")])])]),e._v(" "),s("b-col",{attrs:{cols:"3"}},[s("div",{staticClass:"form-check text-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRefreshFlag,expression:"autoRefreshFlag"}],staticClass:"form-check-input mr-3 mt-2",attrs:{id:"autoRefreshUpdates",type:"checkbox"},domProps:{checked:Array.isArray(e.autoRefreshFlag)?e._i(e.autoRefreshFlag,null)>-1:e.autoRefreshFlag},on:{click:e.toggleAutoRefresh,change:function(t){var s=e.autoRefreshFlag,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.autoRefreshFlag=s.concat([null])):i>-1&&(e.autoRefreshFlag=s.slice(0,i).concat(s.slice(i+1)))}else e.autoRefreshFlag=n}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"autoRefreshUpdates"}},[e._v("Auto refresh")]),e._v(" "),s("b-button",{staticClass:"button ml-3",attrs:{variant:"primary"},on:{click:e.init}},[e._v("Refresh")]),e._v(" "),s("b-button",{staticClass:"button ml-3",attrs:{variant:"primary"},on:{click:e.reset}},[e._v("Reset")])],1)])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"chart"===e.displayTypes[e.tabIndex],expression:"displayTypes[tabIndex] === 'chart'"}],staticClass:"chart"},[s("canvas",{ref:"updatesChart"})]),e._v(" "),s("data-table",{directives:[{name:"show",rawName:"v-show",value:"table"===e.displayTypes[e.tabIndex],expression:"displayTypes[tabIndex] === 'table'"}],staticClass:"mt-1",attrs:{title:"Updates",items:e.all_updates_table,columns:e.columns,columnNames:e.columnsNames,selectedFields:e.selectedFields,sortableFields:e.fields,onSortChange:e.onSortChange}}),e._v(" "),s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("td",[s("strong",[e._v("Total ount of queries, requested at last second:")])]),e._v(" "),s("td",[e._v(e._s(e.updates_last_sec_qps))])]),e._v(" "),s("tr",[s("td",[s("strong",[e._v("Total count of queries:")])]),e._v(" "),s("td",[e._v(e._s(e.updates_total_queries_count))])]),e._v(" "),s("tr",[s("td",[s("strong",[e._v("Average latency (execution time) for queries at last second:")])]),e._v(" "),s("td",[e._v(e._s(e.updates_last_sec_avg_latency_us)+"ms")])]),e._v(" "),s("tr",[s("td",[s("strong",[e._v("Average latency (execution time) for queries:")])]),e._v(" "),s("td",[e._v(e._s(e.updates_total_avg_latency_us)+"ms")])])])])],1)],1)],1)])},staticRenderFns:[]};var yt=s("VU/8")(bt,_t,!1,function(e){s("71mC")},"data-v-7e340377",null).exports,St={name:"QueriesPerfstatsPage",components:{DefaultLayout:z,PageStatusNotifier:H,DataTable:re},props:{page:{type:Number,default:pe.page},pageSize:{type:Number||String,default:pe.pageSize}},computed:u()({},Object(f.d)({database:function(e){return e.settings.database},isLoading:function(e){return e.items.isLoading},items:function(e){return e.items.qList},itemsNames:function(e){return e.items.qList.map(function(e){return e.query})},totalItems:function(e){return e.items.qTotal}}),{paginationInfo:function(){return this.totalItems?"showing items from "+(this.params.page-1)*this.params.pageSize+" to "+this.params.page*this.params.pageSize+" of "+this.totalItems:"No items found"},pageSizeVariants:function(){return me},fields:function(){return He()(m.a.get(this,"items[0]",{}))},columns:function(){return[].concat(Se()(this.fields)).map(function(e){return e})},columnsNames:function(){return[].concat(Se()(this.fields)).map(function(e){return e.replace(/_/g," ").replace(/us$/,"ms")})},all_selects:function(){return m.a.isEmpty(this.items[0])?[]:this.rounding(this.items)},all_selects_table:function(){return m.a.isEmpty(this.items[0])?[]:this.rounding(this.items)}}),data:function(){var e=this.$props,t=e.page,s=e.pageSize,a=localStorage.selectedFields,n=void 0===a?null:a;return{updatesChart:null,selectsChart:null,activeField:"",sortOrder:"desc",rootFields:["selects","updates"],params:{page:t,pageSize:s},enabled:!1,selectedFields:JSON.parse(n)||[],autoRefreshFlag:!1,autoRefreshTimer:null}},methods:u()({},Object(f.b)({getItemsList:"items/getItemsListByQuery",resetStats:"items/createItem"}),{toggleAutoRefresh:function(){var e=this;this.$nextTick(function(){e.autoRefreshFlag?e.autoRefreshTimer=setInterval(e.init,5e3):clearInterval(e.autoRefreshTimer)})},sumField:function(e){return this.all_selects.reduce(function(t,s){return m.a.isNumber(s[e])?t+s[e]:t},0)},averageField:function(e,t){var s=0,a=this[t].reduce(function(t,a){return a[e]>0&&(s+=1),t+a[e]},0);return a?(a/s).toFixed(2):0},rounding:function(e){return e.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return He()(e).forEach(function(s){if("query"===s||"total_queries_count"===s||"last_sec_qps"===s)t[s]=e[s];else{var a=pt()(.001*e[s]||0),n=a.days,i=a.hours,r=a.minutes,o=a.seconds;t[s]=n>0?n:i>0?i:r>0?r:o>0?o:m.a.round(.001*e[s],4)}}),t})},checkEnable:function(){var e=this;if(!m.a.isEmpty(this.database)){this.getItemsList({db:this.database,params:{q:'select * from #config where type == "profiling"'}}).then(function(){m.a.get(e,"items[0].profiling.queriesperfstats",!1)?e.enabled=!0:e.$modal.show("redirect")})}},onPageChange:function(e){this.params.page=e,this.init()},onPageSizeChange:function(e){this.params.pageSize=e,this.params.page=1,this.init()},reset:function(){var e=this;this.resetStats({db:this.database,namespace:"#queriesperfstats",item:"{}",isReset:!0}).then(function(){return e.init()})},init:function(){if(!m.a.isEmpty(this.database)&&this.enabled){var e=u()({desc:!0,q:"select * from #queriesperfstats order by '"+this.activeField+"' "+this.sortOrder},this.params);this.getItemsList({db:this.database,params:e})}},onChangeActiveField:function(e){this.activeField=e,localStorage.activeField=Y()(this.activeField)},onChangeSortOrder:function(e){this.sortOrder=e},humanityField:function(e){return gt(e)},hideModal:function(){this.$modal.hide("redirect")},goToSettings:function(){this.$router.push({name:"ConfigPage"})},onSortChange:function(e){var t=e.sortField,s=e.sortOrder;this.onChangeActiveField(t),this.onChangeSortOrder(s)}}),mounted:function(){var e=localStorage.selectedFields,t=void 0===e?null:e;this.checkEnable(),this.$watchAll(["database","sortOrder"],this.checkEnable),this.$watchAll(["enabled","tabIndex","sortOrder","activeField"],this.init),this.selectedFields=JSON.parse(t)||m.a.cloneDeep(this.columns)},beforeDestroy:function(){clearInterval(this.autoRefreshTimer)},watch:{fields:function(){this.activeField||(this.activeField=this.fields[0]||"total_queries_count")},selectedFields:function(){localStorage.selectedFields=Y()(this.selectedFields)}}},Et={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("h1",[e._v("Queries performance stats")]),e._v(" "),s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.database}}),e._v(" "),s("v-modal",{attrs:{name:"redirect",adaptive:!0,scrollable:!0,minWidth:500,minHeight:200}},[s("div",{staticClass:"redirect_message"},[s("h4",[e._v("Query performance statistics is disabled")]),e._v(" "),s("div",[e._v("They can be enabled in settings")]),e._v(" "),s("div",{staticClass:"redirect_message_buttons"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){e.hideModal()}}},[e._v("Cancel")]),e._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.goToSettings()}}},[e._v("Go to setting")])])])]),e._v(" "),s("div",[s("b-row",[s("b-col",{attrs:{offset:"6",cols:"6"}},[s("div",{staticClass:"form-check text-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRefreshFlag,expression:"autoRefreshFlag"}],staticClass:"form-check-input mr-3 mt-2",attrs:{id:"autoRefreshSelects",type:"checkbox"},domProps:{checked:Array.isArray(e.autoRefreshFlag)?e._i(e.autoRefreshFlag,null)>-1:e.autoRefreshFlag},on:{click:e.toggleAutoRefresh,change:function(t){var s=e.autoRefreshFlag,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.autoRefreshFlag=s.concat([null])):i>-1&&(e.autoRefreshFlag=s.slice(0,i).concat(s.slice(i+1)))}else e.autoRefreshFlag=n}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"autoRefreshSelects"}},[e._v("Auto refresh")]),e._v(" "),s("b-button",{staticClass:"button ml-3",attrs:{variant:"primary"},on:{click:e.init}},[e._v("Refresh")]),e._v(" "),s("b-button",{staticClass:"button ml-3",attrs:{variant:"primary"},on:{click:e.reset}},[e._v("Reset")])],1)])],1),e._v(" "),s("b-row",[s("b-col",{attrs:{cols:"5",offset:"4"}},[s("center",[s("strong",{staticClass:"pagin"},[e._v(e._s(e.paginationInfo))])])],1),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("div",{staticClass:"pagin"},[s("b-pagination",{staticClass:"float-right ml-2",attrs:{size:"sm","hide-ellipsis":"","hide-goto-end-buttons":"",limit:null,"total-rows":e.totalItems,"per-page":e.params.pageSize},on:{change:e.onPageChange},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}}),e._v(" "),s("b-dropdown",{staticClass:"float-right",attrs:{size:"sm",variant:"primary",text:String(e.params.pageSize)}},e._l(e.pageSizeVariants,function(t){return s("b-dropdown-item",{key:t,on:{click:function(s){e.onPageSizeChange(t)}}},[e._v(e._s(t)+"\n                ")])}))],1)])],1),e._v(" "),s("data-table",{staticClass:"mt-1 queries_table",attrs:{items:e.all_selects_table,columns:e.columns,columnNames:e.columnsNames,selectedFields:e.selectedFields,sortableFields:e.fields,onSortChange:e.onSortChange}})],1)],1)])},staticRenderFns:[]};var Ct=s("VU/8")(St,Et,!1,function(e){s("uv5y"),s("UsOl")},"data-v-363a373c",null).exports,xt={name:"MetaPage",components:{DefaultLayout:z,PageStatusNotifier:H,DataTable:re,Modal:S,Octicon:h.a},props:{page:{type:Number,default:pe.page},pageSize:{type:Number,default:pe.pageSize},db:{type:String,default:pe.db},namespace:{type:String,default:pe.namespace}},data:function(){var e=this.$props;return{params:u()({},e),newMeta:{key:null,value:null},columns:["key","value","show_details"],tableItems:[],mutableItems:[]}},computed:u()({},Object(f.d)({dbUsed:function(e){return e.settings.database},namespaceUsed:function(e){return e.settings.namespace},isLoading:function(e){return e.metas.isLoading},metas:function(e){return e.metas.list},totalItems:function(e){return e.metas.totalItems}}),{keymap:function(){var e=this;return{"shift+right":function(){return e.onPageChange(e.params.page+1)},"shift+left":function(){return e.onPageChange(e.params.page-1)}}},pageSizeVariants:function(){return me},selectedDb:function(){return this.db||this.dbUsed},selectedNs:function(){return this.namespace||this.namespaceUsed},selectedFields:function(){return m.a.cloneDeep(this.columns)},allDataSpecified:function(){return this.selectedDb&&this.selectedNs}}),methods:u()({},Object(f.b)({selectDatabase:"settings/selectDatabase",selectNamespace:"settings/selectNamespace",getNamespaceOne:"namespaces/getNamespaceOne",getMetas:"metas/getMetas",setMeta:"metas/setMeta"}),{onPageChange:function(e){this.params.page=e,this.onQuery()},onPageSizeChange:function(e){this.params.pageSize=e,this.params.page=1,this.onQuery()},openNewMetaModal:function(){this.$modal.show("newMeta")},addMeta:function(){var e=this,t=m.a.pickBy(this.params),s={db:this.selectedDb,namespace:this.selectedNs,item:u()({},this.newMeta),params:u()({with_values:!0},t)};this.setMeta(s).then(function(){e.$modal.hide("newMeta"),e.newMeta={key:null,value:null}})},onQuery:function(){var e=this;if(this.allDataSpecified){this.params.db=this.selectedDb,this.params.namespace=this.selectedNs;var t=m.a.pickBy(this.params),s={db:this.selectedDb,namespace:this.selectedNs,params:u()({with_values:!0},t)},a=m.a.mapKeys(t,function(e,t){return m.a.snakeCase(t)});this.getMetas(s).then(function(){e.$router.push({path:e.$router.path,query:a})})}},onItemUpdateQuestion:function(e){var t=Y()(e,null,2);this.$cmodal.show({header:"Are you sure?",message:"This action will change the existed item:",strongMessage:t,event:"updateMeta",eventParams:e})}}),mounted:function(){var e=this;this.selectDatabase(this.selectedDb),this.selectNamespace(this.selectedNs),this.allDataSpecified&&this.getNamespaceOne({db:this.selectedDb,namespace:this.selectedNs}).then(function(){e.onQuery()})},watch:{selectedNs:function(){this.onQuery()},metas:function(){this.tableItems=m.a.cloneDeep(this.metas),this.mutableItems=m.a.cloneDeep(this.metas)}}},wt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:e.keymap,expression:"keymap"}],attrs:{slot:"page"},slot:"page"},[s("PageStatusNotifier",{attrs:{isLoadingProgress:e.isLoading,currentDatabaseName:e.selectedDb,currentNamespaceName:e.selectedNs}}),e._v(" "),s("h1",[e._v("Meta")]),e._v(" "),e.allDataSpecified?s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{attrs:{cols:"3"}},[s("b-btn",{staticClass:"mb-3 mt-3",attrs:{size:"md",variant:"success"},on:{click:e.openNewMetaModal}},[e._v("Create metakey")])],1),e._v(" "),s("b-col",{attrs:{cols:"9"}},[s("b-pagination",{staticClass:"float-right ml-2",attrs:{size:"sm","hide-ellipsis":"","hide-goto-end-buttons":"",limit:null,"total-rows":e.totalItems,"per-page":e.params.pageSize},on:{change:e.onPageChange},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}}),e._v(" "),s("b-dropdown",{staticClass:"float-right",attrs:{size:"sm",variant:"primary",text:String(e.params.pageSize)}},e._l(e.pageSizeVariants,function(t){return s("b-dropdown-item",{key:t,on:{click:function(s){e.onPageSizeChange(t)}}},[e._v(e._s(t)+"\n            ")])}))],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-table",{attrs:{striped:"",bordered:"",hover:"",fixed:"",small:"","no-local-sorting":"",items:e.tableItems,fields:e.columns},scopedSlots:e._u([{key:"show_details",fn:function(e){return[s("b-button",{staticClass:"mr-2",attrs:{variant:e.detailsShowing?"primary":"",size:"sm"},on:{click:function(t){return t.stopPropagation(),e.toggleDetails(t)}}},[s("octicon",{attrs:{name:"pencil"}})],1)]}},{key:"row-details",fn:function(t){return[s("b-card",[s("b-row",[s("b-col",[s("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"New value of metakey"},model:{value:e.mutableItems[t.index].value,callback:function(s){e.$set(e.mutableItems[t.index],"value",s)},expression:"mutableItems[row.index].value"}})],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"button",attrs:{variant:"success"},on:{click:function(s){e.onItemUpdateQuestion(e.mutableItems[t.index])}}},[e._v("Save changes")])],1)],1)],1)]}}])})],1)],1)],1):e._e(),e._v(" "),s("v-modal",{attrs:{name:"newMeta",adaptive:!0,minWidth:500,maxHeight:225}},[s("b-form",{on:{submit:function(t){return t.preventDefault(),e.addMeta(t)}}},[s("b-card",{attrs:{title:"Create metakey"}},[s("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"Enter key"},model:{value:e.newMeta.key,callback:function(t){e.$set(e.newMeta,"key",t)},expression:"newMeta.key"}}),e._v(" "),s("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"Enter value"},model:{value:e.newMeta.value,callback:function(t){e.$set(e.newMeta,"value",t)},expression:"newMeta.value"}}),e._v(" "),s("div",{staticClass:"text-right"},[s("b-button",{staticClass:"button",attrs:{type:"submit",variant:"success"}},[e._v("Create")])],1)],1)],1)],1)],1)])},staticRenderFns:[]},Tt=s("VU/8")(xt,wt,!1,null,null,null).exports,At={name:"ActivityPage",components:{DefaultLayout:z,DataTable:re},data:function(){return{columns:["query","client","query_start","query_id","state"],columnsNames:["Query","Client","Query start","Query Id","State"],sortField:"",sortOrder:"desc",webroutes:E,autoRefreshFlag:!1,autoRefreshTimer:null}},computed:u()({},Object(f.d)({database:function(e){return e.settings.database},error:function(e){return e.items.error}}),Object(f.c)({items:"items/itemsForActivityState"}),{selectedFields:function(){return m.a.cloneDeep(this.columns)},table_items:function(){var e=m.a.sortBy(this.items,[this.sortField]);return"desc"===this.sortOrder?e.reverse():e}}),methods:u()({},Object(f.b)({getItemsList:"items/getItemsList"}),{toggleAutoRefresh:function(){var e=this;this.$nextTick(function(){e.autoRefreshFlag?e.autoRefreshTimer=setInterval(e.init,5e3):clearInterval(e.autoRefreshTimer)})},onSortChange:function(e){var t=e.sortField,s=e.sortOrder;this.sortField=t,this.sortOrder=s},init:function(){if(this.database){var e={db:this.database,namespace:"#activitystats"};this.getItemsList(e)}}}),mounted:function(){this.init(),this.$watchAll(["database"],this.init)}},It={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("default-layout",[s("div",{attrs:{slot:"page"},slot:"page"},[s("h1",[e._v("Activity statistics")]),e._v(" "),e.error?[s("h5",[e._v('Make sure that "activity" enabled in '),s("b-link",{attrs:{to:e.webroutes.config}},[e._v("Profiling")])],1)]:e._e(),e._v(" "),e.items?e._e():[s("div",[e._v("Not found")])],e._v(" "),s("b-row",[s("b-col",{attrs:{offset:"6",cols:"6"}},[s("div",{staticClass:"form-check text-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRefreshFlag,expression:"autoRefreshFlag"}],staticClass:"form-check-input mr-3 mt-2",attrs:{id:"autoRefreshSelects",type:"checkbox"},domProps:{checked:Array.isArray(e.autoRefreshFlag)?e._i(e.autoRefreshFlag,null)>-1:e.autoRefreshFlag},on:{click:e.toggleAutoRefresh,change:function(t){var s=e.autoRefreshFlag,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.autoRefreshFlag=s.concat([null])):i>-1&&(e.autoRefreshFlag=s.slice(0,i).concat(s.slice(i+1)))}else e.autoRefreshFlag=n}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"autoRefreshSelects"}},[e._v("Auto refresh")]),e._v(" "),s("b-button",{staticClass:"button ml-3",attrs:{variant:"primary"},on:{click:e.init}},[e._v("Refresh")])],1)])],1),e._v(" "),s("data-table",{staticClass:"mt-1 queries_table",attrs:{items:e.table_items,columns:e.columns,columnNames:e.columnsNames,selectedFields:e.selectedFields,sortableFields:e.columns,onSortChange:e.onSortChange}})],2)])},staticRenderFns:[]};var kt=s("VU/8")(At,It,!1,function(e){s("Z5Xi")},null,null).exports,Nt=s("qJdz"),Ft=s.n(Nt),Lt={db:function(e){return m.a.isEmpty(e.db)?pe.db:decodeURIComponent(e.db)},namespace:function(e){return m.a.isEmpty(e.namespace)?pe.namespace:decodeURIComponent(e.namespace)},index:function(e){return parseInt(decodeURIComponent(e.index),10)},indexes:function(e){return"true"===decodeURIComponent(e.indexes)},cache:function(e){return"true"===decodeURIComponent(e.cache)},filter:function(e){return m.a.isEmpty(e.filter)?pe.filter:decodeURIComponent(e.filter)},q:function(e){return m.a.isEmpty(e.q)?pe.q:decodeURIComponent(e.q)},viewType:function(e){return m.a.isEmpty(e.viewType)?pe.viewType:decodeURIComponent(e.viewType)},page:function(e){return parseInt(e.page,10)||pe.page},pageSize:function(e){return parseInt(e.pageSize,10)||pe.pageSize},pageSizeForMemoryStat:function(e){return parseInt(e.pageSize,10)||0},sortOrder:function(e){return parseInt(e.sortOrder,10)||pe.sortOrder},sortField:function(e){return parseInt(e.sortField,10)||pe.sortField},makeForItemsPage:function(e){var t=Ft.a.camelizeKeys(e);return{db:this.db(t),namespace:this.namespace(t),page:this.page(t),pageSize:this.pageSize(t),sortField:this.sortField(t),sortOrder:this.sortOrder(t),viewType:this.viewType(t),filter:this.filter(t)}},makeForQueriesPage:function(e){var t=Ft.a.camelizeKeys(e);return{db:this.db(t),page:this.page(t),pageSize:this.pageSize(t),viewType:this.viewType(t),q:this.q(t)}},makeForSystemPage:function(e){var t=Ft.a.camelizeKeys(e);return{namespace:this.namespace(t),index:this.index(t),indexes:this.indexes(t),cache:this.cache(t),page:this.page(t),pageSize:this.pageSizeForMemoryStat(t)}}};a.default.use(r.a);var Dt,zt=new r.a({mode:"history",base:"/face",routes:[{path:"*",name:"NotFoundPage",component:c},{path:E.root,name:"MainPage",component:q},{path:E.indexes,name:"IndexesPage",component:le},{path:E.items,name:"ItemsPage",component:_e,props:function(e){return Lt.makeForItemsPage(e.query)}},{path:E.queries,name:"QueriesPage",component:Xe,props:function(e){return Lt.makeForQueriesPage(e.query)}},{path:E.memory_stats,name:"MemoryStatsPage",component:et,props:function(e){return Lt.makeForSystemPage(e.query)}},{path:E.config,name:"ConfigPage",component:dt},{path:E.perfstats,name:"PerfstatsPage",component:yt},{path:E.queriesperfstats,name:"QueriesPerfstatsPage",component:Ct},{path:E.meta,name:"MetaPage",component:Tt},{path:E.activity_stat,name:"ActivityPage",component:kt}]}),Mt=(s("sax8"),s("lHA8")),jt=s.n(Mt),Pt=function(e){return m.a.get(e,"items",[])},Rt=function(e){return m.a.get(e,"meta",[])},Bt=function(e){return m.a.get(e,"explain",null)},Ot=function(e){return m.a.get(e,"aggregations",[])},Ut=function(e){return m.a.get(e,"total_items",0)},qt=function(e){return m.a.get(e,"cache_enabled",!1)},$t=function(e){return m.a.get(e,"namespaces",[])},Qt=function(e){return m.a.get(e,"query_total_items",0)},Xt=function(e){if(m.a.isEmpty(e))return[];var t=e.reduce(function(e,t){var s=m.a.keys(t);return[].concat(Se()(e),Se()(s))},m.a.keys(e[0]));return[].concat(Se()(new jt.a(t)))},Gt=function(e){return m.a.get(e,"response.data.description","")||m.a.get(e,"response","")||"Error is occurred"},Ht=function(e){return m.a.get(e,"indexes",[])},Vt=function(e){return m.a.get(e,"suggests",[])},Yt=Ce()({SET_DATABASE:null,SET_NAMESPACE:null,SIDEBAR_TOGGLE:null,TABLE_SET_NAMESPACES_COLUMNS:null,SETTINGS_DATABASE_RESET:null,SETTINGS_NAMESPACE_RESET:null,LOAD_QUERIES_FROM_HISTORY:null,PUSH_QUERY_TO_HISTORY:null}),Jt=u()({},Yt),Wt=15;var Kt={namespaced:!0,actions:{resetSelectedNamespace:function(e){(0,e.commit)(Jt.SETTINGS_NAMESPACE_RESET)},selectDatabase:function(e,t){var s={name:t};(0,e.commit)(Jt.SET_DATABASE,s)},selectNamespace:function(e,t){var s={name:t};(0,e.commit)(Jt.SET_NAMESPACE,s)},sidebarToggle:function(e){(0,e.commit)(Jt.SIDEBAR_TOGGLE)},throwError:function(e,t){return(0,e.dispatch)(g.ADD_TOAST_MESSAGE,{text:Gt(t),type:"danger"},{root:!0})},showSuccessMessage:function(e,t){return(0,e.dispatch)(g.ADD_TOAST_MESSAGE,{text:t,type:"success"},{root:!0})},setSelectedFieldsForNamespace:function(e,t){(0,e.commit)(Jt.TABLE_SET_NAMESPACES_COLUMNS,t)},loadQueriesFromHistory:function(e,t){(0,e.commit)(Jt.LOAD_QUERIES_FROM_HISTORY,t)},pushQueryToHistory:function(e,t){(0,e.commit)(Jt.PUSH_QUERY_TO_HISTORY,t)}},getters:{databaseWithDefault:function(e){return e.database||pe.db}},mutations:(Dt={},de()(Dt,Jt.SETTINGS_DATABASE_RESET,function(e){e.database=""}),de()(Dt,Jt.SETTINGS_NAMESPACE_RESET,function(e){e.namespace="",e.namespacesSelectedFields={}}),de()(Dt,Jt.SET_DATABASE,function(e,t){var s=t.name;e.database=s}),de()(Dt,Jt.SET_NAMESPACE,function(e,t){var s=t.name;e.namespace=s}),de()(Dt,Jt.SIDEBAR_TOGGLE,function(e){e.isSidebarOpened=!e.isSidebarOpened}),de()(Dt,Jt.TABLE_SET_NAMESPACES_COLUMNS,function(e,t){var s=t.db,a=t.namespace,n=t.fields;m.a.isEmpty(e.namespacesSelectedFields[s])&&(e.namespacesSelectedFields[s]={}),e.namespacesSelectedFields[s][a]=n}),de()(Dt,Jt.LOAD_QUERIES_FROM_HISTORY,function(e){e.queryHistory=function(){var e=localStorage.getItem("reindexerQueryHistory"),t=JSON.parse(e);if(!m.a.isArray(t))return[];var s=[].concat(Se()(m.a.slice(t,0,Wt)));return m.a.without(s,null,void 0)}()}),de()(Dt,Jt.PUSH_QUERY_TO_HISTORY,function(e,t){var s=t.query,a=e.queryHistory,n=void 0;n=m.a.size(a)?m.a.size(a)<Wt?[s].concat(Se()(a)):[s].concat(Se()(m.a.slice(a,0,Wt-1))):[s];var i=m.a.uniq(n),r=m.a.without(i,null,void 0);!function(e){var t=Y()(e);localStorage.setItem("reindexerQueryHistory",t)}(r),e.queryHistory=r}),Dt),state:{database:"",namespace:"",namespacesSelectedFields:{},isSidebarOpened:!0,queryHistory:[]}},Zt=s("//Fk"),es=s.n(Zt),ts=s("Zrlr"),ss=s.n(ts),as=s("wxAW"),ns=s.n(as),is=s("mtWM"),rs=s.n(is),os=s("OAwv"),cs=s.n(os),ls=s("mTx5"),us=s.n(ls),ds=new(function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ss()(this,e),this.isCancel=is.isCancel,this.baseurl=t,this.metadata={headers:s},this.sources={}}return ns()(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.sources[e];if(s){a&&a.cancel();var n=is.CancelToken.source();this.sources[e]=n,this.metadata=u()({},this.metadata,{cancelToken:n.token})}if(m.a.isEmpty(t))return rs.a.get(us()(this.baseurl,e),this.metadata);var i=Ft.a.decamelizeKeys(t),r="?"+cs.a.stringify(i);return rs.a.get(us()(this.baseurl,e,r),this.metadata)}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rs.a.post(us()(this.baseurl,e),t,{headers:{"Content-Type":"application/json"}})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rs.a.put(us()(this.baseurl,e),t,{headers:{"Content-Type":"application/json"}})}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rs.a.delete(us()(this.baseurl,e),{data:t})}}]),e}())("/api/v1");function ms(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;e.includes(":"+t);)e=e.replace(":"+t,encodeURIComponent(arguments.length<=t+1?void 0:arguments[t+1])||null),t+=1;return e}var ps=u()({},{status:"/check",databases:"/db",database:"/db/:0",namespaces:"/db/:0/namespaces",namespace:"/db/:0/namespaces/:1",items:"/db/:0/namespaces/:1/items",indexes:"/db/:0/namespaces/:1/indexes",index:"/db/:0/namespaces/:1/indexes/:2",query:"/db/:0/query",suggest:"/db/:0/suggest",metas:"/db/:0/namespaces/:1/metalist",metakey:"db/:0/namespaces/:1/metabykey",activity:"/activity"});function hs(e){var t=Ft.a.decamelize(e).toUpperCase();return{REQUEST:t+"_REQUEST",SUCCESS:t+"_SUCCESS",FAIL:t+"_FAIL"}}var fs,gs,vs,bs,_s,ys,Ss=Ce()({MODIFY_SERVICE_STATE_AS_KEY_VALUE:null}),Es={STATUS_GET:hs("getStatus")},Cs=u()({},Es,Ss),xs={namespaced:!0,actions:{modifyStateAsKV:function(e,t){(0,e.commit)(Cs.MODIFY_SERVICE_STATE_AS_KEY_VALUE,t)},getStatus:function(e,t){var s=e.commit;return new es.a(function(e,a){ds.get(ps.status,t).then(function(t){var a={status:t.data};s(Cs.STATUS_GET.SUCCESS,a),e()},function(e){s(Cs.STATUS_GET.FAIL,e),a()}).catch(function(e){s(Cs.STATUS_GET.FAIL,e),a()})})}},getters:{},mutations:(fs={},de()(fs,Cs.MODIFY_SERVICE_STATE_AS_KEY_VALUE,function(e,t){for(var s=He()(t)||[],a=0;a<=m.a.size(s);a+=1)e[s[a]]=t[s[a]]}),de()(fs,Cs.STATUS_GET.REQUEST,function(e){e.status={}}),de()(fs,Cs.STATUS_GET.SUCCESS,function(e,t){var s=t.status;e.status=s}),de()(fs,Cs.STATUS_GET.FAIL,function(e){e.status={}}),fs),state:{status:{},startTime:0,uptime:0,version:""}},ws={DB_GET_LIST:hs("getDbList"),DB_DELETE:hs("deleteDb"),DB_CREATE:hs("createDb")},Ts=u()({},ws),As={namespaced:!0,actions:{getDbList:function(e,t){var s=e.commit,a=e.dispatch,n=u()({},t,{sortOrder:"asc"});return new es.a(function(e,t){ds.get(ps.databases,n).then(function(t){var a=t.data,n={list:Pt(a)};s(Ts.DB_GET_LIST.SUCCESS,n),e()},function(e){s(Ts.DB_GET_LIST.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ts.DB_GET_LIST.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},createDb:function(e,t){var s=e.commit,a=e.dispatch;s(Ts.DB_CREATE.REQUEST);var n={name:t};return new es.a(function(e,t){ds.create(ps.databases,n).then(function(){s(Ts.DB_CREATE.SUCCESS),a("settings/showSuccessMessage","Database is created",{root:!0}),a("getDbList").then(function(){return e()})},function(e){s(Ts.DB_CREATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ts.DB_CREATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},deleteDb:function(e,t){var s=e.commit,a=e.dispatch;return s(Ts.DB_DELETE.REQUEST),new es.a(function(e,n){ds.delete(ms(ps.database,t)).then(function(){s(Ts.DB_DELETE.SUCCESS),a("settings/showSuccessMessage","Database is deleted",{root:!0}),a("getDbList").then(function(){return e()})},function(e){s(Ts.DB_DELETE.FAIL,e),a("settings/throwError",e,{root:!0}),n()}).catch(function(e){s(Ts.DB_DELETE.FAIL,e),a("settings/throwError",e,{root:!0}),n()})})}},getters:{},mutations:(gs={},de()(gs,Ts.DB_GET_LIST.REQUEST,function(e){e.isLoading=!0}),de()(gs,Ts.DB_GET_LIST.FAIL,function(e){e.isLoading=!1}),de()(gs,Ts.DB_GET_LIST.SUCCESS,function(e,t){e.list=t.list,e.isLoading=!1}),de()(gs,Ts.DB_DELETE.REQUEST,function(e){e.isLoading=!0}),de()(gs,Ts.DB_DELETE.FAIL,function(e){e.isLoading=!1}),de()(gs,Ts.DB_DELETE.SUCCESS,function(e){e.isLoading=!1}),de()(gs,Ts.DB_CREATE.REQUEST,function(e){e.isLoading=!0}),de()(gs,Ts.DB_CREATE.FAIL,function(e){e.isLoading=!1}),de()(gs,Ts.DB_CREATE.SUCCESS,function(e){e.isLoading=!1}),gs),state:{list:[],one:[],isLoading:!1}},Is={NAMESPACES_GET_LIST:hs("getNamespacesList"),NAMESPACES_GET_ONE:hs("getNamespace"),NAMESPACE_DELETE:hs("deleteNamespace"),NAMESPACE_CREATE:hs("createNamespace"),NAMESPACE_INDEX_DELETE:hs("deleteIndex"),NAMESPACE_INDEX_CREATE:hs("createIndex"),NAMESPACE_INDEX_UPDATE:hs("updateIndex"),GET_INDEXES_FROM_NAMESPACE:hs("getIndexesFromNamespace")},ks=Ce()({NAMESPACES_PARAMS_SET:null,NAMESPACES_RESET:null}),Ns=u()({},Is,ks),Fs={namespaced:!0,actions:{reset:function(e){(0,e.commit)(Ns.NAMESPACES_RESET)},getNamespacesList:function(e,t){var s=e.commit,a=e.dispatch,n={sortOrder:"asc"};return s(Ns.NAMESPACES_GET_LIST.REQUEST),new es.a(function(e,i){ds.get(ms(ps.namespaces,t),n).then(function(t){var a=t.data,n={list:Pt(a)};s(Ns.NAMESPACES_GET_LIST.SUCCESS,n),e()},function(e){s(Ns.NAMESPACES_GET_LIST.FAIL,e),a("settings/throwError",e,{root:!0}),i()}).catch(function(e){s(Ns.NAMESPACES_GET_LIST.FAIL,e),a("settings/throwError",e,{root:!0}),i()})})},getNamespaceOne:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace;return s(Ns.NAMESPACES_GET_ONE.REQUEST),new es.a(function(e,t){ds.get(ms(ps.namespace,n,i)).then(function(t){var a=t.data;s(Ns.NAMESPACES_GET_ONE.SUCCESS,{one:a}),e()},function(e){s(Ns.NAMESPACES_GET_ONE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ns.NAMESPACES_GET_ONE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},setNamespacesParams:function(e){var t={params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};(0,e.commit)(Ns.NAMESPACES_PARAMS_SET,t)},createNamespace:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.json;return s(Ns.NAMESPACE_CREATE.REQUEST),new es.a(function(e,t){ds.create(ms(ps.namespaces,n),i).then(function(){s(Ns.NAMESPACE_CREATE.SUCCESS),a("settings/showSuccessMessage","Namespace is created",{root:!0}),a("getNamespacesList",n).then(function(){return e()})},function(e){s(Ns.NAMESPACE_CREATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ns.NAMESPACE_CREATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},deleteNamespace:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace;return s(Ns.NAMESPACE_DELETE.REQUEST),new es.a(function(e,t){ds.delete(ms(ps.namespace,n,i)).then(function(){s(Ns.NAMESPACE_DELETE.SUCCESS),a("settings/showSuccessMessage","Namespace is deleted",{root:!0}),a("getNamespacesList",n).then(function(){return e()})},function(e){s(Ns.NAMESPACE_DELETE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ns.NAMESPACE_DELETE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},deleteIndex:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace,r=t.index;return s(Ns.NAMESPACE_INDEX_DELETE.REQUEST),new es.a(function(e,t){ds.delete(ms(ps.index,n,i,r)).then(function(){s(Ns.NAMESPACE_INDEX_DELETE.SUCCESS),a("settings/showSuccessMessage","Index '"+r+"' is deleted from namespace '"+i+"'",{root:!0}),a("getNamespaceOne",{db:n,namespace:i}).then(function(){return e()})},function(e){s(Ns.NAMESPACE_INDEX_DELETE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ns.NAMESPACE_INDEX_DELETE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},createIndex:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace,r=t.index;s(Ns.NAMESPACE_INDEX_CREATE.REQUEST);var o=m.a.mapKeys(r,function(e,t){return m.a.snakeCase(t)});return new es.a(function(e,t){ds.create(ms(ps.indexes,n,i),o).then(function(){s(Ns.NAMESPACE_INDEX_CREATE.SUCCESS),a("settings/showSuccessMessage","Index '"+r.name+"' is added to namespace '"+i+"'",{root:!0}),a("getNamespaceOne",{db:n,namespace:i}).then(function(){return e()})},function(e){s(Ns.NAMESPACE_INDEX_CREATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ns.NAMESPACE_INDEX_CREATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},updateIndex:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace,r=t.index;s(Ns.NAMESPACE_INDEX_UPDATE.REQUEST);var o=m.a.mapKeys(r,function(e,t){return m.a.snakeCase(t)});return new es.a(function(e,t){ds.update(ms(ps.indexes,n,i),o).then(function(){s(Ns.NAMESPACE_INDEX_UPDATE.SUCCESS),a("settings/showSuccessMessage","Index '"+r.name+"' is added to namespace '"+i+"'",{root:!0}),a("getNamespaceOne",{db:n,namespace:i}).then(function(){return e()})},function(e){s(Ns.NAMESPACE_INDEX_UPDATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ns.NAMESPACE_INDEX_UPDATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},getIndexesFromNamespace:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace;return s(Ns.GET_INDEXES_FROM_NAMESPACE.REQUEST),new es.a(function(e,t){ds.get(ms(ps.namespaces,n)+"/"+i).then(function(t){var a=m.a.get(t,"data",{}),n={indexes:Ht(a)};s(Ns.GET_INDEXES_FROM_NAMESPACE.SUCCESS,n),e()},function(e){s(Ns.GET_INDEXES_FROM_NAMESPACE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ns.GET_INDEXES_FROM_NAMESPACE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})}},getters:{names:function(e){return m.a.map(e.list,function(e){return e.name})},namesWithoutHash:function(e){return m.a.map(e.list,function(e){return e.name}).filter(function(e){return"#"!==e[0]})},icons:function(e){return m.a.map(e.list,function(e){return e.storage_enabled?"database":"flame"})},indexes:function(e){return m.a.get(e,"one.indexes",[])},pk:function(e,t){return m.a.filter(t.indexes,{is_pk:!0})},notArrayIndexes:function(e,t){return m.a.filter(t.indexes,{is_array:!1})},sortableFields:function(e,t){return t.notArrayIndexes.map(function(e){return e.name})},indexesNames:function(e,t){return t.indexes.map(function(e){return e.name})},indexFields:function(e,t){return Xt(t.indexes)},itemTemplate:function(e,t){var s=t.indexes.reduce(function(e,t,s){var a=t.json_paths,n=t.field_type;if("composite"===n)return e;var i=void 0;switch(n){case"string":i='""';break;case"bool":i=!0;break;case"double":i=.1;break;case"int":case"int64":i=0;break;default:i=null}var r="";return a.forEach(function(e,t){var s=e.split(".");r+='"'+s.shift()+'": ',s.forEach(function(e){r+='{\n"'+e+'": '}),r+=i,s.forEach(function(){r+="\n}"}),a.length-1!==t&&(r+=",\n")}),s>0?e+",\n"+r:"\n"+r},"");return Y()(JSON.parse("{"+s+"}"),null,2)}},mutations:(vs={},de()(vs,Ns.NAMESPACES_RESET,function(e){e.list=[],e.one=[],e.params={},e.isLoading=!1}),de()(vs,Ns.NAMESPACES_GET_LIST.REQUEST,function(e){e.isLoading=!0}),de()(vs,Ns.NAMESPACES_GET_LIST.FAIL,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACES_GET_LIST.SUCCESS,function(e,t){e.list=t.list,e.isLoading=!1}),de()(vs,Ns.NAMESPACES_GET_ONE.REQUEST,function(e){e.isLoading=!0}),de()(vs,Ns.NAMESPACES_GET_ONE.FAIL,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACES_GET_ONE.SUCCESS,function(e,t){e.one=t.one;var s=t.one.indexes.map(function(e){return u()({},e,{config:Y()(e.config)})});e.one.indexes=s,e.isLoading=!1}),de()(vs,Ns.NAMESPACES_PARAMS_SET,function(e,t){var s=t.params;e.params=s}),de()(vs,Ns.NAMESPACE_DELETE.REQUEST,function(e){e.isLoading=!0}),de()(vs,Ns.NAMESPACE_DELETE.FAIL,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACE_DELETE.SUCCESS,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACE_CREATE.REQUEST,function(e){e.isLoading=!0}),de()(vs,Ns.NAMESPACE_CREATE.FAIL,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACE_CREATE.SUCCESS,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACE_INDEX_DELETE.REQUEST,function(e){e.isLoading=!0}),de()(vs,Ns.NAMESPACE_INDEX_DELETE.FAIL,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACE_INDEX_DELETE.SUCCESS,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACE_INDEX_CREATE.REQUEST,function(e){e.isLoading=!0}),de()(vs,Ns.NAMESPACE_INDEX_CREATE.FAIL,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACE_INDEX_CREATE.SUCCESS,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACE_INDEX_UPDATE.REQUEST,function(e){e.isLoading=!0}),de()(vs,Ns.NAMESPACE_INDEX_UPDATE.FAIL,function(e){e.isLoading=!1}),de()(vs,Ns.NAMESPACE_INDEX_UPDATE.SUCCESS,function(e){e.isLoading=!1}),de()(vs,Ns.GET_INDEXES_FROM_NAMESPACE.REQUEST,function(e){e.indexes=[]}),de()(vs,Ns.GET_INDEXES_FROM_NAMESPACE.FAIL,function(e){e.indexes=[]}),de()(vs,Ns.GET_INDEXES_FROM_NAMESPACE.SUCCESS,function(e,t){var s=t.indexes;e.indexes=s}),vs),state:{list:[],one:[],isLoading:!1,indexes:[]}},Ls={limit:function(e){return e.pageSize||pe.limit},offset:function(e){return(e.page-1)*e.pageSize||pe.offset},sortOrder:function(e){var t=e.sortOrder;return t||pe.sortOrder},sortField:function(e){var t=e.sortField;return t||pe.sortField},filter:function(e){var t=e.filter;return t||pe.filter},q:function(e){var t=e.q;return t||pe.q},transform:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return He()(t).reduce(function(s,a){var n=u()({},s);return"pageSize"===a?n.limit=e.limit(t):"page"===a?n.offset=e.offset(t):"sortField"===a?n.sortField=e.sortField(t):"sortOrder"===a?n.sortOrder=e.sortOrder(t):"filter"===a?n.filter=e.filter(t):"q"===a?n.q=e.q(t):n[a]=t[a],n},{})}},Ds={ITEMS_GET_LIST:hs("getItemsList"),ITEMS_GET_LIST_BY_QUERY:hs("getItemsListByQuery"),ITEMS_GET_LIST_BY_POST:hs("getItemsListByPost"),ITEMS_DELETE:hs("deleteItem"),ITEMS_UPDATE:hs("updateItem"),ITEMS_CREATE:hs("createItem"),CLEAR_NAMESPACE:hs("clearNamespace")},zs=Ce()({ITEMS_RESET:null,ITEMS_LOCAL_UPDATE:null}),Ms=u()({},Ds,zs),js={namespaced:!0,actions:{reset:function(e){(0,e.commit)(Ms.ITEMS_RESET)},getItemsList:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace,r=t.params;return s(Ms.ITEMS_GET_LIST.REQUEST),new es.a(function(e,t){ds.get(ms(ps.items,n,i),Ls.transform(r)).then(function(t){var a=m.a.get(t,"data",{}),n={list:Pt(a),total:Ut(a)};s(Ms.ITEMS_GET_LIST.SUCCESS,n),e()},function(e){s(Ms.ITEMS_GET_LIST.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ms.ITEMS_GET_LIST.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},getItemsListByQuery:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.params;return s(Ms.ITEMS_GET_LIST_BY_QUERY.REQUEST),new es.a(function(e,t){ds.get(ms(ps.query,n),Ls.transform(i)).then(function(t){var a=m.a.get(t,"data",{}),n={cacheEnabled:qt(a),namespaces:$t(a),list:Pt(a),explain:Bt(a),aggregations:Ot(a),total:Ut(a),queryTotal:Qt(a)};s(Ms.ITEMS_GET_LIST_BY_QUERY.SUCCESS,n),e()},function(e){s(Ms.ITEMS_GET_LIST_BY_QUERY.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ms.ITEMS_GET_LIST_BY_QUERY.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},getItemsListByPost:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.params;return s(Ms.ITEMS_GET_LIST_BY_POST.REQUEST),new es.a(function(e,t){ds.create(ms(ps.query,n),i).then(function(t){var a=m.a.get(t,"data",{}),n={cacheEnabled:qt(a),namespaces:$t(a),list:Pt(a),explain:Bt(a),aggregations:Ot(a),total:Ut(a),queryTotal:Qt(a)};s(Ms.ITEMS_GET_LIST_BY_POST.SUCCESS,n),e()},function(e){s(Ms.ITEMS_GET_LIST_BY_POST.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ms.ITEMS_GET_LIST_BY_POST.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},deleteItem:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace,r=t.item;return s(Ms.ITEMS_DELETE.REQUEST),new es.a(function(e,t){ds.delete(ms(ps.items,n,i),r).then(function(){s(Ms.ITEMS_DELETE.SUCCESS),a("settings/showSuccessMessage","Item is deleted",{root:!0}),a("getItemsList",{db:n,namespace:i}).then(function(){return e()})},function(e){s(Ms.ITEMS_DELETE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ms.ITEMS_DELETE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},clearNamespace:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace;return s(Ms.CLEAR_NAMESPACE.REQUEST),new es.a(function(e,t){ds.delete(ms(ps.query,n,i),{namespace:i}).then(function(){s(Ms.CLEAR_NAMESPACE.SUCCESS),a("settings/showSuccessMessage","Namespace is cleared",{root:!0}),a("getItemsList",{db:n,namespace:i}).then(function(){return e()})},function(e){s(Ms.CLEAR_NAMESPACE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ms.ITEMS_DELETE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},updateItem:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace,r=t.item;return s(Ms.ITEMS_UPDATE.REQUEST),new es.a(function(e,t){ds.update(ms(ps.items,n,i),r).then(function(){s(Ms.ITEMS_UPDATE.SUCCESS),a("settings/showSuccessMessage","Item is updated",{root:!0}),a("getItemsList",{db:n,namespace:i}).then(function(){return e()})},function(e){s(Ms.ITEMS_UPDATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ms.ITEMS_UPDATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},createItem:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace,r=t.item,o=t.isReset,c=void 0!==o&&o;s(Ms.ITEMS_CREATE.REQUEST);var l=JSON.parse(r),u=l.precepts;m.a.unset(l,"precepts");var d=ms(ps.items,n,i,u);return m.a.isEmpty(u)||(d+="?",u.split("\n").forEach(function(e){d+="precepts="+encodeURIComponent(e.trim())+"&"})),new es.a(function(e,t){ds.create(d,Y()(l,null,2)).then(function(t){var r=m.a.get(t,"data.updated");c||m.a.isUndefined(r)||0!==r?(s(Ms.ITEMS_CREATE.SUCCESS),a("settings/showSuccessMessage","Item is created",{root:!0}),a("getItemsList",{db:n,namespace:i}).then(function(){return e()})):(s(Ms.ITEMS_CREATE.SUCCESS),a("settings/throwError",{response:"Can't add item: Not uniq PK"},{root:!0}),a("getItemsList",{db:n,namespace:i}).then(function(){return e()}))},function(e){s(Ms.ITEMS_CREATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Ms.ITEMS_CREATE.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},localUpdateItem:function(e,t){(0,e.commit)(Ms.ITEMS_LOCAL_UPDATE,t)}},getters:{fields:function(e){var t=m.a.get(e,"list",[]);return Xt(t)},qFields:function(e){var t=m.a.get(e,"qList",[]);return Xt(t)},itemsSize:function(e){var t=m.a.get(e,"list",[]);return m.a.size(t)},qItemsSize:function(e){var t=m.a.get(e,"qList",[]);return m.a.size(t)},itemsJson:function(e){var t=m.a.get(e,"list",[]);return Y()(t)},qItemsJson:function(e){var t=m.a.get(e,"qList",[]);return Y()(t)},itemsForActivityState:function(e){return e.list.map(function(e){return u()({},e,{client:e.client+"\n"+e.user})})}},mutations:(bs={},de()(bs,Ms.ITEMS_RESET,function(e){e.list=[],e.qList=[],e.qTotal=0,e.total=0,e.isLoading=!1}),de()(bs,Ms.ITEMS_GET_LIST.REQUEST,function(e){e.isLoading=!0}),de()(bs,Ms.ITEMS_GET_LIST.FAIL,function(e,t){e.isLoading=!1,e.error=u()({},t)}),de()(bs,Ms.ITEMS_GET_LIST.SUCCESS,function(e,t){var s=t.list,a=t.total;e.list=s,e.total=a,e.isLoading=!1,e.error=null}),de()(bs,Ms.ITEMS_GET_LIST_BY_QUERY.REQUEST,function(e){e.error=null,e.isLoading=!0}),de()(bs,Ms.ITEMS_GET_LIST_BY_QUERY.FAIL,function(e,t){e.error=t,e.isLoading=!1}),de()(bs,Ms.ITEMS_GET_LIST_BY_QUERY.SUCCESS,function(e,t){var s=t.list,a=t.explain,n=t.aggregations,i=t.total,r=t.queryTotal,o=t.namespaces,c=t.cacheEnabled;e.qList=s,e.explain=a,e.qTotal=i,e.isLoading=!1,e.queryTotal=r,e.aggregations=n,e.namespaces=o,e.cacheEnabled=c,e.error=null}),de()(bs,Ms.ITEMS_GET_LIST_BY_POST.REQUEST,function(e){e.isLoading=!0}),de()(bs,Ms.ITEMS_GET_LIST_BY_POST.FAIL,function(e){e.isLoading=!1}),de()(bs,Ms.ITEMS_GET_LIST_BY_POST.SUCCESS,function(e,t){var s=t.list,a=t.explain,n=t.aggregations,i=t.total,r=t.queryTotal,o=t.namespaces,c=t.cacheEnabled;e.qList=s,e.explain=a,e.qTotal=i,e.isLoading=!1,e.queryTotal=r,e.aggregations=n,e.namespaces=o,e.cacheEnabled=c}),de()(bs,Ms.ITEMS_DELETE.REQUEST,function(e){e.isLoading=!0}),de()(bs,Ms.ITEMS_DELETE.FAIL,function(e){e.isLoading=!1}),de()(bs,Ms.ITEMS_DELETE.SUCCESS,function(e){e.isLoading=!1}),de()(bs,Ms.CLEAR_NAMESPACE.REQUEST,function(e){e.isLoading=!0}),de()(bs,Ms.CLEAR_NAMESPACE.FAIL,function(e){e.isLoading=!1}),de()(bs,Ms.CLEAR_NAMESPACE.SUCCESS,function(e){e.isLoading=!1}),de()(bs,Ms.ITEMS_UPDATE.REQUEST,function(e){e.isLoading=!0}),de()(bs,Ms.ITEMS_UPDATE.FAIL,function(e){e.isLoading=!1}),de()(bs,Ms.ITEMS_UPDATE.SUCCESS,function(e){e.isLoading=!1}),de()(bs,Ms.ITEMS_CREATE.REQUEST,function(e){e.isLoading=!0}),de()(bs,Ms.ITEMS_CREATE.FAIL,function(e){e.isLoading=!1}),de()(bs,Ms.ITEMS_CREATE.SUCCESS,function(e){e.isLoading=!1}),de()(bs,Ms.ITEMS_LOCAL_UPDATE,function(e,t){var s=t.item,a=t.inx,n=e.list;n[a]=s,e.list=[].concat(Se()(n))}),bs),state:{list:[],explain:null,aggregations:[],total:0,qList:[],qTotal:0,queryTotal:0,isLoading:!1,namespaces:[],cacheEnabled:!1,error:null}},Ps={GET_SUGGEST:hs("getSuggest")},Rs=Ce()({CLEAR_SUGGEST:null}),Bs=u()({},Ps,Rs),Os={namespaced:!0,actions:{getSuggest:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.params;return s(Bs.GET_SUGGEST.REQUEST),new es.a(function(e,t){ds.get(ms(ps.suggest,n),Ls.transform(i)).then(function(t){var a=m.a.get(t,"data",{}),n={suggests:Vt(a)};s(Bs.GET_SUGGEST.SUCCESS,n),e()},function(e){s(Bs.GET_SUGGEST.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(Bs.GET_SUGGEST.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},clearSuggest:function(e){(0,e.commit)(Bs.CLEAR_SUGGEST)}},mutations:(_s={},de()(_s,Bs.GET_SUGGEST.REQUEST,function(e){e.isLoading=!0}),de()(_s,Bs.GET_SUGGEST.FAIL,function(e){e.isLoading=!1}),de()(_s,Bs.GET_SUGGEST.SUCCESS,function(e,t){var s=t.suggests;e.suggests=s}),de()(_s,Bs.CLEAR_SUGGEST,function(e){e.suggests=[]}),_s),state:{suggests:[],isLoading:!1}},Us={GET_METAS:hs("getMetaList"),SET_META:hs("setMeta")},qs=u()({},Us),$s={namespaced:!0,actions:{getMetas:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace,r=t.params;return s(qs.GET_METAS.REQUEST),new es.a(function(e,t){ds.get(ms(ps.metas,n,i),Ls.transform(r)).then(function(t){var a=m.a.get(t,"data",{}),n={list:Rt(a),totalItems:Ut(a)};s(qs.GET_METAS.SUCCESS,n),e()},function(e){s(qs.GET_METAS.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(qs.GET_METAS.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})},setMeta:function(e,t){var s=e.commit,a=e.dispatch,n=t.db,i=t.namespace,r=t.item,o=t.params;return s(qs.SET_META.REQUEST),new es.a(function(e,t){ds.update(ms(ps.metakey,n,i),r).then(function(){s(qs.SET_META.SUCCESS),a("settings/showSuccessMessage","Metakey is updated",{root:!0}),a("getMetas",{db:n,namespace:i,params:o}).then(function(){return e()})},function(e){s(qs.SET_META.FAIL,e),a("settings/throwError",e,{root:!0}),t()}).catch(function(e){s(qs.SET_META.FAIL,e),a("settings/throwError",e,{root:!0}),t()})})}},mutations:(ys={},de()(ys,qs.GET_METAS.REQUEST,function(e){e.isLoading=!0}),de()(ys,qs.GET_METAS.FAIL,function(e){e.isLoading=!1}),de()(ys,qs.GET_METAS.SUCCESS,function(e,t){var s=t.list,a=t.totalItems;e.list=s,e.totalItems=a,e.isLoading=!1}),de()(ys,qs.SET_META.REQUEST,function(e){e.isLoading=!0}),de()(ys,qs.SET_META.FAIL,function(e){e.isLoading=!1}),de()(ys,qs.SET_META.SUCCESS,function(e){e.isLoading=!1}),ys),state:{list:[],isLoading:!1}};a.default.use(f.a);var Qs=new f.a.Store({modules:{service:xs,settings:Kt,dbs:As,namespaces:Fs,items:js,metas:$s,toast:Object(g.createModule)({dismissInterval:5e3}),suggest:Os},strict:!1,plugins:[]}),Xs=s("Tqaz"),Gs=s("efYS"),Hs=s.n(Gs),Vs=s("wYzO"),Ys=s.n(Vs),Js=s("rifk"),Ws=s.n(Js),Ks=s("NOBz"),Zs=s("x4/L"),ea=s.n(Zs),ta=s("C/JF"),sa=s("fhbW"),aa=s("1e6/"),na=s("K97M"),ia=s.n(na),ra=(s("NbQv"),s("Dukv"),s("Jmt5"),s("9M+g"),s("hRG5"),s("M/VQ"),{install:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={$vm:null,state:{},data:u()({},t),init:function(e){this.$vm=e},show:function(e){this.$vm&&v.$emit("show",e)}};s.init(v),e.component("Modal",y),e.prototype.$cmodal=s}});s("sz3z");ta.c.add(sa.b,sa.c,sa.d,sa.a),a.default.component("font-awesome-icon",aa.a),a.default.component("vue-simple-suggest",Ks.a),a.default.config.productionTip=!1,a.default.use(Xs.a),a.default.use(Hs.a),a.default.use(ra),a.default.use(Ys.a),a.default.use(Ws.a,{componentName:"v-modal",dialog:!0,dynamic:!0}),a.default.use(ea.a),a.default.use(ia.a),a.default.prototype.$watchAll=function(e,t){var s=this;e.forEach(function(e){s.$watch(e,t)})},a.default.directive("focus",{inserted:function(e){e.focus()}}),a.default.config.productionTip=!1,new a.default({el:"#app",router:zt,store:Qs,template:"<App/>",components:{App:i}})},OIRx:function(e,t){},UsOl:function(e,t){},YpUx:function(e,t){},Z5Xi:function(e,t){},bSe5:function(e,t){},bnvi:function(e,t){},"csa/":function(e,t){},dP9L:function(e,t){},euL0:function(e,t){},l809:function(e,t){},leD0:function(e,t){},mj8Y:function(e,t,s){var a={"./af":"el6m","./af.js":"el6m","./ar":"k/LX","./ar-dz":"8sQJ","./ar-dz.js":"8sQJ","./ar-kw":"Ypiv","./ar-kw.js":"Ypiv","./ar-ly":"vFBa","./ar-ly.js":"vFBa","./ar-ma":"5srG","./ar-ma.js":"5srG","./ar-sa":"OWdl","./ar-sa.js":"OWdl","./ar-tn":"zbnz","./ar-tn.js":"zbnz","./ar.js":"k/LX","./az":"+TbT","./az.js":"+TbT","./be":"I3+K","./be.js":"I3+K","./bg":"6pzG","./bg.js":"6pzG","./bm":"XaRw","./bm.js":"XaRw","./bn":"BSxz","./bn.js":"BSxz","./bo":"xZM4","./bo.js":"xZM4","./br":"z7xq","./br.js":"z7xq","./bs":"CRbE","./bs.js":"CRbE","./ca":"vtJn","./ca.js":"vtJn","./cs":"50M2","./cs.js":"50M2","./cv":"imKR","./cv.js":"imKR","./cy":"0GzN","./cy.js":"0GzN","./da":"w5+c","./da.js":"w5+c","./de":"EVTu","./de-at":"nG3g","./de-at.js":"nG3g","./de-ch":"Yt6q","./de-ch.js":"Yt6q","./de.js":"EVTu","./dv":"qtbI","./dv.js":"qtbI","./el":"5alt","./el.js":"5alt","./en-au":"z0Rx","./en-au.js":"z0Rx","./en-ca":"3NXy","./en-ca.js":"3NXy","./en-gb":"+etJ","./en-gb.js":"+etJ","./en-ie":"9aRM","./en-ie.js":"9aRM","./en-il":"FSWH","./en-il.js":"FSWH","./en-nz":"nuu6","./en-nz.js":"nuu6","./eo":"ScLw","./eo.js":"ScLw","./es":"dvvA","./es-do":"yg1m","./es-do.js":"yg1m","./es-us":"iYIl","./es-us.js":"iYIl","./es.js":"dvvA","./et":"0unr","./et.js":"0unr","./eu":"RwsK","./eu.js":"RwsK","./fa":"0MmL","./fa.js":"0MmL","./fi":"3jre","./fi.js":"3jre","./fo":"wY+L","./fo.js":"wY+L","./fr":"khqN","./fr-ca":"bEN0","./fr-ca.js":"bEN0","./fr-ch":"S4fe","./fr-ch.js":"S4fe","./fr.js":"khqN","./fy":"1XdY","./fy.js":"1XdY","./gd":"Q4Vj","./gd.js":"Q4Vj","./gl":"ZUnQ","./gl.js":"ZUnQ","./gom-latn":"4dEw","./gom-latn.js":"4dEw","./gu":"YpSa","./gu.js":"YpSa","./he":"9PWd","./he.js":"9PWd","./hi":"d8Wo","./hi.js":"d8Wo","./hr":"YkY+","./hr.js":"YkY+","./hu":"79Lb","./hu.js":"79Lb","./hy-am":"DMpe","./hy-am.js":"DMpe","./id":"Ibyo","./id.js":"Ibyo","./is":"L3mU","./is.js":"L3mU","./it":"9XIi","./it.js":"9XIi","./ja":"x5kd","./ja.js":"x5kd","./jv":"30df","./jv.js":"30df","./ka":"JI1o","./ka.js":"JI1o","./kk":"HJwE","./kk.js":"HJwE","./km":"OTi2","./km.js":"OTi2","./kn":"2230","./kn.js":"2230","./ko":"dDkv","./ko.js":"dDkv","./ku":"L83Z","./ku.js":"L83Z","./ky":"PHd1","./ky.js":"PHd1","./lb":"vxmX","./lb.js":"vxmX","./lo":"K877","./lo.js":"K877","./lt":"Zk7u","./lt.js":"Zk7u","./lv":"JOTR","./lv.js":"JOTR","./me":"Ex1I","./me.js":"Ex1I","./mi":"jjiy","./mi.js":"jjiy","./mk":"gWcD","./mk.js":"gWcD","./ml":"kBLj","./ml.js":"kBLj","./mn":"k+VG","./mn.js":"k+VG","./mr":"V2NI","./mr.js":"V2NI","./ms":"KQOe","./ms-my":"POgm","./ms-my.js":"POgm","./ms.js":"KQOe","./mt":"mxKv","./mt.js":"mxKv","./my":"ZAKQ","./my.js":"ZAKQ","./nb":"MQ71","./nb.js":"MQ71","./ne":"PefK","./ne.js":"PefK","./nl":"aSId","./nl-be":"Fpiv","./nl-be.js":"Fpiv","./nl.js":"aSId","./nn":"YpEG","./nn.js":"YpEG","./pa-in":"r+L2","./pa-in.js":"r+L2","./pl":"eXAp","./pl.js":"eXAp","./pt":"I4bD","./pt-br":"iAmb","./pt-br.js":"iAmb","./pt.js":"I4bD","./ro":"tXyB","./ro.js":"tXyB","./ru":"ngkl","./ru.js":"ngkl","./sd":"OWeY","./sd.js":"OWeY","./se":"+EdD","./se.js":"+EdD","./si":"gaPs","./si.js":"gaPs","./sk":"jUKU","./sk.js":"jUKU","./sl":"DQFe","./sl.js":"DQFe","./sq":"M7V7","./sq.js":"M7V7","./sr":"bzhX","./sr-cyrl":"33c5","./sr-cyrl.js":"33c5","./sr.js":"bzhX","./ss":"NejB","./ss.js":"NejB","./sv":"w+2E","./sv.js":"w+2E","./sw":"Dll1","./sw.js":"Dll1","./ta":"jbxT","./ta.js":"jbxT","./te":"jB/5","./te.js":"jB/5","./tet":"VbPC","./tet.js":"VbPC","./tg":"7sF4","./tg.js":"7sF4","./th":"nLNk","./th.js":"nLNk","./tl-ph":"mfkQ","./tl-ph.js":"mfkQ","./tlh":"jXJl","./tlh.js":"jXJl","./tr":"92cT","./tr.js":"92cT","./tzl":"5MIk","./tzl.js":"5MIk","./tzm":"0vIq","./tzm-latn":"3+Cq","./tzm-latn.js":"3+Cq","./tzm.js":"0vIq","./ug-cn":"ktU2","./ug-cn.js":"ktU2","./uk":"Hd7b","./uk.js":"Hd7b","./ur":"XtGu","./ur.js":"XtGu","./uz":"uRCu","./uz-latn":"1AHx","./uz-latn.js":"1AHx","./uz.js":"uRCu","./vi":"FB03","./vi.js":"FB03","./x-pseudo":"APXS","./x-pseudo.js":"APXS","./yo":"/1ch","./yo.js":"/1ch","./zh-cn":"yEKL","./zh-cn.js":"yEKL","./zh-hk":"sjvb","./zh-hk.js":"sjvb","./zh-tw":"f55z","./zh-tw.js":"f55z"};function n(e){return s(i(e))}function i(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="mj8Y"},mxeB:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAMAAAChHKjRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACslBMVEUAAADwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCb1lB7zeSLwXCbwXCbwXCb1lB7wXSbwXCbwXCbwXCb1lB71lB7wXCbwXCb1lB71lB7ycyPwXCbwXCb1lB71lB71lB7wXCbwXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCb1lB71lB71lB71lB7wXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCb1lB71lB7wXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCbz6BHz6BH1lB71lB71lB7wXCbwXCbwXCbz6BHz6BH1lB71lB7wXCbz6BHz6BH1lB71lB7wXCbwXCbwXCbz6BHz6BH1lB71lB71lB71lB7wXCbwXCbwXCbz6BHz6BHz6BH1lB71lB71lB71lB7wXCbwXCbwXCbwXCbz6BHz6BHz1BT1lB71lB71lB7wXCbwXCbwXCbwXCbz6BHz6BHz6BHz6BH1lB71lB71lB71lB7wXCbwXCbz6BHz6BHz2hP1lB71lB71lB7wXCbwXCbwXCbz6BHz6BHz6BHz6BH1lB7z6BHz6BHz6BH1lB71lB71lB7wXCbwXCbwXCbwXCbyuhjz4hLz6BH1lB71lB71lB71lB7wXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCb1lB71lB71lB7wXCbwXCbwXCbwXCbwXCbwXCbwXybzfyH1lB7wXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCbwXCYAKkYAKkYAKkYAKkYAKkbwXCb1lB7z6BH///9KXAc2AAAA4nRSTlMAASsNBmdQB4GtAgR+90ACAVrdECof6LUFPySMnhl9DuWWAX5VKPunAx3QJzn91g5o1RI//kcEtMgGLPy+EOvDDO5eLwey5jBY4RxLzhsBFXL8VAi5FBs0vQszWC9ZbG36kaUrKP3yRAquZRPWSAjP6jsa1PA84JQCc/7kMezKFg7Q7CMb290zXIeSqwX7yxSh7TIq6vtmgFDTCx/S5aT4Jw8nQgIlzvUOaW+T0cyvdzgal99hmfPy0otEJBiX3OS3kIm8uAli9deEFcCYaGpzenhWNhNdyUGa380iSgMSAQ8GX2aG2wAAAAFiS0dE5VhlC78AAAAHdElNRQfhDBgRNi9+uJWdAAAB/ElEQVQ4y2NgQAeMTMwMhAALKxtBNewcnFyE1HDz8PIRUMIvIMgrJExAjYio2CNxCfyKJKWkHz2SYcSrRlZOXuHRI0W8apSUVVTVHj1S18CnSFNLW0f30SM9fXyKDAyNjIGKTEzxqDEzt7C0sn706JENN25Ftnb2/A6OQEW6TrgVOT+2cGFwBSp65OaOU5HHY08vBm9dkCofX+xK/PwDHgcGMQSHgBQ9Eg/FqigsPODx44hIhigxkCITdaxJKjom9vHjwDglrvgEsKpELOnFLyk5JfXx47R0hoxMsIUJWZiKsnNy8/IfP35cUKhUVAxWVVKK6aSy8orKKqCqakmlmlqwqrp6dEUNjU3NLa1ARY/b2hk6IM7qRI9pv64n3T0GvSBVff3sE8BGTZyEbtTkKVOnRZqDFD2ezmA1EawKM9HMKJs5a/YckKK5ZlzzwIrmL0BTo7Fw0eIlDEuXARUtX8GwEqzo0SpUNcyr16xdt35DxsZNbZunKzFsMQEr2oqqyH0bSHD7jp27du8xY2CBuPzRXlRFRfsgwo/m7z9w8NDhBAhHEM1NHdseoQPdI0fRFHEdc0RVcvzEyVOY0cd3GpTAE86cPXf+wsX4S5evYE1S+lev6T7SVcSbo4Dg6PUbN4/f8iZQGAAD9bbpyjsEVQ0icPfefQTnwUM0WQBFhxKT8nbd+AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0xMi0yNFQxNzo1NDo0NyswMTowMG/vPH8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMTItMjRUMTc6NTQ6NDcrMDE6MDAesoTDAAAAHXRFWHRqaXJhLXN5c3RlbS1pbWFnZS10eXBlAGF2YXRhcuQCGmEAAAAASUVORK5CYII="},sz3z:function(e,t){},uslO:function(e,t,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(e){return s(i(e))}function i(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="uslO"},uv5y:function(e,t){},yGi1:function(e,t){}},["NHnr"]);